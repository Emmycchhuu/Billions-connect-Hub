(()=>{var e={"+OeT":(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer,i=r("E+tL"),o=r("Q1gw"),s=r("63Q3");function a(e){var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var u=a(i);const c="Expected Private",f="Expected Point",l="Expected Tweak",h="Expected Signature",d="Expected Extra Data (32 bytes)",p="Expected Scalar";u.utils.hmacSha256Sync=(e,...t)=>o.hmac(s.sha256,e,u.utils.concatBytes(...t)),u.utils.sha256Sync=(...e)=>s.sha256(u.utils.concatBytes(...e));const g=u.utils._normalizePrivateKey,y=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65]),m=new Uint8Array(32),b=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,69,81,35,25,80,183,95,196,64,45,161,114,47,201,186,238]);function w(e,t){for(let r=0;r<32;++r)if(e[r]!==t[r])return e[r]<t[r]?-1:1;return 0}function v(e){return 0===w(e,m)}function _(e){return e instanceof Uint8Array&&32===e.length&&!(w(e,y)>=0)}function S(e){return e instanceof Uint8Array&&64===e.length&&w(e.subarray(0,32),y)<0&&w(e.subarray(32,64),y)<0}function E(e){return e instanceof Uint8Array&&64===e.length&&w(e.subarray(0,32),b)<0}function A(e){return e instanceof Uint8Array&&32===e.length}function x(e){return void 0===e||e instanceof Uint8Array&&32===e.length}function k(e){if("string"!==typeof e)throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function T(e){let t;if("bigint"===typeof e)t=e;else if("number"===typeof e&&Number.isSafeInteger(e)&&e>=0)t=BigInt(e);else if("string"===typeof e){if(64!==e.length)throw new Error("Expected 32 bytes of private scalar");t=k(e)}else{if(!(e instanceof Uint8Array))throw new TypeError("Expected valid private scalar");if(32!==e.length)throw new Error("Expected 32 bytes of private scalar");r=e,t=k(u.utils.bytesToHex(r))}var r;if(t<0)throw new Error("Expected private scalar >= 0");return t}const I=(e,t,r)=>{const n=u.Point.fromHex(e),i=T(t),o=u.Point.BASE.multiplyAndAddUnsafe(n,i,BigInt(1));if(!o)throw new Error("Tweaked point at infinity");return o.toRawBytes(r)};function M(e,t){return void 0===e?void 0===t||C(t):!!e}function P(e){try{return e()}catch(t){return null}}function B(e,t){if(32===e.length!==t)return!1;try{return!!u.Point.fromHex(e)}catch(r){return!1}}function O(e){return B(e,!1)}function C(e){return B(e,!1)&&33===e.length}function U(e){return u.utils.isValidPrivateKey(e)}function N(e){return B(e,!0)}function R(e){if(!O(e))throw new Error(f);return e.slice(1,33)}function L(e,t){if(!U(e))throw new Error(c);return P((()=>u.getPublicKey(e,M(t))))}t.isPoint=O,t.isPointCompressed=C,t.isPrivate=U,t.isXOnlyPoint=N,t.pointAdd=function(e,t,r){if(!O(e)||!O(t))throw new Error(f);return P((()=>{const n=u.Point.fromHex(e),i=u.Point.fromHex(t);return n.equals(i.negate())?null:n.add(i).toRawBytes(M(r,e))}))},t.pointAddScalar=function(e,t,r){if(!O(e))throw new Error(f);if(!_(t))throw new Error(l);return P((()=>I(e,t,M(r,e))))},t.pointCompress=function(e,t){if(!O(e))throw new Error(f);return u.Point.fromHex(e).toRawBytes(M(t,e))},t.pointFromScalar=L,t.pointMultiply=function(e,t,r){if(!O(e))throw new Error(f);if(!_(t))throw new Error(l);return P((()=>((e,t,r)=>{const n=u.Point.fromHex(e),i="string"===typeof t?t:u.utils.bytesToHex(t),o=BigInt(`0x${i}`);return n.multiply(o).toRawBytes(r)})(e,t,M(r,e))))},t.privateAdd=function(e,t){if(!1===U(e))throw new Error(c);if(!1===_(t))throw new Error(l);return P((()=>((e,t)=>{const r=g(e),n=T(t),i=u.utils._bigintTo32Bytes(u.utils.mod(r+n,u.CURVE.n));return u.utils.isValidPrivateKey(i)?i:null})(e,t)))},t.privateNegate=function(e){if(!1===U(e))throw new Error(c);return(e=>{const t=g(e),r=u.utils._bigintTo32Bytes(u.CURVE.n-t);return u.utils.isValidPrivateKey(r)?r:null})(e)},t.privateSub=function(e,t){if(!1===U(e))throw new Error(c);if(!1===_(t))throw new Error(l);return P((()=>((e,t)=>{const r=g(e),n=T(t),i=u.utils._bigintTo32Bytes(u.utils.mod(r-n,u.CURVE.n));return u.utils.isValidPrivateKey(i)?i:null})(e,t)))},t.recover=function(e,t,r,n){if(!A(e))throw new Error("Expected Hash");if(!S(t)||!function(e){return!(v(e.subarray(0,32))||v(e.subarray(32,64)))}(t))throw new Error(h);if(2&r&&!E(t))throw new Error("Bad Recovery Id");if(!N(t.subarray(0,32)))throw new Error(h);return u.recoverPublicKey(e,t,r,M(n))},t.sign=function(e,t,r){if(!U(t))throw new Error(c);if(!A(e))throw new Error(p);if(!x(r))throw new Error(d);return u.signSync(e,t,{der:!1,extraEntropy:r})},t.signRecoverable=function(e,t,r){if(!U(t))throw new Error(c);if(!A(e))throw new Error(p);if(!x(r))throw new Error(d);const[n,i]=u.signSync(e,t,{der:!1,extraEntropy:r,recovered:!0});return{signature:n,recoveryId:i}},t.signSchnorr=function(e,t,r=n.alloc(32,0)){if(!U(t))throw new Error(c);if(!A(e))throw new Error(p);if(!x(r))throw new Error(d);return u.schnorr.signSync(e,t,r)},t.verify=function(e,t,r,n){if(!O(t))throw new Error(f);if(!S(r))throw new Error(h);if(!A(e))throw new Error(p);return u.verify(r,e,t,{strict:n})},t.verifySchnorr=function(e,t,r){if(!N(t))throw new Error(f);if(!S(r))throw new Error(h);if(!A(e))throw new Error(p);return u.schnorr.verifySync(r,e,t)},t.xOnlyPointAddTweak=function(e,t){if(!N(e))throw new Error(f);if(!_(t))throw new Error(l);return P((()=>{const r=I(e,t,!0);return{parity:r[0]%2===1?1:0,xOnlyPubkey:r.slice(1)}}))},t.xOnlyPointFromPoint=R,t.xOnlyPointFromScalar=function(e){if(!U(e))throw new Error(c);return R(L(e))}},ob4w:function(e,t,r){"use strict";var n=r("Dp+g").Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.getEncryptionPublicKey=t.decryptSafely=t.decrypt=t.encryptSafely=t.encrypt=void 0;const a=s(r("8hvg")),u=s(r("rTtg")),c=r("cLZb");function f({publicKey:e,data:t,version:r}){if(c.isNullish(e))throw new Error("Missing publicKey parameter");if(c.isNullish(t))throw new Error("Missing data parameter");if(c.isNullish(r))throw new Error("Missing version parameter");if("x25519-xsalsa20-poly1305"===r){if("string"!==typeof t)throw new Error("Message data must be given as a string");const r=a.box.keyPair();let i;try{i=u.decodeBase64(e)}catch(n){throw new Error("Bad public key")}const o=u.decodeUTF8(t),s=a.randomBytes(a.box.nonceLength),c=a.box(o,s,i,r.secretKey);return{version:"x25519-xsalsa20-poly1305",nonce:u.encodeBase64(s),ephemPublicKey:u.encodeBase64(r.publicKey),ciphertext:u.encodeBase64(c)}}throw new Error("Encryption type/version not supported")}function l({encryptedData:e,privateKey:t}){if(c.isNullish(e))throw new Error("Missing encryptedData parameter");if(c.isNullish(t))throw new Error("Missing privateKey parameter");if("x25519-xsalsa20-poly1305"===e.version){const n=h(t),i=a.box.keyPair.fromSecretKey(n).secretKey,o=u.decodeBase64(e.nonce),s=u.decodeBase64(e.ciphertext),c=u.decodeBase64(e.ephemPublicKey),f=a.box.open(s,o,c,i);let l;try{l=u.encodeUTF8(f)}catch(r){throw new Error("Decryption failed.")}if(l)return l;throw new Error("Decryption failed.")}throw new Error("Encryption type/version not supported.")}function h(e){const t=n.from(e,"hex").toString("base64");return u.decodeBase64(t)}t.encrypt=f,t.encryptSafely=function({publicKey:e,data:t,version:r}){if(c.isNullish(e))throw new Error("Missing publicKey parameter");if(c.isNullish(t))throw new Error("Missing data parameter");if(c.isNullish(r))throw new Error("Missing version parameter");if("object"===typeof t&&"toJSON"in t)throw new Error("Cannot encrypt with toJSON property.  Please remove toJSON property");const i={data:t,padding:""},o=n.byteLength(JSON.stringify(i),"utf-8")%2048;let s=0;return o>0&&(s=2048-o-16),i.padding="0".repeat(s),f({publicKey:e,data:JSON.stringify(i),version:r})},t.decrypt=l,t.decryptSafely=function({encryptedData:e,privateKey:t}){if(c.isNullish(e))throw new Error("Missing encryptedData parameter");if(c.isNullish(t))throw new Error("Missing privateKey parameter");return JSON.parse(l({encryptedData:e,privateKey:t})).data},t.getEncryptionPublicKey=function(e){const t=h(e),r=a.box.keyPair.fromSecretKey(t).publicKey;return u.encodeBase64(r)}},sG0q:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.normalize=t.concatSig=void 0,i(r("9uzl"),t),i(r("ji/e"),t),i(r("ob4w"),t);var o=r("cLZb");Object.defineProperty(t,"concatSig",{enumerable:!0,get:function(){return o.concatSig}}),Object.defineProperty(t,"normalize",{enumerable:!0,get:function(){return o.normalize}})},"9uzl":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extractPublicKey=t.recoverPersonalSignature=t.personalSign=void 0;const n=r("ydGz"),i=r("cLZb");function o(e,t){const r=n.hashPersonalMessage(i.legacyToBuffer(e));return i.recoverPublicKey(r,t)}t.personalSign=function({privateKey:e,data:t}){if(i.isNullish(t))throw new Error("Missing data parameter");if(i.isNullish(e))throw new Error("Missing privateKey parameter");const r=i.legacyToBuffer(t),o=n.hashPersonalMessage(r),s=n.ecsign(o,e);return i.concatSig(n.toBuffer(s.v),s.r,s.s)},t.recoverPersonalSignature=function({data:e,signature:t}){if(i.isNullish(e))throw new Error("Missing data parameter");if(i.isNullish(t))throw new Error("Missing signature parameter");const r=o(e,t),s=n.publicToAddress(r);return n.bufferToHex(s)},t.extractPublicKey=function({data:e,signature:t}){if(i.isNullish(e))throw new Error("Missing data parameter");if(i.isNullish(t))throw new Error("Missing signature parameter");return`0x${o(e,t).toString("hex")}`}},"ji/e":(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.recoverTypedSignature=t.signTypedData=t.typedSignatureHash=t.TypedDataUtils=t.TYPED_MESSAGE_SCHEMA=t.SignTypedDataVersion=void 0;const i=r("ydGz"),o=r("lg2E"),s=r("cLZb");var a;function u(e,t){if(!Object.keys(a).includes(e))throw new Error(`Invalid version: '${e}'`);if(t&&!t.includes(e))throw new Error(`SignTypedDataVersion not allowed: '${e}'. Allowed versions are: ${t.join(", ")}`)}function c(e,t,r,s,l){if(u(l,[a.V3,a.V4]),void 0!==e[r])return["bytes32",l===a.V4&&null==s?"0x0000000000000000000000000000000000000000000000000000000000000000":i.keccak(f(r,s,e,l))];if(void 0===s)throw new Error(`missing value for field ${t} of type ${r}`);if("bytes"===r)return["bytes32",i.keccak(s)];if("string"===r)return"string"===typeof s&&(s=n.from(s,"utf8")),["bytes32",i.keccak(s)];if(r.lastIndexOf("]")===r.length-1){if(l===a.V3)throw new Error("Arrays are unimplemented in encodeData; use V4 extension");const n=r.slice(0,r.lastIndexOf("[")),u=s.map((r=>c(e,t,n,r,l)));return["bytes32",i.keccak(o.rawEncode(u.map((([e])=>e)),u.map((([,e])=>e))))]}return[r,s]}function f(e,t,r,n){u(n,[a.V3,a.V4]);const i=["bytes32"],s=[p(e,r)];for(const o of r[e]){if(n===a.V3&&void 0===t[o.name])continue;const[e,u]=c(r,o.name,o.type,t[o.name],n);i.push(e),s.push(u)}return o.rawEncode(i,s)}function l(e,t){let r="";const n=h(e,t);n.delete(e);const i=[e,...Array.from(n).sort()];for(const o of i){if(!t[o])throw new Error(`No type definition specified: ${o}`);r+=`${o}(${t[o].map((({name:e,type:t})=>`${t} ${e}`)).join(",")})`}return r}function h(e,t,r=new Set){if([e]=e.match(/^\w*/u),r.has(e)||void 0===t[e])return r;r.add(e);for(const n of t[e])h(n.type,t,r);return r}function d(e,t,r,n){return u(n,[a.V3,a.V4]),i.keccak(f(e,t,r,n))}function p(e,t){return i.keccak(l(e,t))}function g(e){const r={};for(const n in t.TYPED_MESSAGE_SCHEMA.properties)e[n]&&(r[n]=e[n]);return"types"in r&&(r.types=Object.assign({EIP712Domain:[]},r.types)),r}function y(e){const t=new Error("Expect argument to be non-empty array");if("object"!==typeof e||!("length"in e)||!e.length)throw t;const r=e.map((function(e){return"bytes"!==e.type?e.value:s.legacyToBuffer(e.value)})),n=e.map((function(e){return e.type})),i=e.map((function(e){if(!e.name)throw t;return`${e.type} ${e.name}`}));return o.soliditySHA3(["bytes32","bytes32"],[o.soliditySHA3(new Array(e.length).fill("string"),i),o.soliditySHA3(n,r)])}!function(e){e.V1="V1",e.V3="V3",e.V4="V4"}(a=t.SignTypedDataVersion||(t.SignTypedDataVersion={})),t.TYPED_MESSAGE_SCHEMA={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},t.TypedDataUtils={encodeData:f,encodeType:l,findTypeDependencies:h,hashStruct:d,hashType:p,sanitizeData:g,eip712Hash:function(e,t){u(t,[a.V3,a.V4]);const r=g(e),o=[n.from("1901","hex")];return o.push(d("EIP712Domain",r.domain,r.types,t)),"EIP712Domain"!==r.primaryType&&o.push(d(r.primaryType,r.message,r.types,t)),i.keccak(n.concat(o))}},t.typedSignatureHash=function(e){const t=y(e);return i.bufferToHex(t)},t.signTypedData=function({privateKey:e,data:r,version:n}){if(u(n),s.isNullish(r))throw new Error("Missing data parameter");if(s.isNullish(e))throw new Error("Missing private key parameter");const o=n===a.V1?y(r):t.TypedDataUtils.eip712Hash(r,n),c=i.ecsign(o,e);return s.concatSig(i.toBuffer(c.v),c.r,c.s)},t.recoverTypedSignature=function({data:e,signature:r,version:n}){if(u(n),s.isNullish(e))throw new Error("Missing data parameter");if(s.isNullish(r))throw new Error("Missing signature parameter");const o=n===a.V1?y(e):t.TypedDataUtils.eip712Hash(e,n),c=s.recoverPublicKey(o,r),f=i.publicToAddress(c);return i.bufferToHex(f)}},cLZb:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.normalize=t.recoverPublicKey=t.concatSig=t.legacyToBuffer=t.isNullish=t.padWithZeroes=void 0;const i=r("ydGz"),o=r("1mN/");function s(e,t){if(""!==e&&!/^[a-f0-9]+$/iu.test(e))throw new Error(`Expected an unprefixed hex string. Received: ${e}`);if(t<0)throw new Error(`Expected a non-negative integer target length. Received: ${t}`);return String.prototype.padStart.call(e,t,"0")}t.padWithZeroes=s,t.isNullish=function(e){return null===e||void 0===e},t.legacyToBuffer=function(e){return"string"!==typeof e||o.isHexString(e)?i.toBuffer(e):n.from(e)},t.concatSig=function(e,t,r){const n=i.fromSigned(t),a=i.fromSigned(r),u=i.bufferToInt(e),c=s(i.toUnsigned(n).toString("hex"),64),f=s(i.toUnsigned(a).toString("hex"),64),l=o.stripHexPrefix(o.intToHex(u));return i.addHexPrefix(c.concat(f,l))},t.recoverPublicKey=function(e,t){const r=i.fromRpcSig(t);return i.ecrecover(e,r.v,r.r,r.s)},t.normalize=function(e){if(e){if("number"===typeof e){const t=i.toBuffer(e);e=i.bufferToHex(t)}if("string"!==typeof e){let t="eth-sig-util.normalize() requires hex string or integer input.";throw t+=` received ${typeof e}: ${e}`,new Error(t)}return i.addHexPrefix(e.toLowerCase())}}},"f+zb":(e,t)=>{"use strict";function r(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function n(e){if("boolean"!==typeof e)throw new Error(`boolean expected, not ${e}`)}function i(e){return e instanceof Uint8Array||null!=e&&"object"===typeof e&&"Uint8Array"===e.constructor.name}function o(e,...t){if(!i(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function s(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");r(e.outputLen),r(e.blockLen)}function a(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function u(e,t){o(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}Object.defineProperty(t,"__esModule",{value:!0}),t.isBytes=i,t.number=r,t.bool=n,t.bytes=o,t.hash=s,t.exists=a,t.output=u;const c={number:r,bool:n,bytes:o,hash:s,exists:a,output:u};t.default=c},"p/1K":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HashMD=t.Maj=t.Chi=void 0;const n=r("f+zb"),i=r("Vexo");t.Chi=(e,t,r)=>e&t^~e&r;t.Maj=(e,t,r)=>e&t^e&r^t&r;class o extends i.Hash{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,i.createView)(this.buffer)}update(e){(0,n.exists)(this);const{view:t,buffer:r,blockLen:o}=this,s=(e=(0,i.toBytes)(e)).length;for(let n=0;n<s;){const a=Math.min(o-this.pos,s-n);if(a!==o)r.set(e.subarray(n,n+a),this.pos),this.pos+=a,n+=a,this.pos===o&&(this.process(t,0),this.pos=0);else{const t=(0,i.createView)(e);for(;o<=s-n;n+=o)this.process(t,n)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){(0,n.exists)(this),(0,n.output)(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:o,isLE:s}=this;let{pos:a}=this;t[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(r,0),a=0);for(let n=a;n<o;n++)t[n]=0;!function(e,t,r,n){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),u=n?4:0,c=n?0:4;e.setUint32(t+u,s,n),e.setUint32(t+c,a,n)}(r,o-8,BigInt(8*this.length),s),this.process(r,0);const u=(0,i.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=c/4,l=this.get();if(f>l.length)throw new Error("_sha2: outputLen bigger than state");for(let n=0;n<f;n++)u.setUint32(4*n,l[n],s)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}}t.HashMD=o},rsfV:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crypto=void 0,t.crypto="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0},Q1gw:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=t.HMAC=void 0;const n=r("f+zb"),i=r("Vexo");class o extends i.Hash{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,(0,n.hash)(e);const r=(0,i.toBytes)(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const o=this.blockLen,s=new Uint8Array(o);s.set(r.length>o?e.create().update(r).digest():r);for(let n=0;n<s.length;n++)s[n]^=54;this.iHash.update(s),this.oHash=e.create();for(let n=0;n<s.length;n++)s[n]^=106;this.oHash.update(s),s.fill(0)}update(e){return(0,n.exists)(this),this.iHash.update(e),this}digestInto(e){(0,n.exists)(this),(0,n.bytes)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.HMAC=o;t.hmac=(e,t,r)=>new o(e,t).update(r).digest(),t.hmac.create=(e,t)=>new o(e,t)},eyGK:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ripemd160=t.RIPEMD160=void 0;const n=r("p/1K"),i=r("Vexo"),o=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),s=new Uint8Array(new Array(16).fill(0).map(((e,t)=>t)));let a=[s],u=[s.map((e=>(9*e+5)%16))];for(let m=0;m<4;m++)for(let e of[a,u])e.push(e[m].map((e=>o[e])));const c=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((e=>new Uint8Array(e))),f=a.map(((e,t)=>e.map((e=>c[t][e])))),l=u.map(((e,t)=>e.map((e=>c[t][e])))),h=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),d=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);function p(e,t,r,n){return 0===e?t^r^n:1===e?t&r|~t&n:2===e?(t|~r)^n:3===e?t&n|r&~n:t^(r|~n)}const g=new Uint32Array(16);class y extends n.HashMD{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:r,h3:n,h4:i}=this;return[e,t,r,n,i]}set(e,t,r,n,i){this.h0=0|e,this.h1=0|t,this.h2=0|r,this.h3=0|n,this.h4=0|i}process(e,t){for(let i=0;i<16;i++,t+=4)g[i]=e.getUint32(t,!0);let r=0|this.h0,n=r,o=0|this.h1,s=o,c=0|this.h2,y=c,m=0|this.h3,b=m,w=0|this.h4,v=w;for(let _=0;_<5;_++){const e=4-_,t=h[_],S=d[_],E=a[_],A=u[_],x=f[_],k=l[_];for(let n=0;n<16;n++){const e=(0,i.rotl)(r+p(_,o,c,m)+g[E[n]]+t,x[n])+w|0;r=w,w=m,m=0|(0,i.rotl)(c,10),c=o,o=e}for(let r=0;r<16;r++){const t=(0,i.rotl)(n+p(e,s,y,b)+g[A[r]]+S,k[r])+v|0;n=v,v=b,b=0|(0,i.rotl)(y,10),y=s,s=t}}this.set(this.h1+c+b|0,this.h2+m+v|0,this.h3+w+n|0,this.h4+r+s|0,this.h0+o+y|0)}roundClean(){g.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}t.RIPEMD160=y,t.ripemd160=(0,i.wrapConstructor)((()=>new y))},cIiJ:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha1=t.SHA1=void 0;const n=r("p/1K"),i=r("Vexo"),o=new Uint32Array([1732584193,4023233417,2562383102,271733878,3285377520]),s=new Uint32Array(80);class a extends n.HashMD{constructor(){super(64,20,8,!1),this.A=0|o[0],this.B=0|o[1],this.C=0|o[2],this.D=0|o[3],this.E=0|o[4]}get(){const{A:e,B:t,C:r,D:n,E:i}=this;return[e,t,r,n,i]}set(e,t,r,n,i){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i}process(e,t){for(let n=0;n<16;n++,t+=4)s[n]=e.getUint32(t,!1);for(let n=16;n<80;n++)s[n]=(0,i.rotl)(s[n-3]^s[n-8]^s[n-14]^s[n-16],1);let{A:r,B:o,C:a,D:u,E:c}=this;for(let f=0;f<80;f++){let e,t;f<20?(e=(0,n.Chi)(o,a,u),t=1518500249):f<40?(e=o^a^u,t=1859775393):f<60?(e=(0,n.Maj)(o,a,u),t=2400959708):(e=o^a^u,t=3395469782);const l=(0,i.rotl)(r,5)+e+c+t+s[f]|0;c=u,u=a,a=(0,i.rotl)(o,30),o=r,r=l}r=r+this.A|0,o=o+this.B|0,a=a+this.C|0,u=u+this.D|0,c=c+this.E|0,this.set(r,o,a,u,c)}roundClean(){s.fill(0)}destroy(){this.set(0,0,0,0,0),this.buffer.fill(0)}}t.SHA1=a,t.sha1=(0,i.wrapConstructor)((()=>new a))},"63Q3":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sha224=t.sha256=t.SHA256=void 0;const n=r("p/1K"),i=r("Vexo"),o=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),s=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),a=new Uint32Array(64);class u extends n.HashMD{constructor(){super(64,32,8,!1),this.A=0|s[0],this.B=0|s[1],this.C=0|s[2],this.D=0|s[3],this.E=0|s[4],this.F=0|s[5],this.G=0|s[6],this.H=0|s[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[e,t,r,n,i,o,s,a]}set(e,t,r,n,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let n=0;n<16;n++,t+=4)a[n]=e.getUint32(t,!1);for(let n=16;n<64;n++){const e=a[n-15],t=a[n-2],r=(0,i.rotr)(e,7)^(0,i.rotr)(e,18)^e>>>3,o=(0,i.rotr)(t,17)^(0,i.rotr)(t,19)^t>>>10;a[n]=o+a[n-7]+r+a[n-16]|0}let{A:r,B:s,C:u,D:c,E:f,F:l,G:h,H:d}=this;for(let p=0;p<64;p++){const e=d+((0,i.rotr)(f,6)^(0,i.rotr)(f,11)^(0,i.rotr)(f,25))+(0,n.Chi)(f,l,h)+o[p]+a[p]|0,t=((0,i.rotr)(r,2)^(0,i.rotr)(r,13)^(0,i.rotr)(r,22))+(0,n.Maj)(r,s,u)|0;d=h,h=l,l=f,f=c+e|0,c=u,u=s,s=r,r=e+t|0}r=r+this.A|0,s=s+this.B|0,u=u+this.C|0,c=c+this.D|0,f=f+this.E|0,l=l+this.F|0,h=h+this.G|0,d=d+this.H|0,this.set(r,s,u,c,f,l,h,d)}roundClean(){a.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}t.SHA256=u;class c extends u{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}t.sha256=(0,i.wrapConstructor)((()=>new u)),t.sha224=(0,i.wrapConstructor)((()=>new c))},Vexo:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Hash=t.nextTick=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=void 0,t.isBytes=function(e){return e instanceof Uint8Array||null!=e&&"object"===typeof e&&"Uint8Array"===e.constructor.name},t.byteSwap32=function(e){for(let r=0;r<e.length;r++)e[r]=(0,t.byteSwap)(e[r])},t.bytesToHex=function(e){(0,i.bytes)(e);let t="";for(let r=0;r<e.length;r++)t+=o[e[r]];return t},t.hexToBytes=function(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){const t=a(e.charCodeAt(o)),r=a(e.charCodeAt(o+1));if(void 0===t||void 0===r){const t=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+o)}n[i]=16*t+r}return n},t.asyncLoop=async function(e,r,n){let i=Date.now();for(let o=0;o<e;o++){n(o);const e=Date.now()-i;e>=0&&e<r||(await(0,t.nextTick)(),i+=e)}},t.utf8ToBytes=u,t.toBytes=c,t.concatBytes=function(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];(0,i.bytes)(r),t+=r.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const t=e[n];r.set(t,i),i+=t.length}return r},t.checkOpts=function(e,t){if(void 0!==t&&"[object Object]"!==f.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)},t.wrapConstructor=function(e){const t=t=>e().update(c(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t},t.wrapConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(c(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},t.wrapXOFConstructorWithOpts=function(e){const t=(t,r)=>e(r).update(c(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t},t.randomBytes=function(e=32){if(n.crypto&&"function"===typeof n.crypto.getRandomValues)return n.crypto.getRandomValues(new Uint8Array(e));if(n.crypto&&"function"===typeof n.crypto.randomBytes)return n.crypto.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")};const n=r("rsfV"),i=r("f+zb");t.u8=e=>new Uint8Array(e.buffer,e.byteOffset,e.byteLength);t.u32=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4));t.createView=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);t.rotr=(e,t)=>e<<32-t|e>>>t;t.rotl=(e,t)=>e<<t|e>>>32-t>>>0,t.isLE=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0];t.byteSwap=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255,t.byteSwapIfBE=t.isLE?e=>e:e=>(0,t.byteSwap)(e);const o=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));const s={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function a(e){return e>=s._0&&e<=s._9?e-s._0:e>=s._A&&e<=s._F?e-(s._A-10):e>=s._a&&e<=s._f?e-(s._a-10):void 0}function u(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function c(e){return"string"===typeof e&&(e=u(e)),(0,i.bytes)(e),e}t.nextTick=async()=>{};t.Hash=class{clone(){return this._cloneInto()}};const f={}.toString},"E+tL":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.utils=t.schnorr=t.verify=t.signSync=t.sign=t.getSharedSecret=t.recoverPublicKey=t.getPublicKey=t.Signature=t.Point=t.CURVE=void 0;const n=r("kESL"),i=BigInt(0),o=BigInt(1),s=BigInt(2),a=BigInt(3),u=BigInt(8),c=Object.freeze({a:i,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:o,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")});t.CURVE=c;const f=(e,t)=>(e+t/s)/t,l={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(e){const{n:t}=c,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-o*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,a=BigInt("0x100000000000000000000000000000000"),u=f(s*e,t),l=f(-n*e,t);let h=L(e-u*r-l*i,t),d=L(-u*n-l*s,t);const p=h>a,g=d>a;if(p&&(h=t-h),g&&(d=t-d),h>a||d>a)throw new Error("splitScalarEndo: Endomorphism failed, k="+e);return{k1neg:p,k1:h,k2neg:g,k2:d}}},h=32,d=32;function p(e){const{a:t,b:r}=c,n=L(e*e),i=L(n*e);return L(i+t*e+r)}const g=c.a===i;class y extends Error{constructor(e){super(e)}}function m(e){if(!(e instanceof b))throw new TypeError("JacobianPoint expected")}class b{constructor(e,t,r){this.x=e,this.y=t,this.z=r}static fromAffine(e){if(!(e instanceof _))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(_.ZERO)?b.ZERO:new b(e.x,e.y,o)}static toAffineBatch(e){const t=function(e,t=c.P){const r=new Array(e.length),n=j(e.reduce(((e,n,o)=>n===i?e:(r[o]=e,L(e*n,t))),o),t);return e.reduceRight(((e,n,o)=>n===i?e:(r[o]=L(e*r[o],t),L(e*n,t))),n),r}(e.map((e=>e.z)));return e.map(((e,r)=>e.toAffine(t[r])))}static normalizeZ(e){return b.toAffineBatch(e).map(b.fromAffine)}equals(e){m(e);const{x:t,y:r,z:n}=this,{x:i,y:o,z:s}=e,a=L(n*n),u=L(s*s),c=L(t*u),f=L(i*a),l=L(L(r*s)*u),h=L(L(o*n)*a);return c===f&&l===h}negate(){return new b(this.x,L(-this.y),this.z)}double(){const{x:e,y:t,z:r}=this,n=L(e*e),i=L(t*t),o=L(i*i),c=e+i,f=L(s*(L(c*c)-n-o)),l=L(a*n),h=L(l*l),d=L(h-s*f),p=L(l*(f-d)-u*o),g=L(s*t*r);return new b(d,p,g)}add(e){m(e);const{x:t,y:r,z:n}=this,{x:o,y:a,z:u}=e;if(o===i||a===i)return this;if(t===i||r===i)return e;const c=L(n*n),f=L(u*u),l=L(t*f),h=L(o*c),d=L(L(r*u)*f),p=L(L(a*n)*c),g=L(h-l),y=L(p-d);if(g===i)return y===i?this.double():b.ZERO;const w=L(g*g),v=L(g*w),_=L(l*w),S=L(y*y-v-s*_),E=L(y*(_-S)-d*v),A=L(n*u*g);return new b(S,E,A)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){const t=b.ZERO;if("bigint"===typeof e&&e===i)return t;let r=R(e);if(r===o)return this;if(!g){let e=t,n=this;for(;r>i;)r&o&&(e=e.add(n)),n=n.double(),r>>=o;return e}let{k1neg:n,k1:s,k2neg:a,k2:u}=l.splitScalar(r),c=t,f=t,h=this;for(;s>i||u>i;)s&o&&(c=c.add(h)),u&o&&(f=f.add(h)),h=h.double(),s>>=o,u>>=o;return n&&(c=c.negate()),a&&(f=f.negate()),f=new b(L(f.x*l.beta),f.y,f.z),c.add(f)}precomputeWindow(e){const t=g?128/e+1:256/e+1,r=[];let n=this,i=n;for(let o=0;o<t;o++){i=n,r.push(i);for(let t=1;t<2**(e-1);t++)i=i.add(n),r.push(i);n=i.double()}return r}wNAF(e,t){!t&&this.equals(b.BASE)&&(t=_.BASE);const r=t&&t._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let n=t&&v.get(t);n||(n=this.precomputeWindow(r),t&&1!==r&&(n=b.normalizeZ(n),v.set(t,n)));let i=b.ZERO,s=b.BASE;const a=1+(g?128/r:256/r),u=2**(r-1),c=BigInt(2**r-1),f=2**r,l=BigInt(r);for(let h=0;h<a;h++){const t=h*u;let r=Number(e&c);e>>=l,r>u&&(r-=f,e+=o);const a=t,d=t+Math.abs(r)-1,p=h%2!==0,g=r<0;0===r?s=s.add(w(p,n[a])):i=i.add(w(g,n[d]))}return{p:i,f:s}}multiply(e,t){let r,n,i=R(e);if(g){const{k1neg:e,k1:o,k2neg:s,k2:a}=l.splitScalar(i);let{p:u,f:c}=this.wNAF(o,t),{p:f,f:h}=this.wNAF(a,t);u=w(e,u),f=w(s,f),f=new b(L(f.x*l.beta),f.y,f.z),r=u.add(f),n=c.add(h)}else{const{p:e,f:o}=this.wNAF(i,t);r=e,n=o}return b.normalizeZ([r,n])[0]}toAffine(e){const{x:t,y:r,z:n}=this,i=this.equals(b.ZERO);null==e&&(e=i?u:j(n));const s=e,a=L(s*s),c=L(a*s),f=L(t*a),l=L(r*c),h=L(n*s);if(i)return _.ZERO;if(h!==o)throw new Error("invZ was invalid");return new _(f,l)}}function w(e,t){const r=t.negate();return e?r:t}b.BASE=new b(c.Gx,c.Gy,o),b.ZERO=new b(i,o,i);const v=new WeakMap;class _{constructor(e,t){this.x=e,this.y=t}_setWindowSize(e){this._WINDOW_SIZE=e,v.delete(this)}hasEvenY(){return this.y%s===i}static fromCompressedHex(e){const t=32===e.length,r=U(t?e:e.subarray(1));if(!W(r))throw new Error("Point is not on curve");let n=function(e){const{P:t}=c,r=BigInt(6),n=BigInt(11),i=BigInt(22),o=BigInt(23),u=BigInt(44),f=BigInt(88),l=e*e*e%t,h=l*l*e%t,d=z(h,a)*h%t,p=z(d,a)*h%t,g=z(p,s)*l%t,y=z(g,n)*g%t,m=z(y,i)*y%t,b=z(m,u)*m%t,w=z(b,f)*b%t,v=z(w,u)*m%t,_=z(v,a)*h%t,S=z(_,o)*y%t,E=z(S,r)*l%t,A=z(E,s);if(A*A%t!==e)throw new Error("Cannot find square root");return A}(p(r));const i=(n&o)===o;if(t)i&&(n=L(-n));else{1===(1&e[0])!==i&&(n=L(-n))}const u=new _(r,n);return u.assertValidity(),u}static fromUncompressedHex(e){const t=U(e.subarray(1,33)),r=U(e.subarray(33,65)),n=new _(t,r);return n.assertValidity(),n}static fromHex(e){const t=N(e),r=t.length,n=t[0];if(r===h)return this.fromCompressedHex(t);if(33===r&&(2===n||3===n))return this.fromCompressedHex(t);if(65===r&&4===n)return this.fromUncompressedHex(t);throw new Error(`Point.fromHex: received invalid point. Expected 32-33 compressed bytes or 65 uncompressed bytes, not ${r}`)}static fromPrivateKey(e){return _.BASE.multiply(V(e))}static fromSignature(e,t,r){const{r:n,s:i}=Z(t);if(![0,1,2,3].includes(r))throw new Error("Cannot recover: invalid recovery bit");const o=D(N(e)),{n:s}=c,a=2===r||3===r?n+s:n,u=j(a,s),f=L(-o*u,s),l=L(i*u,s),h=1&r?"03":"02",d=_.fromHex(h+M(a)),p=_.BASE.multiplyAndAddUnsafe(d,f,l);if(!p)throw new Error("Cannot recover signature: point at infinify");return p.assertValidity(),p}toRawBytes(e=!1){return C(this.toHex(e))}toHex(e=!1){const t=M(this.x);if(e){return`${this.hasEvenY()?"02":"03"}${t}`}return`04${t}${M(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const e="Point is not on elliptic curve",{x:t,y:r}=this;if(!W(t)||!W(r))throw new Error(e);const n=L(r*r);if(L(n-p(t))!==i)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new _(this.x,L(-this.y))}double(){return b.fromAffine(this).double().toAffine()}add(e){return b.fromAffine(this).add(b.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return b.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,t,r){const n=b.fromAffine(this),s=t===i||t===o||this!==_.BASE?n.multiplyUnsafe(t):n.multiply(t),a=b.fromAffine(e).multiplyUnsafe(r),u=s.add(a);return u.equals(b.ZERO)?void 0:u.toAffine()}}function S(e){return Number.parseInt(e[0],16)>=8?"00"+e:e}function E(e){if(e.length<2||2!==e[0])throw new Error(`Invalid signature integer tag: ${T(e)}`);const t=e[1],r=e.subarray(2,t+2);if(!t||r.length!==t)throw new Error("Invalid signature integer: wrong length");if(0===r[0]&&r[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:U(r),left:e.subarray(t+2)}}t.Point=_,_.BASE=new _(c.Gx,c.Gy),_.ZERO=new _(i,i);class A{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromCompact(e){const t=e instanceof Uint8Array,r="Signature.fromCompact";if("string"!==typeof e&&!t)throw new TypeError(`${r}: Expected string or Uint8Array`);const n=t?T(e):e;if(128!==n.length)throw new Error(`${r}: Expected 64-byte hex`);return new A(O(n.slice(0,64)),O(n.slice(64,128)))}static fromDER(e){const t=e instanceof Uint8Array;if("string"!==typeof e&&!t)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:r,s:n}=function(e){if(e.length<2||48!=e[0])throw new Error(`Invalid signature tag: ${T(e)}`);if(e[1]!==e.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:r}=E(e.subarray(2)),{data:n,left:i}=E(r);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${T(i)}`);return{r:t,s:n}}(t?e:C(e));return new A(r,n)}static fromHex(e){return this.fromDER(e)}assertValidity(){const{r:e,s:t}=this;if(!F(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!F(t))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const e=c.n>>o;return this.s>e}normalizeS(){return this.hasHighS()?new A(this.r,L(-this.s,c.n)):this}toDERRawBytes(){return C(this.toDERHex())}toDERHex(){const e=S(B(this.s)),t=S(B(this.r)),r=e.length/2,n=t.length/2,i=B(r),o=B(n);return`30${B(n+r+4)}02${o}${t}02${i}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return C(this.toCompactHex())}toCompactHex(){return M(this.r)+M(this.s)}}function x(...e){if(!e.every((e=>e instanceof Uint8Array)))throw new Error("Uint8Array list expected");if(1===e.length)return e[0];const t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const t=e[n];r.set(t,i),i+=t.length}return r}t.Signature=A;const k=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function T(e){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let r=0;r<e.length;r++)t+=k[e[r]];return t}const I=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function M(e){if("bigint"!==typeof e)throw new Error("Expected bigint");if(!(i<=e&&e<I))throw new Error("Expected number 0 <= n < 2^256");return e.toString(16).padStart(64,"0")}function P(e){const t=C(M(e));if(32!==t.length)throw new Error("Error: expected 32 bytes");return t}function B(e){const t=e.toString(16);return 1&t.length?`0${t}`:t}function O(e){if("string"!==typeof e)throw new TypeError("hexToNumber: expected string, got "+typeof e);return BigInt(`0x${e}`)}function C(e){if("string"!==typeof e)throw new TypeError("hexToBytes: expected string, got "+typeof e);if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+e.length);const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=2*r,i=e.slice(n,n+2),o=Number.parseInt(i,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");t[r]=o}return t}function U(e){return O(T(e))}function N(e){return e instanceof Uint8Array?Uint8Array.from(e):C(e)}function R(e){if("number"===typeof e&&Number.isSafeInteger(e)&&e>0)return BigInt(e);if("bigint"===typeof e&&F(e))return e;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function L(e,t=c.P){const r=e%t;return r>=i?r:t+r}function z(e,t){const{P:r}=c;let n=e;for(;t-- >i;)n*=n,n%=r;return n}function j(e,t=c.P){if(e===i||t<=i)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=L(e,t),n=t,s=i,a=o,u=o,f=i;for(;r!==i;){const e=n/r,t=n%r,i=s-u*e,o=a-f*e;n=r,r=t,s=u,a=f,u=i,f=o}if(n!==o)throw new Error("invert: does not exist");return L(s,t)}function D(e,t=!1){const r=function(e){const t=8*e.length-256,r=U(e);return t>0?r>>BigInt(t):r}(e);if(t)return r;const{n:n}=c;return r>=n?r-n:r}let q,K;class H{constructor(e,t){if(this.hashLen=e,this.qByteLen=t,"number"!==typeof e||e<2)throw new Error("hashLen must be a number");if("number"!==typeof t||t<2)throw new Error("qByteLen must be a number");this.v=new Uint8Array(e).fill(1),this.k=new Uint8Array(e).fill(0),this.counter=0}hmac(...e){return t.utils.hmacSha256(this.k,...e)}hmacSync(...e){return K(this.k,...e)}checkSync(){if("function"!==typeof K)throw new y("hmacSha256Sync needs to be set")}incr(){if(this.counter>=1e3)throw new Error("Tried 1,000 k values for sign(), all were invalid");this.counter+=1}async reseed(e=new Uint8Array){this.k=await this.hmac(this.v,Uint8Array.from([0]),e),this.v=await this.hmac(this.v),0!==e.length&&(this.k=await this.hmac(this.v,Uint8Array.from([1]),e),this.v=await this.hmac(this.v))}reseedSync(e=new Uint8Array){this.checkSync(),this.k=this.hmacSync(this.v,Uint8Array.from([0]),e),this.v=this.hmacSync(this.v),0!==e.length&&(this.k=this.hmacSync(this.v,Uint8Array.from([1]),e),this.v=this.hmacSync(this.v))}async generate(){this.incr();let e=0;const t=[];for(;e<this.qByteLen;){this.v=await this.hmac(this.v);const r=this.v.slice();t.push(r),e+=this.v.length}return x(...t)}generateSync(){this.checkSync(),this.incr();let e=0;const t=[];for(;e<this.qByteLen;){this.v=this.hmacSync(this.v);const r=this.v.slice();t.push(r),e+=this.v.length}return x(...t)}}function F(e){return i<e&&e<c.n}function W(e){return i<e&&e<c.P}function $(e,t,r,n=!0){const{n:s}=c,a=D(e,!0);if(!F(a))return;const u=j(a,s),f=_.BASE.multiply(a),l=L(f.x,s);if(l===i)return;const h=L(u*L(t+r*l,s),s);if(h===i)return;let d=new A(l,h),p=(f.x===d.r?0:2)|Number(f.y&o);return n&&d.hasHighS()&&(d=d.normalizeS(),p^=1),{sig:d,recovery:p}}function V(e){let t;if("bigint"===typeof e)t=e;else if("number"===typeof e&&Number.isSafeInteger(e)&&e>0)t=BigInt(e);else if("string"===typeof e){if(64!==e.length)throw new Error("Expected 32 bytes of private key");t=O(e)}else{if(!(e instanceof Uint8Array))throw new TypeError("Expected valid private key");if(e.length!==d)throw new Error("Expected 32 bytes of private key");t=U(e)}if(!F(t))throw new Error("Expected private key: 0 < key < n");return t}function G(e){return e instanceof _?(e.assertValidity(),e):_.fromHex(e)}function Z(e){if(e instanceof A)return e.assertValidity(),e;try{return A.fromDER(e)}catch(t){return A.fromCompact(e)}}function J(e){const t=e instanceof Uint8Array,r="string"===typeof e,n=(t||r)&&e.length;return t?33===n||65===n:r?66===n||130===n:e instanceof _}function X(e){return U(e.length>h?e.slice(0,h):e)}function Y(e){const t=X(e),r=L(t,c.n);return Q(r<i?t:r)}function Q(e){return P(e)}function ee(e,r,n){if(null==e)throw new Error(`sign: expected valid message hash, not "${e}"`);const i=N(e),o=V(r),s=[Q(o),Y(i)];if(null!=n){!0===n&&(n=t.utils.randomBytes(h));const e=N(n);if(e.length!==h)throw new Error("sign: Expected 32 bytes of extra data");s.push(e)}return{seed:x(...s),m:X(i),d:o}}function te(e,t){const{sig:r,recovery:n}=e,{der:i,recovered:o}=Object.assign({canonical:!0,der:!0},t),s=i?r.toDERRawBytes():r.toCompactRawBytes();return o?[s,n]:s}t.getPublicKey=function(e,t=!1){return _.fromPrivateKey(e).toRawBytes(t)},t.recoverPublicKey=function(e,t,r,n=!1){return _.fromSignature(e,t,r).toRawBytes(n)},t.getSharedSecret=function(e,t,r=!1){if(J(e))throw new TypeError("getSharedSecret: first arg must be private key");if(!J(t))throw new TypeError("getSharedSecret: second arg must be public key");const n=G(t);return n.assertValidity(),n.multiply(V(e)).toRawBytes(r)},t.sign=async function(e,t,r={}){const{seed:n,m:i,d:o}=ee(e,t,r.extraEntropy),s=new H(32,d);let a;for(await s.reseed(n);!(a=$(await s.generate(),i,o,r.canonical));)await s.reseed();return te(a,r)},t.signSync=function(e,t,r={}){const{seed:n,m:i,d:o}=ee(e,t,r.extraEntropy),s=new H(32,d);let a;for(s.reseedSync(n);!(a=$(s.generateSync(),i,o,r.canonical));)s.reseedSync();return te(a,r)};const re={strict:!0};function ne(e){return L(U(e),c.n)}t.verify=function(e,t,r,n=re){let i;try{i=Z(e),t=N(t)}catch(g){return!1}const{r:o,s:s}=i;if(n.strict&&i.hasHighS())return!1;const a=D(t);let u;try{u=G(r)}catch(g){return!1}const{n:f}=c,l=j(s,f),h=L(a*l,f),d=L(o*l,f),p=_.BASE.multiplyAndAddUnsafe(u,h,d);return!!p&&L(p.x,f)===o};class ie{constructor(e,t){this.r=e,this.s=t,this.assertValidity()}static fromHex(e){const t=N(e);if(64!==t.length)throw new TypeError(`SchnorrSignature.fromHex: expected 64 bytes, not ${t.length}`);const r=U(t.subarray(0,32)),n=U(t.subarray(32,64));return new ie(r,n)}assertValidity(){const{r:e,s:t}=this;if(!W(e)||!F(t))throw new Error("Invalid signature")}toHex(){return M(this.r)+M(this.s)}toRawBytes(){return C(this.toHex())}}class oe{constructor(e,r,n=t.utils.randomBytes()){if(null==e)throw new TypeError(`sign: Expected valid message, not "${e}"`);this.m=N(e);const{x:i,scalar:o}=this.getScalar(V(r));if(this.px=i,this.d=o,this.rand=N(n),32!==this.rand.length)throw new TypeError("sign: Expected 32 bytes of aux randomness")}getScalar(e){const t=_.fromPrivateKey(e),r=t.hasEvenY()?e:c.n-e;return{point:t,scalar:r,x:t.toRawX()}}initNonce(e,t){return P(e^U(t))}finalizeNonce(e){const t=L(U(e),c.n);if(t===i)throw new Error("sign: Creation of signature failed. k is zero");const{point:r,x:n,scalar:o}=this.getScalar(t);return{R:r,rx:n,k:o}}finalizeSig(e,t,r,n){return new ie(e.x,L(t+r*n,c.n)).toRawBytes()}error(){throw new Error("sign: Invalid signature produced")}async calc(){const{m:e,d:r,px:n,rand:i}=this,o=t.utils.taggedHash,s=this.initNonce(r,await o(le.aux,i)),{R:a,rx:u,k:c}=this.finalizeNonce(await o(le.nonce,s,n,e)),f=ne(await o(le.challenge,u,n,e)),l=this.finalizeSig(a,c,f,r);return await ue(l,e,n)||this.error(),l}calcSync(){const{m:e,d:r,px:n,rand:i}=this,o=t.utils.taggedHashSync,s=this.initNonce(r,o(le.aux,i)),{R:a,rx:u,k:c}=this.finalizeNonce(o(le.nonce,s,n,e)),f=ne(o(le.challenge,u,n,e)),l=this.finalizeSig(a,c,f,r);return ce(l,e,n)||this.error(),l}}function se(e,t,r){const n=e instanceof ie,i=n?e:ie.fromHex(e);return n&&i.assertValidity(),{...i,m:N(t),P:G(r)}}function ae(e,t,r,n){const i=_.BASE.multiplyAndAddUnsafe(t,V(r),L(-n,c.n));return!(!i||!i.hasEvenY()||i.x!==e)}async function ue(e,r,n){try{const{r:i,s:o,m:s,P:a}=se(e,r,n),u=ne(await t.utils.taggedHash(le.challenge,P(i),a.toRawX(),s));return ae(i,a,o,u)}catch(i){return!1}}function ce(e,r,n){try{const{r:i,s:o,m:s,P:a}=se(e,r,n),u=ne(t.utils.taggedHashSync(le.challenge,P(i),a.toRawX(),s));return ae(i,a,o,u)}catch(i){if(i instanceof y)throw i;return!1}}t.schnorr={Signature:ie,getPublicKey:function(e){return _.fromPrivateKey(e).toRawX()},sign:async function(e,t,r){return new oe(e,t,r).calc()},verify:ue,signSync:function(e,t,r){return new oe(e,t,r).calcSync()},verifySync:ce},_.BASE._setWindowSize(8);const fe={node:n,web:"object"===typeof self&&"crypto"in self?self.crypto:void 0},le={challenge:"BIP0340/challenge",aux:"BIP0340/aux",nonce:"BIP0340/nonce"},he={};t.utils={bytesToHex:T,hexToBytes:C,concatBytes:x,mod:L,invert:j,isValidPrivateKey(e){try{return V(e),!0}catch(t){return!1}},_bigintTo32Bytes:P,_normalizePrivateKey:V,hashToPrivateKey:e=>{if((e=N(e)).length<40||e.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");return P(L(U(e),c.n-o)+o)},randomBytes:(e=32)=>{if(fe.web)return fe.web.getRandomValues(new Uint8Array(e));if(fe.node){const{randomBytes:t}=fe.node;return Uint8Array.from(t(e))}throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>t.utils.hashToPrivateKey(t.utils.randomBytes(40)),precompute(e=8,t=_.BASE){const r=t===_.BASE?t:new _(t.x,t.y);return r._setWindowSize(e),r.multiply(a),r},sha256:async(...e)=>{if(fe.web){const t=await fe.web.subtle.digest("SHA-256",x(...e));return new Uint8Array(t)}if(fe.node){const{createHash:t}=fe.node,r=t("sha256");return e.forEach((e=>r.update(e))),Uint8Array.from(r.digest())}throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(e,...t)=>{if(fe.web){const r=await fe.web.subtle.importKey("raw",e,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=x(...t),i=await fe.web.subtle.sign("HMAC",r,n);return new Uint8Array(i)}if(fe.node){const{createHmac:r}=fe.node,n=r("sha256",e);return t.forEach((e=>n.update(e))),Uint8Array.from(n.digest())}throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(e,...r)=>{let n=he[e];if(void 0===n){const r=await t.utils.sha256(Uint8Array.from(e,(e=>e.charCodeAt(0))));n=x(r,r),he[e]=n}return t.utils.sha256(n,...r)},taggedHashSync:(e,...t)=>{if("function"!==typeof q)throw new y("sha256Sync is undefined, you need to set it");let r=he[e];if(void 0===r){const t=q(Uint8Array.from(e,(e=>e.charCodeAt(0))));r=x(t,t),he[e]=r}return q(r,...t)},_JacobianPoint:b},Object.defineProperties(t.utils,{sha256Sync:{configurable:!1,get:()=>q,set(e){q||(q=e)}},hmacSha256Sync:{configurable:!1,get:()=>K,set(e){K||(K=e)}}})},yCyo:(e,t,r)=>{"use strict";t._O=t.Jq=t.KB=t.u8=t.cv=void 0,t.Ik=t.A9=t.n_=t.gM=void 0;const n=r("Dp+g");function i(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function o(e){return i(e),n.Buffer.from(e.buffer,e.byteOffset,e.length)}class s{constructor(e,t){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=t}makeDestinationObject(){return{}}getSpan(e,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const t=Object.create(this.constructor.prototype);return Object.assign(t,this),t.property=e,t}fromArray(e){}}function a(e,t){return t.property?e+"["+t.property+"]":e}class u extends s{isCount(){throw new Error("ExternalLayout is abstract")}}class c extends u{constructor(e=1,t){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,t),this.elementSpan=e}isCount(){return!0}decode(e,t=0){i(e);const r=e.length-t;return Math.floor(r/this.elementSpan)}encode(e,t,r){return 0}}class f extends u{constructor(e,t=0,r){if(!(e instanceof s))throw new TypeError("layout must be a Layout");if(!Number.isInteger(t))throw new TypeError("offset must be integer or undefined");super(e.span,r||e.property),this.layout=e,this.offset=t}isCount(){return this.layout instanceof l||this.layout instanceof h}decode(e,t=0){return this.layout.decode(e,t+this.offset)}encode(e,t,r=0){return this.layout.encode(e,t,r+this.offset)}}class l extends s{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return o(e).readUIntLE(t,this.span)}encode(e,t,r=0){return o(t).writeUIntLE(e,r,this.span),this.span}}class h extends s{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return o(e).readUIntBE(t,this.span)}encode(e,t,r=0){return o(t).writeUIntBE(e,r,this.span),this.span}}class d extends s{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return o(e).readIntLE(t,this.span)}encode(e,t,r=0){return o(t).writeIntLE(e,r,this.span),this.span}}class p extends s{constructor(e,t){if(super(e,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,t=0){return o(e).readIntBE(t,this.span)}encode(e,t,r=0){return o(t).writeIntBE(e,r,this.span),this.span}}const g=Math.pow(2,32);function y(e){const t=Math.floor(e/g);return{hi32:t,lo32:e-t*g}}function m(e,t){return e*g+t}class b extends s{constructor(e){super(8,e)}decode(e,t=0){const r=o(e),n=r.readUInt32LE(t);return m(r.readUInt32LE(t+4),n)}encode(e,t,r=0){const n=y(e),i=o(t);return i.writeUInt32LE(n.lo32,r),i.writeUInt32LE(n.hi32,r+4),8}}class w extends s{constructor(e){super(8,e)}decode(e,t=0){const r=o(e);return m(r.readUInt32BE(t),r.readUInt32BE(t+4))}encode(e,t,r=0){const n=y(e),i=o(t);return i.writeUInt32BE(n.hi32,r),i.writeUInt32BE(n.lo32,r+4),8}}class v extends s{constructor(e){super(8,e)}decode(e,t=0){const r=o(e),n=r.readUInt32LE(t);return m(r.readInt32LE(t+4),n)}encode(e,t,r=0){const n=y(e),i=o(t);return i.writeUInt32LE(n.lo32,r),i.writeInt32LE(n.hi32,r+4),8}}class _ extends s{constructor(e){super(8,e)}decode(e,t=0){const r=o(e);return m(r.readInt32BE(t),r.readUInt32BE(t+4))}encode(e,t,r=0){const n=y(e),i=o(t);return i.writeInt32BE(n.hi32,r),i.writeUInt32BE(n.lo32,r+4),8}}class S extends s{constructor(e){super(4,e)}decode(e,t=0){return o(e).readFloatLE(t)}encode(e,t,r=0){return o(t).writeFloatLE(e,r),4}}class E extends s{constructor(e){super(4,e)}decode(e,t=0){return o(e).readFloatBE(t)}encode(e,t,r=0){return o(t).writeFloatBE(e,r),4}}class A extends s{constructor(e){super(8,e)}decode(e,t=0){return o(e).readDoubleLE(t)}encode(e,t,r=0){return o(t).writeDoubleLE(e,r),8}}class x extends s{constructor(e){super(8,e)}decode(e,t=0){return o(e).readDoubleBE(t)}encode(e,t,r=0){return o(t).writeDoubleBE(e,r),8}}class k extends s{constructor(e,t,r){if(!(e instanceof s))throw new TypeError("elementLayout must be a Layout");if(!(t instanceof u&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let n=-1;!(t instanceof u)&&0<e.span&&(n=t*e.span),super(n,r),this.elementLayout=e,this.count=t}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0,n=this.count;if(n instanceof u&&(n=n.decode(e,t)),0<this.elementLayout.span)r=n*this.elementLayout.span;else{let i=0;for(;i<n;)r+=this.elementLayout.getSpan(e,t+r),++i}return r}decode(e,t=0){const r=[];let n=0,i=this.count;for(i instanceof u&&(i=i.decode(e,t));n<i;)r.push(this.elementLayout.decode(e,t)),t+=this.elementLayout.getSpan(e,t),n+=1;return r}encode(e,t,r=0){const n=this.elementLayout,i=e.reduce(((e,i)=>e+n.encode(i,t,r+e)),0);return this.count instanceof u&&this.count.encode(e.length,t,r),i}}class T extends s{constructor(e,t,r){if(!Array.isArray(e)||!e.reduce(((e,t)=>e&&t instanceof s),!0))throw new TypeError("fields must be array of Layout instances");"boolean"===typeof t&&void 0===r&&(r=t,t=void 0);for(const o of e)if(0>o.span&&void 0===o.property)throw new Error("fields cannot contain unnamed variable-length layout");let n=-1;try{n=e.reduce(((e,t)=>e+t.getSpan()),0)}catch(i){}super(n,t),this.fields=e,this.decodePrefixes=!!r}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce(((r,n)=>{const i=n.getSpan(e,t);return t+=i,r+i}),0)}catch(n){throw new RangeError("indeterminate span")}return r}decode(e,t=0){i(e);const r=this.makeDestinationObject();for(const n of this.fields)if(void 0!==n.property&&(r[n.property]=n.decode(e,t)),t+=n.getSpan(e,t),this.decodePrefixes&&e.length===t)break;return r}encode(e,t,r=0){const n=r;let i=0,o=0;for(const s of this.fields){let n=s.span;if(o=0<n?n:0,void 0!==s.property){const i=e[s.property];void 0!==i&&(o=s.encode(i,t,r),0>n&&(n=s.getSpan(t,r)))}i=r,r+=n}return i+o-n}fromArray(e){const t=this.makeDestinationObject();for(const r of this.fields)void 0!==r.property&&0<e.length&&(t[r.property]=e.shift());return t}layoutFor(e){if("string"!==typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}offsetOf(e){if("string"!==typeof e)throw new TypeError("property must be string");let t=0;for(const r of this.fields){if(r.property===e)return t;0>r.span?t=-1:0<=t&&(t+=r.span)}}}class I{constructor(e){this.property=e}decode(e,t){throw new Error("UnionDiscriminator is abstract")}encode(e,t,r){throw new Error("UnionDiscriminator is abstract")}}class M extends I{constructor(e,t){if(!(e instanceof u&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(t||e.property||"variant"),this.layout=e}decode(e,t){return this.layout.decode(e,t)}encode(e,t,r){return this.layout.encode(e,t,r)}}class P extends s{constructor(e,t,r){let n;if(e instanceof l||e instanceof h)n=new M(new f(e));else if(e instanceof u&&e.isCount())n=new M(e);else{if(!(e instanceof I))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");n=e}if(void 0===t&&(t=null),!(null===t||t instanceof s))throw new TypeError("defaultLayout must be null or a Layout");if(null!==t){if(0>t.span)throw new Error("defaultLayout must have constant span");void 0===t.property&&(t=t.replicate("content"))}let i=-1;t&&(i=t.span,0<=i&&(e instanceof l||e instanceof h)&&(i+=n.layout.span)),super(i,r),this.discriminator=n,this.usesPrefixDiscriminator=e instanceof l||e instanceof h,this.defaultLayout=t,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(e){return o(e)},this.configGetSourceVariant=function(e){o=e.bind(this)}}getSpan(e,t=0){if(0<=this.span)return this.span;const r=this.getVariant(e,t);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(e,t)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const t=this.registry[e[this.discriminator.property]];if(t&&(!t.layout||t.property&&Object.prototype.hasOwnProperty.call(e,t.property)))return t}else for(const t in this.registry){const r=this.registry[t];if(r.property&&Object.prototype.hasOwnProperty.call(e,r.property))return r}throw new Error("unable to infer src variant")}decode(e,t=0){let r;const n=this.discriminator,i=n.decode(e,t),o=this.registry[i];if(void 0===o){const o=this.defaultLayout;let s=0;this.usesPrefixDiscriminator&&(s=n.layout.span),r=this.makeDestinationObject(),r[n.property]=i,r[o.property]=o.decode(e,t+s)}else r=o.decode(e,t);return r}encode(e,t,r=0){const n=this.getSourceVariant(e);if(void 0===n){const n=this.discriminator,i=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=n.layout.span),n.encode(e[n.property],t,r),o+i.encode(e[i.property],t,r+o)}return n.encode(e,t,r)}addVariant(e,t,r){const n=new B(this,e,t,r);return this.registry[e]=n,n}getVariant(e,t=0){let r;return r=e instanceof Uint8Array?this.discriminator.decode(e,t):e,this.registry[r]}}class B extends s{constructor(e,t,r,n){if(!(e instanceof P))throw new TypeError("union must be a Union");if(!Number.isInteger(t)||0>t)throw new TypeError("variant must be a (non-negative) integer");if("string"===typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof s))throw new TypeError("layout must be a Layout");if(null!==e.defaultLayout&&0<=r.span&&r.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!==typeof n)throw new TypeError("variant must have a String property")}let i=e.span;0>e.span&&(i=r?r.span:0,0<=i&&e.usesPrefixDiscriminator&&(i+=e.discriminator.layout.span)),super(i,n),this.union=e,this.variant=t,this.layout=r||null}getSpan(e,t=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let n=0;return this.layout&&(n=this.layout.getSpan(e,t+r)),r+n}decode(e,t=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(e,t))throw new Error("variant mismatch");let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(e,t+n):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(e,t,r=0){let n=0;if(this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,t,r);let i=n;if(this.layout&&(this.layout.encode(e[this.property],t,r+n),i+=this.layout.getSpan(t,r+n),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}function O(e){return 0>e&&(e+=4294967296),e}class C extends s{constructor(e,t,r){if(!(e instanceof l||e instanceof h))throw new TypeError("word must be a UInt or UIntBE layout");if("string"===typeof t&&void 0===r&&(r=t,t=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,r),this.word=e,this.msb=!!t,this.fields=[];let n=0;this._packedSetValue=function(e){return n=O(e),this},this._packedGetValue=function(){return n}}decode(e,t=0){const r=this.makeDestinationObject(),n=this.word.decode(e,t);this._packedSetValue(n);for(const i of this.fields)void 0!==i.property&&(r[i.property]=i.decode(e));return r}encode(e,t,r=0){const n=this.word.decode(t,r);this._packedSetValue(n);for(const i of this.fields)if(void 0!==i.property){const t=e[i.property];void 0!==t&&i.encode(t)}return this.word.encode(this._packedGetValue(),t,r)}addField(e,t){const r=new U(this,e,t);return this.fields.push(r),r}addBoolean(e){const t=new N(this,e);return this.fields.push(t),t}fieldFor(e){if("string"!==typeof e)throw new TypeError("property must be string");for(const t of this.fields)if(t.property===e)return t}}class U{constructor(e,t,r){if(!(e instanceof C))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(t)||0>=t)throw new TypeError("bits must be positive integer");const n=8*e.span,i=e.fields.reduce(((e,t)=>e+t.bits),0);if(t+i>n)throw new Error("bits too long for span remainder ("+(n-i)+" of "+n+" remain)");this.container=e,this.bits=t,this.valueMask=(1<<t)-1,32===t&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=n-i-t),this.wordMask=O(this.valueMask<<this.start),this.property=r}decode(e,t){return O(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(e){if("number"!==typeof e||!Number.isInteger(e)||e!==O(e&this.valueMask))throw new TypeError(a("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const t=this.container._packedGetValue(),r=O(e<<this.start);this.container._packedSetValue(O(t&~this.wordMask)|r)}}class N extends U{constructor(e,t){super(e,1,t)}decode(e,t){return!!super.decode(e,t)}encode(e){"boolean"===typeof e&&(e=+e),super.encode(e)}}class R extends s{constructor(e,t){if(!(e instanceof u&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;e instanceof u||(r=e),super(r,t),this.length=e}getSpan(e,t){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),r}decode(e,t=0){let r=this.span;return 0>r&&(r=this.length.decode(e,t)),o(e).slice(t,t+r)}encode(e,t,r){let n=this.length;if(this.length instanceof u&&(n=e.length),!(e instanceof Uint8Array&&n===e.length))throw new TypeError(a("Blob.encode",this)+" requires (length "+n+") Uint8Array as src");if(r+n>t.length)throw new RangeError("encoding overruns Uint8Array");const i=o(e);return o(t).write(i.toString("hex"),r,n,"hex"),this.length instanceof u&&this.length.encode(n,t,r),n}}class L extends s{constructor(e){super(-1,e)}getSpan(e,t=0){i(e);let r=t;for(;r<e.length&&0!==e[r];)r+=1;return 1+r-t}decode(e,t=0){const r=this.getSpan(e,t);return o(e).slice(t,t+r-1).toString("utf-8")}encode(e,t,r=0){"string"!==typeof e&&(e=String(e));const i=n.Buffer.from(e,"utf8"),s=i.length;if(r+s>t.length)throw new RangeError("encoding overruns Buffer");const a=o(t);return i.copy(a,r),a[r+s]=0,s+1}}class z extends s{constructor(e,t){if("string"===typeof e&&void 0===t&&(t=e,e=void 0),void 0===e)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,t),this.maxSpan=e}getSpan(e,t=0){return i(e),e.length-t}decode(e,t=0){const r=this.getSpan(e,t);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return o(e).slice(t,t+r).toString("utf-8")}encode(e,t,r=0){"string"!==typeof e&&(e=String(e));const i=n.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(r+s>t.length)throw new RangeError("encoding overruns Buffer");return i.copy(o(t),r),s}}class j extends s{constructor(e,t){super(0,t),this.value=e}decode(e,t){return this.value}encode(e,t,r){return 0}}t.cv=(e,t,r)=>new f(e,t,r),t.u8=e=>new l(1,e),t.KB=e=>new l(2,e),t.Jq=e=>new l(4,e),t._O=e=>new b(e),t.gM=e=>new v(e),t.n_=(e,t,r)=>new T(e,t,r),t.A9=(e,t,r)=>new k(e,t,r),t.Ik=(e,t)=>new R(e,t)},"6eCo":(e,t,r)=>{"use strict";var n=r("E0jC");function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function s(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}var u,c,f=r("V+7M").codes,l=f.ERR_AMBIGUOUS_ARGUMENT,h=f.ERR_INVALID_ARG_TYPE,d=f.ERR_INVALID_ARG_VALUE,p=f.ERR_INVALID_RETURN_VALUE,g=f.ERR_MISSING_ARGS,y=r("yc6U"),m=r("O3Aa").inspect,b=r("O3Aa").types,w=b.isPromise,v=b.isRegExp,_=r("o9Fo")(),S=r("9Fc8")(),E=r("szUr")("RegExp.prototype.test");new Map;function A(){var e=r("/8hd");u=e.isDeepEqual,c=e.isDeepStrictEqual}var x=!1,k=e.exports=P,T={};function I(e){if(e.message instanceof Error)throw e.message;throw new y(e)}function M(e,t,r,n){if(!r){var i=!1;if(0===t)i=!0,n="No value argument passed to `assert.ok()`";else if(n instanceof Error)throw n;var o=new y({actual:r,expected:!0,message:n,operator:"==",stackStartFn:e});throw o.generatedMessage=i,o}}function P(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];M.apply(void 0,[P,t.length].concat(t))}k.fail=function e(t,r,i,o,s){var a,u=arguments.length;if(0===u)a="Failed";else if(1===u)i=t,t=void 0;else{if(!1===x)x=!0,(n.emitWarning?n.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094");2===u&&(o="!=")}if(i instanceof Error)throw i;var c={actual:t,expected:r,operator:void 0===o?"fail":o,stackStartFn:s||e};void 0!==i&&(c.message=i);var f=new y(c);throw a&&(f.message=a,f.generatedMessage=!0),f},k.AssertionError=y,k.ok=P,k.equal=function e(t,r,n){if(arguments.length<2)throw new g("actual","expected");t!=r&&I({actual:t,expected:r,message:n,operator:"==",stackStartFn:e})},k.notEqual=function e(t,r,n){if(arguments.length<2)throw new g("actual","expected");t==r&&I({actual:t,expected:r,message:n,operator:"!=",stackStartFn:e})},k.deepEqual=function e(t,r,n){if(arguments.length<2)throw new g("actual","expected");void 0===u&&A(),u(t,r)||I({actual:t,expected:r,message:n,operator:"deepEqual",stackStartFn:e})},k.notDeepEqual=function e(t,r,n){if(arguments.length<2)throw new g("actual","expected");void 0===u&&A(),u(t,r)&&I({actual:t,expected:r,message:n,operator:"notDeepEqual",stackStartFn:e})},k.deepStrictEqual=function e(t,r,n){if(arguments.length<2)throw new g("actual","expected");void 0===u&&A(),c(t,r)||I({actual:t,expected:r,message:n,operator:"deepStrictEqual",stackStartFn:e})},k.notDeepStrictEqual=function e(t,r,n){if(arguments.length<2)throw new g("actual","expected");void 0===u&&A();c(t,r)&&I({actual:t,expected:r,message:n,operator:"notDeepStrictEqual",stackStartFn:e})},k.strictEqual=function e(t,r,n){if(arguments.length<2)throw new g("actual","expected");S(t,r)||I({actual:t,expected:r,message:n,operator:"strictEqual",stackStartFn:e})},k.notStrictEqual=function e(t,r,n){if(arguments.length<2)throw new g("actual","expected");S(t,r)&&I({actual:t,expected:r,message:n,operator:"notStrictEqual",stackStartFn:e})};var B=s((function e(t,r,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r.forEach((function(e){e in t&&(void 0!==n&&"string"===typeof n[e]&&v(t[e])&&E(t[e],n[e])?i[e]=n[e]:i[e]=t[e])}))}));function O(e,t,r,n){if("function"!==typeof t){if(v(t))return E(t,e);if(2===arguments.length)throw new h("expected",["Function","RegExp"],t);if("object"!==i(e)||null===e){var o=new y({actual:e,expected:t,message:r,operator:"deepStrictEqual",stackStartFn:n});throw o.operator=n.name,o}var s=Object.keys(t);if(t instanceof Error)s.push("name","message");else if(0===s.length)throw new d("error",t,"may not be an empty object");return void 0===u&&A(),s.forEach((function(i){"string"===typeof e[i]&&v(t[i])&&E(t[i],e[i])||function(e,t,r,n,i,o){if(!(r in e)||!c(e[r],t[r])){if(!n){var s=new B(e,i),a=new B(t,i,e),u=new y({actual:s,expected:a,operator:"deepStrictEqual",stackStartFn:o});throw u.actual=e,u.expected=t,u.operator=o.name,u}I({actual:e,expected:t,message:n,operator:o.name,stackStartFn:o})}}(e,t,i,r,s,n)})),!0}return void 0!==t.prototype&&e instanceof t||!Error.isPrototypeOf(t)&&!0===t.call({},e)}function C(e){if("function"!==typeof e)throw new h("fn","Function",e);try{e()}catch(t){return t}return T}function U(e){return w(e)||null!==e&&"object"===i(e)&&"function"===typeof e.then&&"function"===typeof e.catch}function N(e){return Promise.resolve().then((function(){var t;if("function"===typeof e){if(!U(t=e()))throw new p("instance of Promise","promiseFn",t)}else{if(!U(e))throw new h("promiseFn",["Function","Promise"],e);t=e}return Promise.resolve().then((function(){return t})).then((function(){return T})).catch((function(e){return e}))}))}function R(e,t,r,n){if("string"===typeof r){if(4===arguments.length)throw new h("error",["Object","Error","Function","RegExp"],r);if("object"===i(t)&&null!==t){if(t.message===r)throw new l("error/message",'The error message "'.concat(t.message,'" is identical to the message.'))}else if(t===r)throw new l("error/message",'The error "'.concat(t,'" is identical to the message.'));n=r,r=void 0}else if(null!=r&&"object"!==i(r)&&"function"!==typeof r)throw new h("error",["Object","Error","Function","RegExp"],r);if(t===T){var o="";r&&r.name&&(o+=" (".concat(r.name,")")),o+=n?": ".concat(n):".";var s="rejects"===e.name?"rejection":"exception";I({actual:void 0,expected:r,operator:e.name,message:"Missing expected ".concat(s).concat(o),stackStartFn:e})}if(r&&!O(t,r,n,e))throw t}function L(e,t,r,n){if(t!==T){if("string"===typeof r&&(n=r,r=void 0),!r||O(t,r)){var i=n?": ".concat(n):".",o="doesNotReject"===e.name?"rejection":"exception";I({actual:t,expected:r,operator:e.name,message:"Got unwanted ".concat(o).concat(i,"\n")+'Actual message: "'.concat(t&&t.message,'"'),stackStartFn:e})}throw t}}function z(e,t,r,n,o){if(!v(t))throw new h("regexp","RegExp",t);var s="match"===o;if("string"!==typeof e||E(t,e)!==s){if(r instanceof Error)throw r;var a=!r;r=r||("string"!==typeof e?'The "string" argument must be of type string. Received type '+"".concat(i(e)," (").concat(m(e),")"):(s?"The input did not match the regular expression ":"The input was expected to not match the regular expression ")+"".concat(m(t),". Input:\n\n").concat(m(e),"\n"));var u=new y({actual:e,expected:t,message:r,operator:o,stackStartFn:n});throw u.generatedMessage=a,u}}function j(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];M.apply(void 0,[j,t.length].concat(t))}k.throws=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];R.apply(void 0,[e,C(t)].concat(n))},k.rejects=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return N(t).then((function(t){return R.apply(void 0,[e,t].concat(n))}))},k.doesNotThrow=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];L.apply(void 0,[e,C(t)].concat(n))},k.doesNotReject=function e(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return N(t).then((function(t){return L.apply(void 0,[e,t].concat(n))}))},k.ifError=function e(t){if(null!==t&&void 0!==t){var r="ifError got unwanted exception: ";"object"===i(t)&&"string"===typeof t.message?0===t.message.length&&t.constructor?r+=t.constructor.name:r+=t.message:r+=m(t);var n=new y({actual:t,expected:null,operator:"ifError",message:r,stackStartFn:e}),o=t.stack;if("string"===typeof o){var s=o.split("\n");s.shift();for(var a=n.stack.split("\n"),u=0;u<s.length;u++){var c=a.indexOf(s[u]);if(-1!==c){a=a.slice(0,c);break}}n.stack="".concat(a.join("\n"),"\n").concat(s.join("\n"))}throw n}},k.match=function e(t,r,n){z(t,r,n,e,"match")},k.doesNotMatch=function e(t,r,n){z(t,r,n,e,"doesNotMatch")},k.strict=_(j,k,{equal:k.strictEqual,deepEqual:k.deepStrictEqual,notEqual:k.notStrictEqual,notDeepEqual:k.notDeepStrictEqual}),k.strict.strict=k.strict},yc6U:(e,t,r)=>{"use strict";var n=r("E0jC");function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=u(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,u(n.key),n)}}function u(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===y(t)?t:String(t)}function c(e,t){if(t&&("object"===y(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){var t="function"===typeof Map?new Map:void 0;return l=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return h(e,arguments,g(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),p(n,e)},l(e)}function h(e,t,r){return h=d()?Reflect.construct.bind():function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&p(i,r.prototype),i},h.apply(null,arguments)}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}var m=r("O3Aa").inspect,b=r("V+7M").codes.ERR_INVALID_ARG_TYPE;function w(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}var v="",_="",S="",E="",A={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function x(e){var t=Object.keys(e),r=Object.create(Object.getPrototypeOf(e));return t.forEach((function(t){r[t]=e[t]})),Object.defineProperty(r,"message",{value:e.message}),r}function k(e){return m(e,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}function T(e,t,r){var i="",o="",s=0,a="",u=!1,c=k(e),f=c.split("\n"),l=k(t).split("\n"),h=0,d="";if("strictEqual"===r&&"object"===y(e)&&"object"===y(t)&&null!==e&&null!==t&&(r="strictEqualObject"),1===f.length&&1===l.length&&f[0]!==l[0]){var p=f[0].length+l[0].length;if(p<=10){if(("object"!==y(e)||null===e)&&("object"!==y(t)||null===t)&&(0!==e||0!==t))return"".concat(A[r],"\n\n")+"".concat(f[0]," !== ").concat(l[0],"\n")}else if("strictEqualObject"!==r){if(p<(n.stderr&&n.stderr.isTTY?n.stderr.columns:80)){for(;f[0][h]===l[0][h];)h++;h>2&&(d="\n  ".concat(function(e,t){if(t=Math.floor(t),0==e.length||0==t)return"";var r=e.length*t;for(t=Math.floor(Math.log(t)/Math.log(2));t;)e+=e,t--;return e+e.substring(0,r-e.length)}(" ",h),"^"),h=0)}}}for(var g=f[f.length-1],m=l[l.length-1];g===m&&(h++<2?a="\n  ".concat(g).concat(a):i=g,f.pop(),l.pop(),0!==f.length&&0!==l.length);)g=f[f.length-1],m=l[l.length-1];var b=Math.max(f.length,l.length);if(0===b){var x=c.split("\n");if(x.length>30)for(x[26]="".concat(v,"...").concat(E);x.length>27;)x.pop();return"".concat(A.notIdentical,"\n\n").concat(x.join("\n"),"\n")}h>3&&(a="\n".concat(v,"...").concat(E).concat(a),u=!0),""!==i&&(a="\n  ".concat(i).concat(a),i="");var T=0,I=A[r]+"\n".concat(_,"+ actual").concat(E," ").concat(S,"- expected").concat(E),M=" ".concat(v,"...").concat(E," Lines skipped");for(h=0;h<b;h++){var P=h-s;if(f.length<h+1)P>1&&h>2&&(P>4?(o+="\n".concat(v,"...").concat(E),u=!0):P>3&&(o+="\n  ".concat(l[h-2]),T++),o+="\n  ".concat(l[h-1]),T++),s=h,i+="\n".concat(S,"-").concat(E," ").concat(l[h]),T++;else if(l.length<h+1)P>1&&h>2&&(P>4?(o+="\n".concat(v,"...").concat(E),u=!0):P>3&&(o+="\n  ".concat(f[h-2]),T++),o+="\n  ".concat(f[h-1]),T++),s=h,o+="\n".concat(_,"+").concat(E," ").concat(f[h]),T++;else{var B=l[h],O=f[h],C=O!==B&&(!w(O,",")||O.slice(0,-1)!==B);C&&w(B,",")&&B.slice(0,-1)===O&&(C=!1,O+=","),C?(P>1&&h>2&&(P>4?(o+="\n".concat(v,"...").concat(E),u=!0):P>3&&(o+="\n  ".concat(f[h-2]),T++),o+="\n  ".concat(f[h-1]),T++),s=h,o+="\n".concat(_,"+").concat(E," ").concat(O),i+="\n".concat(S,"-").concat(E," ").concat(B),T+=2):(o+=i,i="",1!==P&&0!==h||(o+="\n  ".concat(O),T++))}if(T>20&&h<b-2)return"".concat(I).concat(M,"\n").concat(o,"\n").concat(v,"...").concat(E).concat(i,"\n")+"".concat(v,"...").concat(E)}return"".concat(I).concat(u?M:"","\n").concat(o).concat(i).concat(a).concat(d)}var I=function(e,t){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(l,e);var r,i,s,u=function(e){var t=d();return function(){var r,n=g(e);if(t){var i=g(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return c(this,r)}}(l);function l(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),"object"!==y(e)||null===e)throw new b("options","Object",e);var r=e.message,i=e.operator,o=e.stackStartFn,s=e.actual,a=e.expected,h=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=r)t=u.call(this,String(r));else if(n.stderr&&n.stderr.isTTY&&(n.stderr&&n.stderr.getColorDepth&&1!==n.stderr.getColorDepth()?(v="\x1b[34m",_="\x1b[32m",E="\x1b[39m",S="\x1b[31m"):(v="",_="",E="",S="")),"object"===y(s)&&null!==s&&"object"===y(a)&&null!==a&&"stack"in s&&s instanceof Error&&"stack"in a&&a instanceof Error&&(s=x(s),a=x(a)),"deepStrictEqual"===i||"strictEqual"===i)t=u.call(this,T(s,a,i));else if("notDeepStrictEqual"===i||"notStrictEqual"===i){var d=A[i],p=k(s).split("\n");if("notStrictEqual"===i&&"object"===y(s)&&null!==s&&(d=A.notStrictEqualObject),p.length>30)for(p[26]="".concat(v,"...").concat(E);p.length>27;)p.pop();t=1===p.length?u.call(this,"".concat(d," ").concat(p[0])):u.call(this,"".concat(d,"\n\n").concat(p.join("\n"),"\n"))}else{var g=k(s),m="",w=A[i];"notDeepEqual"===i||"notEqual"===i?(g="".concat(A[i],"\n\n").concat(g)).length>1024&&(g="".concat(g.slice(0,1021),"...")):(m="".concat(k(a)),g.length>512&&(g="".concat(g.slice(0,509),"...")),m.length>512&&(m="".concat(m.slice(0,509),"...")),"deepEqual"===i||"equal"===i?g="".concat(w,"\n\n").concat(g,"\n\nshould equal\n\n"):m=" ".concat(i," ").concat(m)),t=u.call(this,"".concat(g).concat(m))}return Error.stackTraceLimit=h,t.generatedMessage=!r,Object.defineProperty(f(t),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),t.code="ERR_ASSERTION",t.actual=s,t.expected=a,t.operator=i,Error.captureStackTrace&&Error.captureStackTrace(f(t),o),t.stack,t.name="AssertionError",c(t)}return r=l,(i=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:t,value:function(e,t){return m(this,o(o({},t),{},{customInspect:!1,depth:0}))}}])&&a(r.prototype,i),s&&a(r,s),Object.defineProperty(r,"prototype",{writable:!1}),l}(l(Error),m.custom);e.exports=I},"V+7M":(e,t,r)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,o(n.key),n)}}function o(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!==n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function a(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,i=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(i,arguments,o)}else r=i.apply(this,arguments);return function(e,t){if(t&&("object"===n(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}var c,f,l={};function h(e,t,r){r||(r=Error);var n=function(r){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(f,r);var n,o,u,c=a(f);function f(r,n,i){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),o=c.call(this,function(e,r,n){return"string"===typeof t?t:t(e,r,n)}(r,n,i)),o.code=e,o}return n=f,o&&i(n.prototype,o),u&&i(n,u),Object.defineProperty(n,"prototype",{writable:!1}),n}(r);l[e]=n}function d(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}h("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),h("ERR_INVALID_ARG_TYPE",(function(e,t,i){var o,s,a,u;if(void 0===c&&(c=r("6eCo")),c("string"===typeof e,"'name' must be a string"),"string"===typeof t&&(s="not ",t.substr(!a||a<0?0:+a,s.length)===s)?(o="must not be",t=t.replace(/^not /,"")):o="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))u="The ".concat(e," ").concat(o," ").concat(d(t,"type"));else{var f=function(e,t,r){return"number"!==typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";u='The "'.concat(e,'" ').concat(f," ").concat(o," ").concat(d(t,"type"))}return u+=". Received type ".concat(n(i))}),TypeError),h("ERR_INVALID_ARG_VALUE",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===f&&(f=r("O3Aa"));var i=f.inspect(t);return i.length>128&&(i="".concat(i.slice(0,128),"...")),"The argument '".concat(e,"' ").concat(n,". Received ").concat(i)}),TypeError,RangeError),h("ERR_INVALID_RETURN_VALUE",(function(e,t,r){var i;return i=r&&r.constructor&&r.constructor.name?"instance of ".concat(r.constructor.name):"type ".concat(n(r)),"Expected ".concat(e,' to be returned from the "').concat(t,'"')+" function but got ".concat(i,".")}),TypeError),h("ERR_MISSING_ARGS",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];void 0===c&&(c=r("6eCo")),c(t.length>0,"At least one arg needs to be specified");var i="The ",o=t.length;switch(t=t.map((function(e){return'"'.concat(e,'"')})),o){case 1:i+="".concat(t[0]," argument");break;case 2:i+="".concat(t[0]," and ").concat(t[1]," arguments");break;default:i+=t.slice(0,o-1).join(", "),i+=", and ".concat(t[o-1]," arguments")}return"".concat(i," must be specified")}),TypeError),e.exports.codes=l},"/8hd":(e,t,r)=>{"use strict";function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,o,s,a=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=o.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){c=!0,i=e}finally{try{if(!u&&null!=r.return&&(s=r.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}var s=void 0!==/a/g.flags,a=function(e){var t=[];return e.forEach((function(e){return t.push(e)})),t},u=function(e){var t=[];return e.forEach((function(e,r){return t.push([r,e])})),t},c=Object.is?Object.is:r("s3p8"),f=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},l=Number.isNaN?Number.isNaN:r("EGwq");function h(e){return e.call.bind(e)}var d=h(Object.prototype.hasOwnProperty),p=h(Object.prototype.propertyIsEnumerable),g=h(Object.prototype.toString),y=r("O3Aa").types,m=y.isAnyArrayBuffer,b=y.isArrayBufferView,w=y.isDate,v=y.isMap,_=y.isRegExp,S=y.isSet,E=y.isNativeError,A=y.isBoxedPrimitive,x=y.isNumberObject,k=y.isStringObject,T=y.isBooleanObject,I=y.isBigIntObject,M=y.isSymbolObject,P=y.isFloat32Array,B=y.isFloat64Array;function O(e){if(0===e.length||e.length>10)return!0;for(var t=0;t<e.length;t++){var r=e.charCodeAt(t);if(r<48||r>57)return!0}return 10===e.length&&e>=Math.pow(2,32)}function C(e){return Object.keys(e).filter(O).concat(f(e).filter(Object.prototype.propertyIsEnumerable.bind(e)))}function U(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0}function N(e,t,r,n){if(e===t)return 0!==e||(!r||c(e,t));if(r){if("object"!==o(e))return"number"===typeof e&&l(e)&&l(t);if("object"!==o(t)||null===e||null===t)return!1;if(Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1}else{if(null===e||"object"!==o(e))return(null===t||"object"!==o(t))&&e==t;if(null===t||"object"!==o(t))return!1}var i,a,u=g(e);if(u!==g(t))return!1;if(Array.isArray(e)){if(e.length!==t.length)return!1;var f=C(e),h=C(t);return f.length===h.length&&L(e,t,r,n,1,f)}if("[object Object]"===u&&(!v(e)&&v(t)||!S(e)&&S(t)))return!1;if(w(e)){if(!w(t)||Date.prototype.getTime.call(e)!==Date.prototype.getTime.call(t))return!1}else if(_(e)){if(!_(t)||!function(e,t){return s?e.source===t.source&&e.flags===t.flags:RegExp.prototype.toString.call(e)===RegExp.prototype.toString.call(t)}(e,t))return!1}else if(E(e)||e instanceof Error){if(e.message!==t.message||e.name!==t.name)return!1}else{if(b(e)){if(r||!P(e)&&!B(e)){if(!function(e,t){return e.byteLength===t.byteLength&&0===U(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(t.buffer,t.byteOffset,t.byteLength))}(e,t))return!1}else if(!function(e,t){if(e.byteLength!==t.byteLength)return!1;for(var r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0}(e,t))return!1;var d=C(e),p=C(t);return d.length===p.length&&L(e,t,r,n,0,d)}if(S(e))return!(!S(t)||e.size!==t.size)&&L(e,t,r,n,2);if(v(e))return!(!v(t)||e.size!==t.size)&&L(e,t,r,n,3);if(m(e)){if(a=t,(i=e).byteLength!==a.byteLength||0!==U(new Uint8Array(i),new Uint8Array(a)))return!1}else if(A(e)&&!function(e,t){return x(e)?x(t)&&c(Number.prototype.valueOf.call(e),Number.prototype.valueOf.call(t)):k(e)?k(t)&&String.prototype.valueOf.call(e)===String.prototype.valueOf.call(t):T(e)?T(t)&&Boolean.prototype.valueOf.call(e)===Boolean.prototype.valueOf.call(t):I(e)?I(t)&&BigInt.prototype.valueOf.call(e)===BigInt.prototype.valueOf.call(t):M(t)&&Symbol.prototype.valueOf.call(e)===Symbol.prototype.valueOf.call(t)}(e,t))return!1}return L(e,t,r,n,0)}function R(e,t){return t.filter((function(t){return p(e,t)}))}function L(e,t,r,i,s,c){if(5===arguments.length){c=Object.keys(e);var l=Object.keys(t);if(c.length!==l.length)return!1}for(var h=0;h<c.length;h++)if(!d(t,c[h]))return!1;if(r&&5===arguments.length){var g=f(e);if(0!==g.length){var y=0;for(h=0;h<g.length;h++){var m=g[h];if(p(e,m)){if(!p(t,m))return!1;c.push(m),y++}else if(p(t,m))return!1}var b=f(t);if(g.length!==b.length&&R(t,b).length!==y)return!1}else{var w=f(t);if(0!==w.length&&0!==R(t,w).length)return!1}}if(0===c.length&&(0===s||1===s&&0===e.length||0===e.size))return!0;if(void 0===i)i={val1:new Map,val2:new Map,position:0};else{var v=i.val1.get(e);if(void 0!==v){var _=i.val2.get(t);if(void 0!==_)return v===_}i.position++}i.val1.set(e,i.position),i.val2.set(t,i.position);var S=function(e,t,r,i,s,c){var f=0;if(2===c){if(!function(e,t,r,n){for(var i=null,s=a(e),u=0;u<s.length;u++){var c=s[u];if("object"===o(c)&&null!==c)null===i&&(i=new Set),i.add(c);else if(!t.has(c)){if(r)return!1;if(!D(e,t,c))return!1;null===i&&(i=new Set),i.add(c)}}if(null!==i){for(var f=a(t),l=0;l<f.length;l++){var h=f[l];if("object"===o(h)&&null!==h){if(!z(i,h,r,n))return!1}else if(!r&&!e.has(h)&&!z(i,h,r,n))return!1}return 0===i.size}return!0}(e,t,r,s))return!1}else if(3===c){if(!function(e,t,r,i){for(var s=null,a=u(e),c=0;c<a.length;c++){var f=n(a[c],2),l=f[0],h=f[1];if("object"===o(l)&&null!==l)null===s&&(s=new Set),s.add(l);else{var d=t.get(l);if(void 0===d&&!t.has(l)||!N(h,d,r,i)){if(r)return!1;if(!q(e,t,l,h,i))return!1;null===s&&(s=new Set),s.add(l)}}}if(null!==s){for(var p=u(t),g=0;g<p.length;g++){var y=n(p[g],2),m=y[0],b=y[1];if("object"===o(m)&&null!==m){if(!K(s,e,m,b,r,i))return!1}else if(!r&&(!e.has(m)||!N(e.get(m),b,!1,i))&&!K(s,e,m,b,!1,i))return!1}return 0===s.size}return!0}(e,t,r,s))return!1}else if(1===c)for(;f<e.length;f++){if(!d(e,f)){if(d(t,f))return!1;for(var l=Object.keys(e);f<l.length;f++){var h=l[f];if(!d(t,h)||!N(e[h],t[h],r,s))return!1}return l.length===Object.keys(t).length}if(!d(t,f)||!N(e[f],t[f],r,s))return!1}for(f=0;f<i.length;f++){var p=i[f];if(!N(e[p],t[p],r,s))return!1}return!0}(e,t,r,c,i,s);return i.val1.delete(e),i.val2.delete(t),S}function z(e,t,r,n){for(var i=a(e),o=0;o<i.length;o++){var s=i[o];if(N(t,s,r,n))return e.delete(s),!0}return!1}function j(e){switch(o(e)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":e=+e;case"number":if(l(e))return!1}return!0}function D(e,t,r){var n=j(r);return null!=n?n:t.has(n)&&!e.has(n)}function q(e,t,r,n,i){var o=j(r);if(null!=o)return o;var s=t.get(o);return!(void 0===s&&!t.has(o)||!N(n,s,!1,i))&&(!e.has(o)&&N(n,s,!1,i))}function K(e,t,r,n,i,o){for(var s=a(e),u=0;u<s.length;u++){var c=s[u];if(N(r,c,i,o)&&N(n,t.get(c),i,o))return e.delete(c),!0}return!1}e.exports={isDeepEqual:function(e,t){return N(e,t,false)},isDeepStrictEqual:function(e,t){return N(e,t,true)}}},tEAc:(e,t,r)=>{"use strict";var n=r("vhZ9").Buffer;e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var i=0;i<e.length;i++){var o=e.charAt(i),s=o.charCodeAt(0);if(255!==t[s])throw new TypeError(o+" is ambiguous");t[s]=i}var a=e.length,u=e.charAt(0),c=Math.log(a)/Math.log(256),f=Math.log(256)/Math.log(a);function l(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return n.alloc(0);for(var r=0,i=0,o=0;e[r]===u;)i++,r++;for(var s=(e.length-r)*c+1>>>0,f=new Uint8Array(s);r<e.length;){var l=t[e.charCodeAt(r)];if(255===l)return;for(var h=0,d=s-1;(0!==l||h<o)&&-1!==d;d--,h++)l+=a*f[d]>>>0,f[d]=l%256>>>0,l=l/256>>>0;if(0!==l)throw new Error("Non-zero carry");o=h,r++}for(var p=s-o;p!==s&&0===f[p];)p++;var g=n.allocUnsafe(i+(s-p));g.fill(0,0,i);for(var y=i;p!==s;)g[y++]=f[p++];return g}return{encode:function(t){if((Array.isArray(t)||t instanceof Uint8Array)&&(t=n.from(t)),!n.isBuffer(t))throw new TypeError("Expected Buffer");if(0===t.length)return"";for(var r=0,i=0,o=0,s=t.length;o!==s&&0===t[o];)o++,r++;for(var c=(s-o)*f+1>>>0,l=new Uint8Array(c);o!==s;){for(var h=t[o],d=0,p=c-1;(0!==h||d<i)&&-1!==p;p--,d++)h+=256*l[p]>>>0,l[p]=h%a>>>0,h=h/a>>>0;if(0!==h)throw new Error("Non-zero carry");i=d,o++}for(var g=c-i;g!==c&&0===l[g];)g++;for(var y=u.repeat(r);g<c;++g)y+=e.charAt(l[g]);return y},decodeUnsafe:l,decode:function(e){var t=l(e);if(t)return t;throw new Error("Non-base"+a+" character")}}}},swCh:e=>{"use strict";e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),r=0;r<t.length;r++)t[r]=255;for(var n=0;n<e.length;n++){var i=e.charAt(n),o=i.charCodeAt(0);if(255!==t[o])throw new TypeError(i+" is ambiguous");t[o]=n}var s=e.length,a=e.charAt(0),u=Math.log(s)/Math.log(256),c=Math.log(256)/Math.log(s);function f(e){if("string"!==typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var r=0,n=0,i=0;e[r]===a;)n++,r++;for(var o=(e.length-r)*u+1>>>0,c=new Uint8Array(o);e[r];){var f=t[e.charCodeAt(r)];if(255===f)return;for(var l=0,h=o-1;(0!==f||l<i)&&-1!==h;h--,l++)f+=s*c[h]>>>0,c[h]=f%256>>>0,f=f/256>>>0;if(0!==f)throw new Error("Non-zero carry");i=l,r++}for(var d=o-i;d!==o&&0===c[d];)d++;for(var p=new Uint8Array(n+(o-d)),g=n;d!==o;)p[g++]=c[d++];return p}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var r=0,n=0,i=0,o=t.length;i!==o&&0===t[i];)i++,r++;for(var u=(o-i)*c+1>>>0,f=new Uint8Array(u);i!==o;){for(var l=t[i],h=0,d=u-1;(0!==l||h<n)&&-1!==d;d--,h++)l+=256*f[d]>>>0,f[d]=l%s>>>0,l=l/s>>>0;if(0!==l)throw new Error("Non-zero carry");n=h,i++}for(var p=u-n;p!==u&&0===f[p];)p++;for(var g=a.repeat(r);p<u;++p)g+=e.charAt(f[p]);return g},decodeUnsafe:f,decode:function(e){var t=f(e);if(t)return t;throw new Error("Non-base"+s+" character")}}}},urnj:(e,t)=>{"use strict";t.byteLength=function(e){var t=a(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,o=a(e),s=o[0],u=o[1],c=new i(function(e,t,r){return 3*(t+r)/4-r}(0,s,u)),f=0,l=u>0?s-4:s;for(r=0;r<l;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],c[f++]=t>>16&255,c[f++]=t>>8&255,c[f++]=255&t;2===u&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,c[f++]=255&t);1===u&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,c[f++]=t>>8&255,c[f++]=255&t);return c},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],s=16383,a=0,c=n-i;a<c;a+=s)o.push(u(e,a,a+s>c?c:a+s));1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return o.join("")};for(var r=[],n=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function u(e,t,n){for(var i,o,s=[],a=t;a<n;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},"/aXE":(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bech32m=t.bech32=void 0;const r="qpzry9x8gf2tvdw0s3jn54khce6mua7l",n={};for(let l=0;l<32;l++){const e=r.charAt(l);n[e]=l}function i(e){const t=e>>25;return(33554431&e)<<5^996825010&-(1&t)^642813549&-(t>>1&1)^513874426&-(t>>2&1)^1027748829&-(t>>3&1)^705979059&-(t>>4&1)}function o(e){let t=1;for(let r=0;r<e.length;++r){const n=e.charCodeAt(r);if(n<33||n>126)return"Invalid prefix ("+e+")";t=i(t)^n>>5}t=i(t);for(let r=0;r<e.length;++r){const n=e.charCodeAt(r);t=i(t)^31&n}return t}function s(e,t,r,n){let i=0,o=0;const s=(1<<r)-1,a=[];for(let u=0;u<e.length;++u)for(i=i<<t|e[u],o+=t;o>=r;)o-=r,a.push(i>>o&s);if(n)o>0&&a.push(i<<r-o&s);else{if(o>=t)return"Excess padding";if(i<<r-o&s)return"Non-zero padding"}return a}function a(e){return s(e,8,5,!0)}function u(e){const t=s(e,5,8,!1);if(Array.isArray(t))return t}function c(e){const t=s(e,5,8,!1);if(Array.isArray(t))return t;throw new Error(t)}function f(e){let t;function s(e,r){if(r=r||90,e.length<8)return e+" too short";if(e.length>r)return"Exceeds length limit";const s=e.toLowerCase(),a=e.toUpperCase();if(e!==s&&e!==a)return"Mixed-case string "+e;const u=(e=s).lastIndexOf("1");if(-1===u)return"No separator character for "+e;if(0===u)return"Missing prefix for "+e;const c=e.slice(0,u),f=e.slice(u+1);if(f.length<6)return"Data too short";let l=o(c);if("string"===typeof l)return l;const h=[];for(let t=0;t<f.length;++t){const e=f.charAt(t),r=n[e];if(void 0===r)return"Unknown character "+e;l=i(l)^r,t+6>=f.length||h.push(r)}return l!==t?"Invalid checksum for "+e:{prefix:c,words:h}}return t="bech32"===e?1:734539939,{decodeUnsafe:function(e,t){const r=s(e,t);if("object"===typeof r)return r},decode:function(e,t){const r=s(e,t);if("object"===typeof r)return r;throw new Error(r)},encode:function(e,n,s){if(s=s||90,e.length+7+n.length>s)throw new TypeError("Exceeds length limit");let a=o(e=e.toLowerCase());if("string"===typeof a)throw new Error(a);let u=e+"1";for(let t=0;t<n.length;++t){const e=n[t];if(e>>5!==0)throw new Error("Non 5-bit word");a=i(a)^e,u+=r.charAt(e)}for(let t=0;t<6;++t)a=i(a);a^=t;for(let t=0;t<6;++t){u+=r.charAt(a>>5*(5-t)&31)}return u},toWords:a,fromWordsUnsafe:u,fromWords:c}}t.bech32=f("bech32"),t.bech32m=f("bech32m")},GRMR:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;t.oU=function(e){{const t=n.from(e);t.reverse();const r=t.toString("hex");return 0===r.length?BigInt(0):BigInt(`0x${r}`)}},t.k$=function(e,t){{const r=e.toString(16),i=n.from(r.padStart(2*t,"0").slice(0,2*t),"hex");return i.reverse(),i}}},eocT:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("5ofu");function i(e,t,r){return n=>{if(e.has(n))return;const i=r.filter((e=>e.key.toString("hex")===n))[0];t.push(i),e.add(n)}}function o(e){return e.globalMap.unsignedTx}function s(e){const t=new Set;return e.forEach((e=>{const r=e.key.toString("hex");if(t.has(r))throw new Error("Combine: KeyValue Map keys should be unique");t.add(r)})),t}t.combine=function(e){const t=e[0],r=n.psbtToKeyVals(t),a=e.slice(1);if(0===a.length)throw new Error("Combine: Nothing to combine");const u=o(t);if(void 0===u)throw new Error("Combine: Self missing transaction");const c=s(r.globalKeyVals),f=r.inputKeyVals.map(s),l=r.outputKeyVals.map(s);for(const h of a){const e=o(h);if(void 0===e||!e.toBuffer().equals(u.toBuffer()))throw new Error("Combine: One of the Psbts does not have the same transaction.");const t=n.psbtToKeyVals(h);s(t.globalKeyVals).forEach(i(c,r.globalKeyVals,t.globalKeyVals));t.inputKeyVals.map(s).forEach(((e,n)=>e.forEach(i(f[n],r.inputKeyVals[n],t.inputKeyVals[n]))));t.outputKeyVals.map(s).forEach(((e,n)=>e.forEach(i(l[n],r.outputKeyVals[n],t.outputKeyVals[n]))))}return n.psbtFromKeyVals(u,{globalMapKeyVals:r.globalKeyVals,inputKeyVals:r.inputKeyVals,outputKeyVals:r.outputKeyVals})}},t7fo:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r("kdV8");t.decode=function(e){if(e.key[0]!==i.GlobalTypes.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+e.key.toString("hex"));if(79!==e.key.length||![2,3].includes(e.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+e.key.toString("hex"));if(e.value.length/4%1!==0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");const t=e.key.slice(1),r={masterFingerprint:e.value.slice(0,4),extendedPubkey:t,path:"m"};for(const n of(e=>[...Array(e).keys()])(e.value.length/4-1)){const t=e.value.readUInt32LE(4*n+4),i=!!(2147483648&t),o=2147483647&t;r.path+="/"+o.toString(10)+(i?"'":"")}return r},t.encode=function(e){const t=n.from([i.GlobalTypes.GLOBAL_XPUB]),r=n.concat([t,e.extendedPubkey]),o=e.path.split("/"),s=n.allocUnsafe(4*o.length);e.masterFingerprint.copy(s,0);let a=4;return o.slice(1).forEach((e=>{const t="'"===e.slice(-1);let r=2147483647&parseInt(t?e.slice(0,-1):e,10);t&&(r+=2147483648),s.writeUInt32LE(r,a),a+=4})),{key:r,value:s}},t.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }",t.check=function(e){const t=e.extendedPubkey,r=e.masterFingerprint,i=e.path;return n.isBuffer(t)&&78===t.length&&[2,3].indexOf(t[45])>-1&&n.isBuffer(r)&&4===r.length&&"string"===typeof i&&!!i.match(/^m(\/\d+'?)*$/)},t.canAddToArray=function(e,t,r){const n=t.extendedPubkey.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter((e=>e.extendedPubkey.equals(t.extendedPubkey))).length)}},"1ISv":(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r("kdV8");t.encode=function(e){return{key:n.from([i.GlobalTypes.UNSIGNED_TX]),value:e.toBuffer()}}},TS30:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("kdV8"),i=r("t7fo"),o=r("1ISv"),s=r("LGAQ"),a=r("h3w7"),u=r("gyG7"),c=r("wKJI"),f=r("1YFU"),l=r("RB+h"),h=r("WVfU"),d=r("Iatz"),p=r("+Sw+"),g=r("uYtd"),y=r("VVh0"),m=r("9ysL"),b=r("UWrg"),w=r("V0yE"),v=r("3Tcf"),_=r("8WjB"),S=r("mIzu"),E=r("c0bI"),A={unsignedTx:o,globalXpub:i,checkPubkey:w.makeChecker([])};t.globals=A;const x={nonWitnessUtxo:u,partialSig:c,sighashType:l,finalScriptSig:s,finalScriptWitness:a,porCommitment:f,witnessUtxo:y,bip32Derivation:b.makeConverter(n.InputTypes.BIP32_DERIVATION),redeemScript:v.makeConverter(n.InputTypes.REDEEM_SCRIPT),witnessScript:E.makeConverter(n.InputTypes.WITNESS_SCRIPT),checkPubkey:w.makeChecker([n.InputTypes.PARTIAL_SIG,n.InputTypes.BIP32_DERIVATION]),tapKeySig:h,tapScriptSig:g,tapLeafScript:d,tapBip32Derivation:_.makeConverter(n.InputTypes.TAP_BIP32_DERIVATION),tapInternalKey:S.makeConverter(n.InputTypes.TAP_INTERNAL_KEY),tapMerkleRoot:p};t.inputs=x;const k={bip32Derivation:b.makeConverter(n.OutputTypes.BIP32_DERIVATION),redeemScript:v.makeConverter(n.OutputTypes.REDEEM_SCRIPT),witnessScript:E.makeConverter(n.OutputTypes.WITNESS_SCRIPT),checkPubkey:w.makeChecker([n.OutputTypes.BIP32_DERIVATION]),tapBip32Derivation:_.makeConverter(n.OutputTypes.TAP_BIP32_DERIVATION),tapTree:m,tapInternalKey:S.makeConverter(n.OutputTypes.TAP_INTERNAL_KEY)};t.outputs=k},LGAQ:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r("kdV8");t.decode=function(e){if(e.key[0]!==i.InputTypes.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+e.key.toString("hex"));return e.value},t.encode=function(e){return{key:n.from([i.InputTypes.FINAL_SCRIPTSIG]),value:e}},t.expected="Buffer",t.check=function(e){return n.isBuffer(e)},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.finalScriptSig}},h3w7:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r("kdV8");t.decode=function(e){if(e.key[0]!==i.InputTypes.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+e.key.toString("hex"));return e.value},t.encode=function(e){return{key:n.from([i.InputTypes.FINAL_SCRIPTWITNESS]),value:e}},t.expected="Buffer",t.check=function(e){return n.isBuffer(e)},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.finalScriptWitness}},gyG7:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r("kdV8");t.decode=function(e){if(e.key[0]!==i.InputTypes.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+e.key.toString("hex"));return e.value},t.encode=function(e){return{key:n.from([i.InputTypes.NON_WITNESS_UTXO]),value:e}},t.expected="Buffer",t.check=function(e){return n.isBuffer(e)},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.nonWitnessUtxo}},wKJI:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r("kdV8");t.decode=function(e){if(e.key[0]!==i.InputTypes.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+e.key.toString("hex"));if(34!==e.key.length&&66!==e.key.length||![2,3,4].includes(e.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+e.key.toString("hex"));return{pubkey:e.key.slice(1),signature:e.value}},t.encode=function(e){const t=n.from([i.InputTypes.PARTIAL_SIG]);return{key:n.concat([t,e.pubkey]),value:e.signature}},t.expected="{ pubkey: Buffer; signature: Buffer; }",t.check=function(e){return n.isBuffer(e.pubkey)&&n.isBuffer(e.signature)&&[33,65].includes(e.pubkey.length)&&[2,3,4].includes(e.pubkey[0])&&function(e){if(!n.isBuffer(e)||e.length<9)return!1;if(48!==e[0])return!1;if(e.length!==e[1]+3)return!1;if(2!==e[2])return!1;const t=e[3];if(t>33||t<1)return!1;if(2!==e[3+t+1])return!1;const r=e[3+t+2];return!(r>33||r<1)&&e.length===3+t+2+r+2}(e.signature)},t.canAddToArray=function(e,t,r){const n=t.pubkey.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter((e=>e.pubkey.equals(t.pubkey))).length)}},"1YFU":(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r("kdV8");t.decode=function(e){if(e.key[0]!==i.InputTypes.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+e.key.toString("hex"));return e.value.toString("utf8")},t.encode=function(e){return{key:n.from([i.InputTypes.POR_COMMITMENT]),value:n.from(e,"utf8")}},t.expected="string",t.check=function(e){return"string"===typeof e},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.porCommitment}},"RB+h":(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r("kdV8");t.decode=function(e){if(e.key[0]!==i.InputTypes.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+e.key.toString("hex"));return e.value.readUInt32LE(0)},t.encode=function(e){const t=n.from([i.InputTypes.SIGHASH_TYPE]),r=n.allocUnsafe(4);return r.writeUInt32LE(e,0),{key:t,value:r}},t.expected="number",t.check=function(e){return"number"===typeof e},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.sighashType}},WVfU:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r("kdV8");function o(e){return n.isBuffer(e)&&(64===e.length||65===e.length)}t.decode=function(e){if(e.key[0]!==i.InputTypes.TAP_KEY_SIG||1!==e.key.length)throw new Error("Decode Error: could not decode tapKeySig with key 0x"+e.key.toString("hex"));if(!o(e.value))throw new Error("Decode Error: tapKeySig not a valid 64-65-byte BIP340 signature");return e.value},t.encode=function(e){return{key:n.from([i.InputTypes.TAP_KEY_SIG]),value:e}},t.expected="Buffer",t.check=o,t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.tapKeySig}},Iatz:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r("kdV8");t.decode=function(e){if(e.key[0]!==i.InputTypes.TAP_LEAF_SCRIPT)throw new Error("Decode Error: could not decode tapLeafScript with key 0x"+e.key.toString("hex"));if((e.key.length-2)%32!==0)throw new Error("Decode Error: tapLeafScript has invalid control block in key 0x"+e.key.toString("hex"));const t=e.value[e.value.length-1];if((254&e.key[1])!==t)throw new Error("Decode Error: tapLeafScript bad leaf version in key 0x"+e.key.toString("hex"));const r=e.value.slice(0,-1);return{controlBlock:e.key.slice(1),script:r,leafVersion:t}},t.encode=function(e){const t=n.from([i.InputTypes.TAP_LEAF_SCRIPT]),r=n.from([e.leafVersion]);return{key:n.concat([t,e.controlBlock]),value:n.concat([e.script,r])}},t.expected="{ controlBlock: Buffer; leafVersion: number, script: Buffer; }",t.check=function(e){return n.isBuffer(e.controlBlock)&&(e.controlBlock.length-1)%32===0&&(254&e.controlBlock[0])===e.leafVersion&&n.isBuffer(e.script)},t.canAddToArray=function(e,t,r){const n=t.controlBlock.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter((e=>e.controlBlock.equals(t.controlBlock))).length)}},"+Sw+":(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r("kdV8");function o(e){return n.isBuffer(e)&&32===e.length}t.decode=function(e){if(e.key[0]!==i.InputTypes.TAP_MERKLE_ROOT||1!==e.key.length)throw new Error("Decode Error: could not decode tapMerkleRoot with key 0x"+e.key.toString("hex"));if(!o(e.value))throw new Error("Decode Error: tapMerkleRoot not a 32-byte hash");return e.value},t.encode=function(e){return{key:n.from([i.InputTypes.TAP_MERKLE_ROOT]),value:e}},t.expected="Buffer",t.check=o,t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.tapMerkleRoot}},uYtd:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r("kdV8");t.decode=function(e){if(e.key[0]!==i.InputTypes.TAP_SCRIPT_SIG)throw new Error("Decode Error: could not decode tapScriptSig with key 0x"+e.key.toString("hex"));if(65!==e.key.length)throw new Error("Decode Error: tapScriptSig has invalid key 0x"+e.key.toString("hex"));if(64!==e.value.length&&65!==e.value.length)throw new Error("Decode Error: tapScriptSig has invalid signature in key 0x"+e.key.toString("hex"));return{pubkey:e.key.slice(1,33),leafHash:e.key.slice(33),signature:e.value}},t.encode=function(e){const t=n.from([i.InputTypes.TAP_SCRIPT_SIG]);return{key:n.concat([t,e.pubkey,e.leafHash]),value:e.signature}},t.expected="{ pubkey: Buffer; leafHash: Buffer; signature: Buffer; }",t.check=function(e){return n.isBuffer(e.pubkey)&&n.isBuffer(e.leafHash)&&n.isBuffer(e.signature)&&32===e.pubkey.length&&32===e.leafHash.length&&(64===e.signature.length||65===e.signature.length)},t.canAddToArray=function(e,t,r){const n=t.pubkey.toString("hex")+t.leafHash.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter((e=>e.pubkey.equals(t.pubkey)&&e.leafHash.equals(t.leafHash))).length)}},VVh0:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r("kdV8"),o=r("leUt"),s=r("9BaV");t.decode=function(e){if(e.key[0]!==i.InputTypes.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+e.key.toString("hex"));const t=o.readUInt64LE(e.value,0);let r=8;const n=s.decode(e.value,r);r+=s.encodingLength(n);const a=e.value.slice(r);if(a.length!==n)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:a,value:t}},t.encode=function(e){const{script:t,value:r}=e,a=s.encodingLength(t.length),u=n.allocUnsafe(8+a+t.length);return o.writeUInt64LE(u,r,0),s.encode(t.length,u,8),t.copy(u,8+a),{key:n.from([i.InputTypes.WITNESS_UTXO]),value:u}},t.expected="{ script: Buffer; value: number; }",t.check=function(e){return n.isBuffer(e.script)&&"number"===typeof e.value},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.witnessUtxo}},"9ysL":(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r("kdV8"),o=r("9BaV");t.decode=function(e){if(e.key[0]!==i.OutputTypes.TAP_TREE||1!==e.key.length)throw new Error("Decode Error: could not decode tapTree with key 0x"+e.key.toString("hex"));let t=0;const r=[];for(;t<e.value.length;){const n=e.value[t++],i=e.value[t++],s=o.decode(e.value,t);t+=o.encodingLength(s),r.push({depth:n,leafVersion:i,script:e.value.slice(t,t+s)}),t+=s}return{leaves:r}},t.encode=function(e){const t=n.from([i.OutputTypes.TAP_TREE]),r=[].concat(...e.leaves.map((e=>[n.of(e.depth,e.leafVersion),o.encode(e.script.length),e.script])));return{key:t,value:n.concat(r)}},t.expected="{ leaves: [{ depth: number; leafVersion: number, script: Buffer; }] }",t.check=function(e){return Array.isArray(e.leaves)&&e.leaves.every((e=>e.depth>=0&&e.depth<=128&&(254&e.leafVersion)===e.leafVersion&&n.isBuffer(e.script)))},t.canAdd=function(e,t){return!!e&&!!t&&void 0===e.tapTree}},UWrg:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=e=>33===e.length&&[2,3].includes(e[0])||65===e.length&&4===e[0];t.makeConverter=function(e,t=i){return{decode:function(r){if(r.key[0]!==e)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+r.key.toString("hex"));const n=r.key.slice(1);if(!t(n))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+r.key.toString("hex"));if(r.value.length/4%1!==0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");const i={masterFingerprint:r.value.slice(0,4),pubkey:n,path:"m"};for(const e of(e=>[...Array(e).keys()])(r.value.length/4-1)){const t=r.value.readUInt32LE(4*e+4),n=!!(2147483648&t),o=2147483647&t;i.path+="/"+o.toString(10)+(n?"'":"")}return i},encode:function(t){const r=n.from([e]),i=n.concat([r,t.pubkey]),o=t.path.split("/"),s=n.allocUnsafe(4*o.length);t.masterFingerprint.copy(s,0);let a=4;return o.slice(1).forEach((e=>{const t="'"===e.slice(-1);let r=2147483647&parseInt(t?e.slice(0,-1):e,10);t&&(r+=2147483648),s.writeUInt32LE(r,a),a+=4})),{key:i,value:s}},check:function(e){return n.isBuffer(e.pubkey)&&n.isBuffer(e.masterFingerprint)&&"string"===typeof e.path&&t(e.pubkey)&&4===e.masterFingerprint.length},expected:"{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }",canAddToArray:function(e,t,r){const n=t.pubkey.toString("hex");return!r.has(n)&&(r.add(n),0===e.filter((e=>e.pubkey.equals(t.pubkey))).length)}}}},V0yE:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.makeChecker=function(e){return function(t){let r;if(e.includes(t.key[0])&&(r=t.key.slice(1),33!==r.length&&65!==r.length||![2,3,4].includes(r[0])))throw new Error("Format Error: invalid pubkey in key 0x"+t.key.toString("hex"));return r}}},"3Tcf":(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.makeConverter=function(e){return{decode:function(t){if(t.key[0]!==e)throw new Error("Decode Error: could not decode redeemScript with key 0x"+t.key.toString("hex"));return t.value},encode:function(t){return{key:n.from([e]),value:t}},check:function(e){return n.isBuffer(e)},expected:"Buffer",canAdd:function(e,t){return!!e&&!!t&&void 0===e.redeemScript}}}},"8WjB":(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r("9BaV"),o=r("UWrg"),s=e=>32===e.length;t.makeConverter=function(e){const t=o.makeConverter(e,s);return{decode:function(e){const r=i.decode(e.value),n=i.encodingLength(r),o=t.decode({key:e.key,value:e.value.slice(n+32*r)}),s=new Array(r);for(let t=0,i=n;t<r;t++,i+=32)s[t]=e.value.slice(i,i+32);return Object.assign({},o,{leafHashes:s})},encode:function(e){const r=t.encode(e),o=i.encodingLength(e.leafHashes.length),s=n.allocUnsafe(o);i.encode(e.leafHashes.length,s);const a=n.concat([s,...e.leafHashes,r.value]);return Object.assign({},r,{value:a})},check:function(e){return Array.isArray(e.leafHashes)&&e.leafHashes.every((e=>n.isBuffer(e)&&32===e.length))&&t.check(e)},expected:"{ masterFingerprint: Buffer; pubkey: Buffer; path: string; leafHashes: Buffer[]; }",canAddToArray:t.canAddToArray}}},mIzu:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.makeConverter=function(e){return{decode:function(t){if(t.key[0]!==e||1!==t.key.length)throw new Error("Decode Error: could not decode tapInternalKey with key 0x"+t.key.toString("hex"));if(32!==t.value.length)throw new Error("Decode Error: tapInternalKey not a 32-byte x-only pubkey");return t.value},encode:function(t){return{key:n.from([e]),value:t}},check:function(e){return n.isBuffer(e)&&32===e.length},expected:"Buffer",canAdd:function(e,t){return!!e&&!!t&&void 0===e.tapInternalKey}}}},c0bI:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.makeConverter=function(e){return{decode:function(t){if(t.key[0]!==e)throw new Error("Decode Error: could not decode witnessScript with key 0x"+t.key.toString("hex"));return t.value},encode:function(t){return{key:n.from([e]),value:t}},check:function(e){return n.isBuffer(e)},expected:"Buffer",canAdd:function(e,t){return!!e&&!!t&&void 0===e.witnessScript}}}},leUt:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r("9BaV");function o(e){const t=e.key.length,r=e.value.length,o=i.encodingLength(t),s=i.encodingLength(r),a=n.allocUnsafe(o+t+s+r);return i.encode(t,a,0),e.key.copy(a,o),i.encode(r,a,o+t),e.value.copy(a,o+t+s),a}function s(e,t){if("number"!==typeof e)throw new Error("cannot write a non-number as a number");if(e<0)throw new Error("specified a negative value for writing an unsigned value");if(e>t)throw new Error("RangeError: value out of range");if(Math.floor(e)!==e)throw new Error("value has a fractional component")}t.range=e=>[...Array(e).keys()],t.reverseBuffer=function(e){if(e.length<1)return e;let t=e.length-1,r=0;for(let n=0;n<e.length/2;n++)r=e[n],e[n]=e[t],e[t]=r,t--;return e},t.keyValsToBuffer=function(e){const t=e.map(o);return t.push(n.from([0])),n.concat(t)},t.keyValToBuffer=o,t.readUInt64LE=function(e,t){const r=e.readUInt32LE(t);let n=e.readUInt32LE(t+4);return n*=4294967296,s(n+r,9007199254740991),n+r},t.writeUInt64LE=function(e,t,r){return s(t,9007199254740991),e.writeInt32LE(-1&t,r),e.writeUInt32LE(Math.floor(t/4294967296),r+4),r+8}},"9BaV":(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0});function i(e){if(e<0||e>9007199254740991||e%1!==0)throw new RangeError("value out of range")}function o(e){return i(e),e<253?1:e<=65535?3:e<=4294967295?5:9}t.encode=function e(t,r,s){if(i(t),r||(r=n.allocUnsafe(o(t))),!n.isBuffer(r))throw new TypeError("buffer must be a Buffer instance");return s||(s=0),t<253?(r.writeUInt8(t,s),Object.assign(e,{bytes:1})):t<=65535?(r.writeUInt8(253,s),r.writeUInt16LE(t,s+1),Object.assign(e,{bytes:3})):t<=4294967295?(r.writeUInt8(254,s),r.writeUInt32LE(t,s+1),Object.assign(e,{bytes:5})):(r.writeUInt8(255,s),r.writeUInt32LE(t>>>0,s+1),r.writeUInt32LE(t/4294967296|0,s+5),Object.assign(e,{bytes:9})),r},t.decode=function e(t,r){if(!n.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");r||(r=0);const o=t.readUInt8(r);if(o<253)return Object.assign(e,{bytes:1}),o;if(253===o)return Object.assign(e,{bytes:3}),t.readUInt16LE(r+1);if(254===o)return Object.assign(e,{bytes:5}),t.readUInt32LE(r+1);{Object.assign(e,{bytes:9});const n=t.readUInt32LE(r+1),o=4294967296*t.readUInt32LE(r+5)+n;return i(o),o}},t.encodingLength=o},dtwj:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r("TS30"),o=r("leUt"),s=r("9BaV"),a=r("kdV8");function u(e,t,r){if(!t.equals(n.from([r])))throw new Error(`Format Error: Invalid ${e} key: ${t.toString("hex")}`)}function c(e,{globalMapKeyVals:t,inputKeyVals:r,outputKeyVals:n}){const s={unsignedTx:e};let c=0;for(const o of t)switch(o.key[0]){case a.GlobalTypes.UNSIGNED_TX:if(u("global",o.key,a.GlobalTypes.UNSIGNED_TX),c>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");c++;break;case a.GlobalTypes.GLOBAL_XPUB:void 0===s.globalXpub&&(s.globalXpub=[]),s.globalXpub.push(i.globals.globalXpub.decode(o));break;default:s.unknownKeyVals||(s.unknownKeyVals=[]),s.unknownKeyVals.push(o)}const f=r.length,l=n.length,h=[],d=[];for(const p of o.range(f)){const e={};for(const t of r[p])switch(i.inputs.checkPubkey(t),t.key[0]){case a.InputTypes.NON_WITNESS_UTXO:if(u("input",t.key,a.InputTypes.NON_WITNESS_UTXO),void 0!==e.nonWitnessUtxo)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");e.nonWitnessUtxo=i.inputs.nonWitnessUtxo.decode(t);break;case a.InputTypes.WITNESS_UTXO:if(u("input",t.key,a.InputTypes.WITNESS_UTXO),void 0!==e.witnessUtxo)throw new Error("Format Error: Input has multiple WITNESS_UTXO");e.witnessUtxo=i.inputs.witnessUtxo.decode(t);break;case a.InputTypes.PARTIAL_SIG:void 0===e.partialSig&&(e.partialSig=[]),e.partialSig.push(i.inputs.partialSig.decode(t));break;case a.InputTypes.SIGHASH_TYPE:if(u("input",t.key,a.InputTypes.SIGHASH_TYPE),void 0!==e.sighashType)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");e.sighashType=i.inputs.sighashType.decode(t);break;case a.InputTypes.REDEEM_SCRIPT:if(u("input",t.key,a.InputTypes.REDEEM_SCRIPT),void 0!==e.redeemScript)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");e.redeemScript=i.inputs.redeemScript.decode(t);break;case a.InputTypes.WITNESS_SCRIPT:if(u("input",t.key,a.InputTypes.WITNESS_SCRIPT),void 0!==e.witnessScript)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");e.witnessScript=i.inputs.witnessScript.decode(t);break;case a.InputTypes.BIP32_DERIVATION:void 0===e.bip32Derivation&&(e.bip32Derivation=[]),e.bip32Derivation.push(i.inputs.bip32Derivation.decode(t));break;case a.InputTypes.FINAL_SCRIPTSIG:u("input",t.key,a.InputTypes.FINAL_SCRIPTSIG),e.finalScriptSig=i.inputs.finalScriptSig.decode(t);break;case a.InputTypes.FINAL_SCRIPTWITNESS:u("input",t.key,a.InputTypes.FINAL_SCRIPTWITNESS),e.finalScriptWitness=i.inputs.finalScriptWitness.decode(t);break;case a.InputTypes.POR_COMMITMENT:u("input",t.key,a.InputTypes.POR_COMMITMENT),e.porCommitment=i.inputs.porCommitment.decode(t);break;case a.InputTypes.TAP_KEY_SIG:u("input",t.key,a.InputTypes.TAP_KEY_SIG),e.tapKeySig=i.inputs.tapKeySig.decode(t);break;case a.InputTypes.TAP_SCRIPT_SIG:void 0===e.tapScriptSig&&(e.tapScriptSig=[]),e.tapScriptSig.push(i.inputs.tapScriptSig.decode(t));break;case a.InputTypes.TAP_LEAF_SCRIPT:void 0===e.tapLeafScript&&(e.tapLeafScript=[]),e.tapLeafScript.push(i.inputs.tapLeafScript.decode(t));break;case a.InputTypes.TAP_BIP32_DERIVATION:void 0===e.tapBip32Derivation&&(e.tapBip32Derivation=[]),e.tapBip32Derivation.push(i.inputs.tapBip32Derivation.decode(t));break;case a.InputTypes.TAP_INTERNAL_KEY:u("input",t.key,a.InputTypes.TAP_INTERNAL_KEY),e.tapInternalKey=i.inputs.tapInternalKey.decode(t);break;case a.InputTypes.TAP_MERKLE_ROOT:u("input",t.key,a.InputTypes.TAP_MERKLE_ROOT),e.tapMerkleRoot=i.inputs.tapMerkleRoot.decode(t);break;default:e.unknownKeyVals||(e.unknownKeyVals=[]),e.unknownKeyVals.push(t)}h.push(e)}for(const p of o.range(l)){const e={};for(const t of n[p])switch(i.outputs.checkPubkey(t),t.key[0]){case a.OutputTypes.REDEEM_SCRIPT:if(u("output",t.key,a.OutputTypes.REDEEM_SCRIPT),void 0!==e.redeemScript)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");e.redeemScript=i.outputs.redeemScript.decode(t);break;case a.OutputTypes.WITNESS_SCRIPT:if(u("output",t.key,a.OutputTypes.WITNESS_SCRIPT),void 0!==e.witnessScript)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");e.witnessScript=i.outputs.witnessScript.decode(t);break;case a.OutputTypes.BIP32_DERIVATION:void 0===e.bip32Derivation&&(e.bip32Derivation=[]),e.bip32Derivation.push(i.outputs.bip32Derivation.decode(t));break;case a.OutputTypes.TAP_INTERNAL_KEY:u("output",t.key,a.OutputTypes.TAP_INTERNAL_KEY),e.tapInternalKey=i.outputs.tapInternalKey.decode(t);break;case a.OutputTypes.TAP_TREE:u("output",t.key,a.OutputTypes.TAP_TREE),e.tapTree=i.outputs.tapTree.decode(t);break;case a.OutputTypes.TAP_BIP32_DERIVATION:void 0===e.tapBip32Derivation&&(e.tapBip32Derivation=[]),e.tapBip32Derivation.push(i.outputs.tapBip32Derivation.decode(t));break;default:e.unknownKeyVals||(e.unknownKeyVals=[]),e.unknownKeyVals.push(t)}d.push(e)}return{globalMap:s,inputs:h,outputs:d}}t.psbtFromBuffer=function(e,t){let r=0;function n(){const t=s.decode(e,r);r+=s.encodingLength(t);const n=e.slice(r,r+t);return r+=t,n}function i(){return{key:n(),value:n()}}function u(){if(r>=e.length)throw new Error("Format Error: Unexpected End of PSBT");const t=0===e.readUInt8(r);return t&&r++,t}if(1886610036!==function(){const t=e.readUInt32BE(r);return r+=4,t}())throw new Error("Format Error: Invalid Magic Number");if(255!==function(){const t=e.readUInt8(r);return r+=1,t}())throw new Error("Format Error: Magic Number must be followed by 0xff separator");const f=[],l={};for(;!u();){const e=i(),t=e.key.toString("hex");if(l[t])throw new Error("Format Error: Keys must be unique for global keymap: key "+t);l[t]=1,f.push(e)}const h=f.filter((e=>e.key[0]===a.GlobalTypes.UNSIGNED_TX));if(1!==h.length)throw new Error("Format Error: Only one UNSIGNED_TX allowed");const d=t(h[0].value),{inputCount:p,outputCount:g}=d.getInputOutputCounts(),y=[],m=[];for(const s of o.range(p)){const e={},t=[];for(;!u();){const r=i(),n=r.key.toString("hex");if(e[n])throw new Error("Format Error: Keys must be unique for each input: input index "+s+" key "+n);e[n]=1,t.push(r)}y.push(t)}for(const s of o.range(g)){const e={},t=[];for(;!u();){const r=i(),n=r.key.toString("hex");if(e[n])throw new Error("Format Error: Keys must be unique for each output: output index "+s+" key "+n);e[n]=1,t.push(r)}m.push(t)}return c(d,{globalMapKeyVals:f,inputKeyVals:y,outputKeyVals:m})},t.checkKeyBuffer=u,t.psbtFromKeyVals=c},"5ofu":(e,t,r)=>{"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("dtwj")),n(r("x76R"))},x76R:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r("TS30"),o=r("leUt");t.psbtToBuffer=function({globalMap:e,inputs:t,outputs:r}){const{globalKeyVals:i,inputKeyVals:s,outputKeyVals:a}=u({globalMap:e,inputs:t,outputs:r}),c=o.keyValsToBuffer(i),f=e=>0===e.length?[n.from([0])]:e.map(o.keyValsToBuffer),l=f(s),h=f(a),d=n.allocUnsafe(5);return d.writeUIntBE(482972169471,0,5),n.concat([d,c].concat(l,h))};const s=(e,t)=>e.key.compare(t.key);function a(e,t){const r=new Set,n=Object.entries(e).reduce(((e,[n,i])=>{if("unknownKeyVals"===n)return e;const o=t[n];if(void 0===o)return e;const s=(Array.isArray(i)?i:[i]).map(o.encode);return s.map((e=>e.key.toString("hex"))).forEach((e=>{if(r.has(e))throw new Error("Serialize Error: Duplicate key: "+e);r.add(e)})),e.concat(s)}),[]),i=e.unknownKeyVals?e.unknownKeyVals.filter((e=>!r.has(e.key.toString("hex")))):[];return n.concat(i).sort(s)}function u({globalMap:e,inputs:t,outputs:r}){return{globalKeyVals:a(e,i.globals),inputKeyVals:t.map((e=>a(e,i.inputs))),outputKeyVals:r.map((e=>a(e,i.outputs)))}}t.psbtToKeyVals=u},"+kyn":(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r("eocT"),o=r("5ofu"),s=r("kdV8"),a=r("mYwY");t.Psbt=class{constructor(e){this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:e}}static fromBase64(e,t){const r=n.from(e,"base64");return this.fromBuffer(r,t)}static fromHex(e,t){const r=n.from(e,"hex");return this.fromBuffer(r,t)}static fromBuffer(e,t){const r=o.psbtFromBuffer(e,t),n=new this(r.globalMap.unsignedTx);return Object.assign(n,r),n}toBase64(){return this.toBuffer().toString("base64")}toHex(){return this.toBuffer().toString("hex")}toBuffer(){return o.psbtToBuffer(this)}updateGlobal(e){return a.updateGlobal(e,this.globalMap),this}updateInput(e,t){const r=a.checkForInput(this.inputs,e);return a.updateInput(t,r),this}updateOutput(e,t){const r=a.checkForOutput(this.outputs,e);return a.updateOutput(t,r),this}addUnknownKeyValToGlobal(e){return a.checkHasKey(e,this.globalMap.unknownKeyVals,a.getEnumLength(s.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(e),this}addUnknownKeyValToInput(e,t){const r=a.checkForInput(this.inputs,e);return a.checkHasKey(t,r.unknownKeyVals,a.getEnumLength(s.InputTypes)),r.unknownKeyVals||(r.unknownKeyVals=[]),r.unknownKeyVals.push(t),this}addUnknownKeyValToOutput(e,t){const r=a.checkForOutput(this.outputs,e);return a.checkHasKey(t,r.unknownKeyVals,a.getEnumLength(s.OutputTypes)),r.unknownKeyVals||(r.unknownKeyVals=[]),r.unknownKeyVals.push(t),this}addInput(e){this.globalMap.unsignedTx.addInput(e),this.inputs.push({unknownKeyVals:[]});const t=e.unknownKeyVals||[],r=this.inputs.length-1;if(!Array.isArray(t))throw new Error("unknownKeyVals must be an Array");return t.forEach((e=>this.addUnknownKeyValToInput(r,e))),a.addInputAttributes(this.inputs,e),this}addOutput(e){this.globalMap.unsignedTx.addOutput(e),this.outputs.push({unknownKeyVals:[]});const t=e.unknownKeyVals||[],r=this.outputs.length-1;if(!Array.isArray(t))throw new Error("unknownKeyVals must be an Array");return t.forEach((e=>this.addUnknownKeyValToOutput(r,e))),a.addOutputAttributes(this.outputs,e),this}clearFinalizedInput(e){const t=a.checkForInput(this.inputs,e);a.inputCheckUncleanFinalized(e,t);for(const r of Object.keys(t))["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(r)||delete t[r];return this}combine(...e){const t=i.combine([this].concat(e));return Object.assign(this,t),this}getTransaction(){return this.globalMap.unsignedTx.toBuffer()}}},kdV8:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.UNSIGNED_TX=0]="UNSIGNED_TX",e[e.GLOBAL_XPUB=1]="GLOBAL_XPUB"}(t.GlobalTypes||(t.GlobalTypes={})),t.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"],function(e){e[e.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",e[e.WITNESS_UTXO=1]="WITNESS_UTXO",e[e.PARTIAL_SIG=2]="PARTIAL_SIG",e[e.SIGHASH_TYPE=3]="SIGHASH_TYPE",e[e.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",e[e.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",e[e.BIP32_DERIVATION=6]="BIP32_DERIVATION",e[e.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",e[e.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",e[e.POR_COMMITMENT=9]="POR_COMMITMENT",e[e.TAP_KEY_SIG=19]="TAP_KEY_SIG",e[e.TAP_SCRIPT_SIG=20]="TAP_SCRIPT_SIG",e[e.TAP_LEAF_SCRIPT=21]="TAP_LEAF_SCRIPT",e[e.TAP_BIP32_DERIVATION=22]="TAP_BIP32_DERIVATION",e[e.TAP_INTERNAL_KEY=23]="TAP_INTERNAL_KEY",e[e.TAP_MERKLE_ROOT=24]="TAP_MERKLE_ROOT"}(t.InputTypes||(t.InputTypes={})),t.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment","tapKeySig","tapScriptSig","tapLeafScript","tapBip32Derivation","tapInternalKey","tapMerkleRoot"],function(e){e[e.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",e[e.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",e[e.BIP32_DERIVATION=2]="BIP32_DERIVATION",e[e.TAP_INTERNAL_KEY=5]="TAP_INTERNAL_KEY",e[e.TAP_TREE=6]="TAP_TREE",e[e.TAP_BIP32_DERIVATION=7]="TAP_BIP32_DERIVATION"}(t.OutputTypes||(t.OutputTypes={})),t.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation","tapInternalKey","tapTree","tapBip32Derivation"]},mYwY:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0});const i=r("TS30");function o(e,t){const r=e[t];if(void 0===r)throw new Error(`No input #${t}`);return r}function s(e,t){const r=e[t];if(void 0===r)throw new Error(`No output #${t}`);return r}function a(e,t,r,n){throw new Error(`Data for ${e} key ${t} is incorrect: Expected ${r} and got ${JSON.stringify(n)}`)}function u(e){return(t,r)=>{for(const n of Object.keys(t)){const o=t[n],{canAdd:s,canAddToArray:u,check:c,expected:f}=i[e+"s"][n]||{};if(c)if(!!u){if(!Array.isArray(o)||r[n]&&!Array.isArray(r[n]))throw new Error(`Key type ${n} must be an array`);o.every(c)||a(e,n,f,o);const t=r[n]||[],i=new Set;if(!o.every((e=>u(t,e,i))))throw new Error("Can not add duplicate data to array");r[n]=t.concat(o)}else{if(c(o)||a(e,n,f,o),!s(r,o))throw new Error(`Can not add duplicate data to ${e}`);r[n]=o}}}}t.checkForInput=o,t.checkForOutput=s,t.checkHasKey=function(e,t,r){if(e.key[0]<r)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(t&&0!==t.filter((t=>t.key.equals(e.key))).length)throw new Error(`Duplicate Key: ${e.key.toString("hex")}`)},t.getEnumLength=function(e){let t=0;return Object.keys(e).forEach((e=>{Number(isNaN(Number(e)))&&t++})),t},t.inputCheckUncleanFinalized=function(e,t){let r=!1;if(t.nonWitnessUtxo||t.witnessUtxo){const e=!!t.redeemScript,n=!!t.witnessScript,i=!e||!!t.finalScriptSig,o=!n||!!t.finalScriptWitness,s=!!t.finalScriptSig||!!t.finalScriptWitness;r=i&&o&&s}if(!1===r)throw new Error(`Input #${e} has too much or too little data to clean`)},t.updateGlobal=u("global"),t.updateInput=u("input"),t.updateOutput=u("output"),t.addInputAttributes=function(e,r){const n=o(e,e.length-1);t.updateInput(r,n)},t.addOutputAttributes=function(e,r){const n=s(e,e.length-1);t.updateOutput(r,n)},t.defaultVersionSetter=function(e,t){if(!n.isBuffer(t)||t.length<4)throw new Error("Set Version: Invalid Transaction");return t.writeUInt32LE(e,0),t},t.defaultLocktimeSetter=function(e,t){if(!n.isBuffer(t)||t.length<4)throw new Error("Set Locktime: Invalid Transaction");return t.writeUInt32LE(e,t.length-4),t}},nmF7:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.toOutputScript=t.fromOutputScript=t.toBech32=t.toBase58Check=t.fromBech32=t.fromBase58Check=void 0;const i=r("oNM4"),o=r("/xGl"),s=r("Gnot"),a=r("zi0B"),u=r("/aXE"),c=r("QXYD"),f="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.";function l(e){const t=n.from(c.decode(e));if(t.length<21)throw new TypeError(e+" is too short");if(t.length>21)throw new TypeError(e+" is too long");return{version:t.readUInt8(0),hash:t.slice(1)}}function h(e){let t,r;try{t=u.bech32.decode(e)}catch(o){}if(t){if(r=t.words[0],0!==r)throw new TypeError(e+" uses wrong encoding")}else if(t=u.bech32m.decode(e),r=t.words[0],0===r)throw new TypeError(e+" uses wrong encoding");const i=u.bech32.fromWords(t.words.slice(1));return{version:r,prefix:t.prefix,data:n.from(i)}}function d(e,t,r){const n=u.bech32.toWords(e);return n.unshift(t),0===t?u.bech32.encode(r,n):u.bech32m.encode(r,n)}t.fromBase58Check=l,t.fromBech32=h,t.toBase58Check=function(e,t){(0,a.typeforce)((0,a.tuple)(a.Hash160bit,a.UInt8),arguments);const r=n.allocUnsafe(21);return r.writeUInt8(t,0),e.copy(r,1),c.encode(r)},t.toBech32=d,t.fromOutputScript=function(e,t){t=t||i.bitcoin;try{return o.p2pkh({output:e,network:t}).address}catch(r){}try{return o.p2sh({output:e,network:t}).address}catch(r){}try{return o.p2wpkh({output:e,network:t}).address}catch(r){}try{return o.p2wsh({output:e,network:t}).address}catch(r){}try{return o.p2tr({output:e,network:t}).address}catch(r){}try{return function(e,t){const r=e.slice(2);if(r.length<2||r.length>40)throw new TypeError("Invalid program length for segwit address");const n=e[0]-80;if(n<2||n>16)throw new TypeError("Invalid version for segwit address");if(e[1]!==r.length)throw new TypeError("Invalid script for segwit address");return console.warn(f),d(r,n,t.bech32)}(e,t)}catch(r){}throw new Error(s.toASM(e)+" has no matching Address")},t.toOutputScript=function(e,t){let r,n;t=t||i.bitcoin;try{r=l(e)}catch(a){}if(r){if(r.version===t.pubKeyHash)return o.p2pkh({hash:r.hash}).output;if(r.version===t.scriptHash)return o.p2sh({hash:r.hash}).output}else{try{n=h(e)}catch(a){}if(n){if(n.prefix!==t.bech32)throw new Error(e+" has an invalid prefix");if(0===n.version){if(20===n.data.length)return o.p2wpkh({hash:n.data}).output;if(32===n.data.length)return o.p2wsh({hash:n.data}).output}else if(1===n.version){if(32===n.data.length)return o.p2tr({pubkey:n.data}).output}else if(n.version>=2&&n.version<=16&&n.data.length>=2&&n.data.length<=40)return console.warn(f),s.compile([n.version+80,n.data])}}throw new Error(e+" has no matching Script")}},"9oCZ":(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=t.check=void 0,t.check=function(e){if(e.length<8)return!1;if(e.length>72)return!1;if(48!==e[0])return!1;if(e[1]!==e.length-2)return!1;if(2!==e[2])return!1;const t=e[3];if(0===t)return!1;if(5+t>=e.length)return!1;if(2!==e[4+t])return!1;const r=e[5+t];return 0!==r&&(6+t+r===e.length&&(!(128&e[4])&&(!(t>1&&0===e[4]&&!(128&e[5]))&&(!(128&e[t+6])&&!(r>1&&0===e[t+6]&&!(128&e[t+7]))))))},t.decode=function(e){if(e.length<8)throw new Error("DER sequence length is too short");if(e.length>72)throw new Error("DER sequence length is too long");if(48!==e[0])throw new Error("Expected DER sequence");if(e[1]!==e.length-2)throw new Error("DER sequence length is invalid");if(2!==e[2])throw new Error("Expected DER integer");const t=e[3];if(0===t)throw new Error("R length is zero");if(5+t>=e.length)throw new Error("R length is too long");if(2!==e[4+t])throw new Error("Expected DER integer (2)");const r=e[5+t];if(0===r)throw new Error("S length is zero");if(6+t+r!==e.length)throw new Error("S length is invalid");if(128&e[4])throw new Error("R value is negative");if(t>1&&0===e[4]&&!(128&e[5]))throw new Error("R value excessively padded");if(128&e[t+6])throw new Error("S value is negative");if(r>1&&0===e[t+6]&&!(128&e[t+7]))throw new Error("S value excessively padded");return{r:e.slice(4,4+t),s:e.slice(6+t)}},t.encode=function(e,t){const r=e.length,i=t.length;if(0===r)throw new Error("R length is zero");if(0===i)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(i>33)throw new Error("S length is too long");if(128&e[0])throw new Error("R value is negative");if(128&t[0])throw new Error("S value is negative");if(r>1&&0===e[0]&&!(128&e[1]))throw new Error("R value excessively padded");if(i>1&&0===t[0]&&!(128&t[1]))throw new Error("S value excessively padded");const o=n.allocUnsafe(6+r+i);return o[0]=48,o[1]=o.length-2,o[2]=2,o[3]=e.length,e.copy(o,4),o[4+r]=2,o[5+r]=t.length,t.copy(o,6+r),o}},LY4c:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Block=void 0;const i=r("Wf2o"),o=r("iQrT"),s=r("Yxg6"),a=r("XUZb"),u=r("zi0B"),{typeforce:c}=u,f=new TypeError("Cannot compute merkle root for zero transactions"),l=new TypeError("Cannot compute witness commit for non-segwit block");class h{constructor(){this.version=1,this.prevHash=void 0,this.merkleRoot=void 0,this.timestamp=0,this.witnessCommit=void 0,this.bits=0,this.nonce=0,this.transactions=void 0}static fromBuffer(e){if(e.length<80)throw new Error("Buffer too small (< 80 bytes)");const t=new i.BufferReader(e),r=new h;if(r.version=t.readInt32(),r.prevHash=t.readSlice(32),r.merkleRoot=t.readSlice(32),r.timestamp=t.readUInt32(),r.bits=t.readUInt32(),r.nonce=t.readUInt32(),80===e.length)return r;const n=()=>{const e=a.Transaction.fromBuffer(t.buffer.slice(t.offset),!0);return t.offset+=e.byteLength(),e},o=t.readVarInt();r.transactions=[];for(let i=0;i<o;++i){const e=n();r.transactions.push(e)}const s=r.getWitnessCommit();return s&&(r.witnessCommit=s),r}static fromHex(e){return h.fromBuffer(n.from(e,"hex"))}static calculateTarget(e){const t=((4278190080&e)>>24)-3,r=8388607&e,i=n.alloc(32,0);return i.writeUIntBE(r,29-t,3),i}static calculateMerkleRoot(e,t){if(c([{getHash:u.Function}],e),0===e.length)throw f;if(t&&!d(e))throw l;const r=e.map((e=>e.getHash(t))),i=(0,s.fastMerkleRoot)(r,o.hash256);return t?o.hash256(n.concat([i,e[0].ins[0].witness[0]])):i}getWitnessCommit(){if(!d(this.transactions))return null;const e=this.transactions[0].outs.filter((e=>e.script.slice(0,6).equals(n.from("6a24aa21a9ed","hex")))).map((e=>e.script.slice(6,38)));if(0===e.length)return null;const t=e[e.length-1];return t instanceof n&&32===t.length?t:null}hasWitnessCommit(){return this.witnessCommit instanceof n&&32===this.witnessCommit.length||null!==this.getWitnessCommit()}hasWitness(){return(e=this.transactions)instanceof Array&&e.some((e=>"object"===typeof e&&e.ins instanceof Array&&e.ins.some((e=>"object"===typeof e&&e.witness instanceof Array&&e.witness.length>0))));var e}weight(){return 3*this.byteLength(!1,!1)+this.byteLength(!1,!0)}byteLength(e,t=!0){return e||!this.transactions?80:80+i.varuint.encodingLength(this.transactions.length)+this.transactions.reduce(((e,r)=>e+r.byteLength(t)),0)}getHash(){return o.hash256(this.toBuffer(!0))}getId(){return(0,i.reverseBuffer)(this.getHash()).toString("hex")}getUTCDate(){const e=new Date(0);return e.setUTCSeconds(this.timestamp),e}toBuffer(e){const t=n.allocUnsafe(this.byteLength(e)),r=new i.BufferWriter(t);return r.writeInt32(this.version),r.writeSlice(this.prevHash),r.writeSlice(this.merkleRoot),r.writeUInt32(this.timestamp),r.writeUInt32(this.bits),r.writeUInt32(this.nonce),e||!this.transactions||(i.varuint.encode(this.transactions.length,t,r.offset),r.offset+=i.varuint.encode.bytes,this.transactions.forEach((e=>{const n=e.byteLength();e.toBuffer(t,r.offset),r.offset+=n}))),t}toHex(e){return this.toBuffer(e).toString("hex")}checkTxRoots(){const e=this.hasWitnessCommit();return!(!e&&this.hasWitness())&&(this.__checkMerkleRoot()&&(!e||this.__checkWitnessCommit()))}checkProofOfWork(){const e=(0,i.reverseBuffer)(this.getHash()),t=h.calculateTarget(this.bits);return e.compare(t)<=0}__checkMerkleRoot(){if(!this.transactions)throw f;const e=h.calculateMerkleRoot(this.transactions);return 0===this.merkleRoot.compare(e)}__checkWitnessCommit(){if(!this.transactions)throw f;if(!this.hasWitnessCommit())throw l;const e=h.calculateMerkleRoot(this.transactions,!0);return 0===this.witnessCommit.compare(e)}}function d(e){return e instanceof Array&&e[0]&&e[0].ins&&e[0].ins instanceof Array&&e[0].ins[0]&&e[0].ins[0].witness&&e[0].ins[0].witness instanceof Array&&e[0].ins[0].witness.length>0}t.Block=h},Wf2o:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.BufferReader=t.BufferWriter=t.cloneBuffer=t.reverseBuffer=t.writeUInt64LE=t.readUInt64LE=t.varuint=void 0;const i=r("zi0B"),{typeforce:o}=i,s=r("+Jr0");function a(e,t){if("number"!==typeof e)throw new Error("cannot write a non-number as a number");if(e<0)throw new Error("specified a negative value for writing an unsigned value");if(e>t)throw new Error("RangeError: value out of range");if(Math.floor(e)!==e)throw new Error("value has a fractional component")}function u(e,t){const r=e.readUInt32LE(t);let n=e.readUInt32LE(t+4);return n*=4294967296,a(n+r,9007199254740991),n+r}function c(e,t,r){return a(t,9007199254740991),e.writeInt32LE(-1&t,r),e.writeUInt32LE(Math.floor(t/4294967296),r+4),r+8}t.varuint=s,t.readUInt64LE=u,t.writeUInt64LE=c,t.reverseBuffer=function(e){if(e.length<1)return e;let t=e.length-1,r=0;for(let n=0;n<e.length/2;n++)r=e[n],e[n]=e[t],e[t]=r,t--;return e},t.cloneBuffer=function(e){const t=n.allocUnsafe(e.length);return e.copy(t),t};class f{static withCapacity(e){return new f(n.alloc(e))}constructor(e,t=0){this.buffer=e,this.offset=t,o(i.tuple(i.Buffer,i.UInt32),[e,t])}writeUInt8(e){this.offset=this.buffer.writeUInt8(e,this.offset)}writeInt32(e){this.offset=this.buffer.writeInt32LE(e,this.offset)}writeUInt32(e){this.offset=this.buffer.writeUInt32LE(e,this.offset)}writeUInt64(e){this.offset=c(this.buffer,e,this.offset)}writeVarInt(e){s.encode(e,this.buffer,this.offset),this.offset+=s.encode.bytes}writeSlice(e){if(this.buffer.length<this.offset+e.length)throw new Error("Cannot write slice out of bounds");this.offset+=e.copy(this.buffer,this.offset)}writeVarSlice(e){this.writeVarInt(e.length),this.writeSlice(e)}writeVector(e){this.writeVarInt(e.length),e.forEach((e=>this.writeVarSlice(e)))}end(){if(this.buffer.length===this.offset)return this.buffer;throw new Error(`buffer size ${this.buffer.length}, offset ${this.offset}`)}}t.BufferWriter=f;t.BufferReader=class{constructor(e,t=0){this.buffer=e,this.offset=t,o(i.tuple(i.Buffer,i.UInt32),[e,t])}readUInt8(){const e=this.buffer.readUInt8(this.offset);return this.offset++,e}readInt32(){const e=this.buffer.readInt32LE(this.offset);return this.offset+=4,e}readUInt32(){const e=this.buffer.readUInt32LE(this.offset);return this.offset+=4,e}readUInt64(){const e=u(this.buffer,this.offset);return this.offset+=8,e}readVarInt(){const e=s.decode(this.buffer,this.offset);return this.offset+=s.decode.bytes,e}readSlice(e){if(this.buffer.length<this.offset+e)throw new Error("Cannot read slice out of bounds");const t=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,t}readVarSlice(){return this.readSlice(this.readVarInt())}readVector(){const e=this.readVarInt(),t=[];for(let r=0;r<e;r++)t.push(this.readVarSlice());return t}}},iQrT:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.taggedHash=t.TAGGED_HASH_PREFIXES=t.TAGS=t.hash256=t.hash160=t.sha256=t.sha1=t.ripemd160=void 0;const i=r("eyGK"),o=r("cIiJ"),s=r("63Q3");function a(e){return n.from((0,s.sha256)(Uint8Array.from(e)))}t.ripemd160=function(e){return n.from((0,i.ripemd160)(Uint8Array.from(e)))},t.sha1=function(e){return n.from((0,o.sha1)(Uint8Array.from(e)))},t.sha256=a,t.hash160=function(e){return n.from((0,i.ripemd160)((0,s.sha256)(Uint8Array.from(e))))},t.hash256=function(e){return n.from((0,s.sha256)((0,s.sha256)(Uint8Array.from(e))))},t.TAGS=["BIP0340/challenge","BIP0340/aux","BIP0340/nonce","TapLeaf","TapBranch","TapSighash","TapTweak","KeyAgg list","KeyAgg coefficient"],t.TAGGED_HASH_PREFIXES={"BIP0340/challenge":n.from([123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124,123,181,45,122,159,239,88,50,62,177,191,122,64,125,179,130,210,243,242,216,27,177,34,79,73,254,81,143,109,72,211,124]),"BIP0340/aux":n.from([241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144,241,239,78,94,192,99,202,218,109,148,202,250,157,152,126,160,105,38,88,57,236,193,31,151,45,119,165,46,216,193,204,144]),"BIP0340/nonce":n.from([7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47,7,73,119,52,167,155,203,53,91,155,140,125,3,79,18,28,244,52,215,62,247,45,218,25,135,0,97,251,82,191,235,47]),TapLeaf:n.from([174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238,174,234,143,220,66,8,152,49,5,115,75,88,8,29,30,38,56,211,95,28,181,64,8,212,211,87,202,3,190,120,233,238]),TapBranch:n.from([25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21,25,65,161,242,229,110,185,95,162,169,241,148,190,92,1,247,33,111,51,237,130,176,145,70,52,144,208,91,245,22,160,21]),TapSighash:n.from([244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49,244,10,72,223,75,42,112,200,180,146,75,242,101,70,97,237,61,149,253,102,163,19,235,135,35,117,151,198,40,228,160,49]),TapTweak:n.from([232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233,232,15,225,99,156,156,160,80,227,175,27,57,193,67,198,62,66,156,188,235,21,217,64,251,181,197,161,244,175,87,197,233]),"KeyAgg list":n.from([72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240,72,28,151,28,60,11,70,215,240,178,117,174,89,141,78,44,126,215,49,156,89,74,92,110,199,158,160,212,153,2,148,240]),"KeyAgg coefficient":n.from([191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129,191,201,4,3,77,28,136,232,200,14,34,229,61,36,86,109,100,130,78,214,66,114,129,192,145,0,249,77,205,82,201,129])},t.taggedHash=function(e,r){return a(n.concat([t.TAGGED_HASH_PREFIXES[e],r]))}},MYpL:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.getEccLib=t.initEccLib=void 0;const i={};t.initEccLib=function(e){e?e!==i.eccLib&&(!function(e){s("function"===typeof e.isXOnlyPoint),s(e.isXOnlyPoint(o("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),s(e.isXOnlyPoint(o("fffffffffffffffffffffffffffffffffffffffffffffffffffffffeeffffc2e"))),s(e.isXOnlyPoint(o("f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9"))),s(e.isXOnlyPoint(o("0000000000000000000000000000000000000000000000000000000000000001"))),s(!e.isXOnlyPoint(o("0000000000000000000000000000000000000000000000000000000000000000"))),s(!e.isXOnlyPoint(o("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"))),s("function"===typeof e.xOnlyPointAddTweak),a.forEach((t=>{const r=e.xOnlyPointAddTweak(o(t.pubkey),o(t.tweak));null===t.result?s(null===r):(s(null!==r),s(r.parity===t.parity),s(n.from(r.xOnlyPubkey).equals(o(t.result))))}))}(e),i.eccLib=e):i.eccLib=e},t.getEccLib=function(){if(!i.eccLib)throw new Error("No ECC Library provided. You must call initEccLib() with a valid TinySecp256k1Interface instance");return i.eccLib};const o=e=>n.from(e,"hex");function s(e){if(!e)throw new Error("ecc library invalid")}const a=[{pubkey:"79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798",tweak:"fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140",parity:-1,result:null},{pubkey:"1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b",tweak:"a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac",parity:1,result:"e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"},{pubkey:"2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991",tweak:"823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47",parity:0,result:"9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"}]},"0kky":(e,t,r)=>{"use strict";t.Wi=t.YW=t._B=t.PP=t.QW=t.eL=t.Lk=void 0;const n=r("nmF7");t.Lk=n;const i=r("iQrT");t.eL=i;const o=r("oNM4");t.QW=o;const s=r("/xGl");t.PP=s;r("Gnot");var a=r("LY4c");var u=r("ZMuo");Object.defineProperty(t,"_B",{enumerable:!0,get:function(){return u.Psbt}});var c=r("y88n");var f=r("XUZb");Object.defineProperty(t,"YW",{enumerable:!0,get:function(){return f.Transaction}});var l=r("MYpL");Object.defineProperty(t,"Wi",{enumerable:!0,get:function(){return l.initEccLib}})},Yxg6:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.fastMerkleRoot=void 0,t.fastMerkleRoot=function(e,t){if(!Array.isArray(e))throw TypeError("Expected values Array");if("function"!==typeof t)throw TypeError("Expected digest Function");let r=e.length;const i=e.concat();for(;r>1;){let e=0;for(let o=0;o<r;o+=2,++e){const s=i[o],a=o+1===r?s:i[o+1],u=n.concat([s,a]);i[e]=t(u)}r=e}return i[0]}},oNM4:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.testnet=t.regtest=t.bitcoin=void 0,t.bitcoin={messagePrefix:"\x18Bitcoin Signed Message:\n",bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},t.regtest={messagePrefix:"\x18Bitcoin Signed Message:\n",bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239},t.testnet={messagePrefix:"\x18Bitcoin Signed Message:\n",bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}},y88n:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REVERSE_OPS=t.OPS=void 0;const r={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};t.OPS=r;const n={};t.REVERSE_OPS=n;for(const i of Object.keys(r)){n[r[i]]=i}},RiJg:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tweakKey=t.tapTweakHash=t.tapleafHash=t.findScriptPath=t.toHashTree=t.rootHashFromPath=t.MAX_TAPTREE_DEPTH=t.LEAF_VERSION_TAPSCRIPT=void 0;const n=r("Dp+g"),i=r("MYpL"),o=r("iQrT"),s=r("Wf2o"),a=r("zi0B");t.LEAF_VERSION_TAPSCRIPT=192,t.MAX_TAPTREE_DEPTH=128;function u(e){const r=e.version||t.LEAF_VERSION_TAPSCRIPT;return o.taggedHash("TapLeaf",n.Buffer.concat([n.Buffer.from([r]),l(e.output)]))}function c(e,t){return o.taggedHash("TapTweak",n.Buffer.concat(t?[e,t]:[e]))}function f(e,t){return o.taggedHash("TapBranch",n.Buffer.concat([e,t]))}function l(e){const t=s.varuint.encodingLength(e.length),r=n.Buffer.allocUnsafe(t);return s.varuint.encode(e.length,r),n.Buffer.concat([r,e])}t.rootHashFromPath=function(e,t){if(e.length<33)throw new TypeError(`The control-block length is too small. Got ${e.length}, expected min 33.`);const r=(e.length-33)/32;let n=t;for(let i=0;i<r;i++){const t=e.slice(33+32*i,65+32*i);n=n.compare(t)<0?f(n,t):f(t,n)}return n},t.toHashTree=function e(t){if((0,a.isTapleaf)(t))return{hash:u(t)};const r=[e(t[0]),e(t[1])];r.sort(((e,t)=>e.hash.compare(t.hash)));const[n,i]=r;return{hash:f(n.hash,i.hash),left:n,right:i}},t.findScriptPath=function e(t,r){if("left"in(n=t)&&"right"in n){const n=e(t.left,r);if(void 0!==n)return[...n,t.right.hash];const i=e(t.right,r);if(void 0!==i)return[...i,t.left.hash]}else if(t.hash.equals(r))return[];var n},t.tapleafHash=u,t.tapTweakHash=c,t.tweakKey=function(e,t){if(!n.Buffer.isBuffer(e))return null;if(32!==e.length)return null;if(t&&32!==t.length)return null;const r=c(e,t),o=(0,i.getEccLib)().xOnlyPointAddTweak(e,r);return o&&null!==o.xOnlyPubkey?{parity:o.parity,x:n.Buffer.from(o.xOnlyPubkey)}:null}},eJWJ:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2data=void 0;const n=r("oNM4"),i=r("Gnot"),o=r("zi0B"),s=r("dmNX"),a=i.OPS;t.p2data=function(e,t){if(!e.data&&!e.output)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,o.typeforce)({network:o.typeforce.maybe(o.typeforce.Object),output:o.typeforce.maybe(o.typeforce.Buffer),data:o.typeforce.maybe(o.typeforce.arrayOf(o.typeforce.Buffer))},e);const r={name:"embed",network:e.network||n.bitcoin};if(s.prop(r,"output",(()=>{if(e.data)return i.compile([a.OP_RETURN].concat(e.data))})),s.prop(r,"data",(()=>{if(e.output)return i.decompile(e.output).slice(1)})),t.validate&&e.output){const t=i.decompile(e.output);if(t[0]!==a.OP_RETURN)throw new TypeError("Output is invalid");if(!t.slice(1).every(o.typeforce.Buffer))throw new TypeError("Output is invalid");if(e.data&&!function(e,t){return e.length===t.length&&e.every(((e,r)=>e.equals(t[r])))}(e.data,r.data))throw new TypeError("Data mismatch")}return Object.assign(r,e)}},"/xGl":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2tr=t.p2wsh=t.p2wpkh=t.p2sh=t.p2pkh=t.p2pk=t.p2ms=t.embed=void 0;const n=r("eJWJ");Object.defineProperty(t,"embed",{enumerable:!0,get:function(){return n.p2data}});const i=r("DsaY");Object.defineProperty(t,"p2ms",{enumerable:!0,get:function(){return i.p2ms}});const o=r("AbUJ");Object.defineProperty(t,"p2pk",{enumerable:!0,get:function(){return o.p2pk}});const s=r("2bLH");Object.defineProperty(t,"p2pkh",{enumerable:!0,get:function(){return s.p2pkh}});const a=r("UtcI");Object.defineProperty(t,"p2sh",{enumerable:!0,get:function(){return a.p2sh}});const u=r("riE4");Object.defineProperty(t,"p2wpkh",{enumerable:!0,get:function(){return u.p2wpkh}});const c=r("BykF");Object.defineProperty(t,"p2wsh",{enumerable:!0,get:function(){return c.p2wsh}});const f=r("XCs9");Object.defineProperty(t,"p2tr",{enumerable:!0,get:function(){return f.p2tr}})},dmNX:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.value=t.prop=void 0,t.prop=function(e,t,r){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){const e=r.call(this);return this[t]=e,e},set(e){Object.defineProperty(this,t,{configurable:!0,enumerable:!0,value:e,writable:!0})}})},t.value=function(e){let t;return()=>(void 0!==t||(t=e()),t)}},DsaY:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2ms=void 0;const n=r("oNM4"),i=r("Gnot"),o=r("zi0B"),s=r("dmNX"),a=i.OPS,u=a.OP_RESERVED;function c(e,t){return e.length===t.length&&e.every(((e,r)=>e.equals(t[r])))}t.p2ms=function(e,t){if(!e.input&&!e.output&&(!e.pubkeys||void 0===e.m)&&!e.signatures)throw new TypeError("Not enough data");function r(e){return i.isCanonicalScriptSignature(e)||void 0!==(t.allowIncomplete&&e===a.OP_0)}t=Object.assign({validate:!0},t||{}),(0,o.typeforce)({network:o.typeforce.maybe(o.typeforce.Object),m:o.typeforce.maybe(o.typeforce.Number),n:o.typeforce.maybe(o.typeforce.Number),output:o.typeforce.maybe(o.typeforce.Buffer),pubkeys:o.typeforce.maybe(o.typeforce.arrayOf(o.isPoint)),signatures:o.typeforce.maybe(o.typeforce.arrayOf(r)),input:o.typeforce.maybe(o.typeforce.Buffer)},e);const f={network:e.network||n.bitcoin};let l=[],h=!1;function d(e){h||(h=!0,l=i.decompile(e),f.m=l[0]-u,f.n=l[l.length-2]-u,f.pubkeys=l.slice(1,-2))}if(s.prop(f,"output",(()=>{if(e.m&&f.n&&e.pubkeys)return i.compile([].concat(u+e.m,e.pubkeys,u+f.n,a.OP_CHECKMULTISIG))})),s.prop(f,"m",(()=>{if(f.output)return d(f.output),f.m})),s.prop(f,"n",(()=>{if(f.pubkeys)return f.pubkeys.length})),s.prop(f,"pubkeys",(()=>{if(e.output)return d(e.output),f.pubkeys})),s.prop(f,"signatures",(()=>{if(e.input)return i.decompile(e.input).slice(1)})),s.prop(f,"input",(()=>{if(e.signatures)return i.compile([a.OP_0].concat(e.signatures))})),s.prop(f,"witness",(()=>{if(f.input)return[]})),s.prop(f,"name",(()=>{if(f.m&&f.n)return`p2ms(${f.m} of ${f.n})`})),t.validate){if(e.output){if(d(e.output),!o.typeforce.Number(l[0]))throw new TypeError("Output is invalid");if(!o.typeforce.Number(l[l.length-2]))throw new TypeError("Output is invalid");if(l[l.length-1]!==a.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(f.m<=0||f.n>16||f.m>f.n||f.n!==l.length-3)throw new TypeError("Output is invalid");if(!f.pubkeys.every((e=>(0,o.isPoint)(e))))throw new TypeError("Output is invalid");if(void 0!==e.m&&e.m!==f.m)throw new TypeError("m mismatch");if(void 0!==e.n&&e.n!==f.n)throw new TypeError("n mismatch");if(e.pubkeys&&!c(e.pubkeys,f.pubkeys))throw new TypeError("Pubkeys mismatch")}if(e.pubkeys){if(void 0!==e.n&&e.n!==e.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(f.n=e.pubkeys.length,f.n<f.m)throw new TypeError("Pubkey count cannot be less than m")}if(e.signatures){if(e.signatures.length<f.m)throw new TypeError("Not enough signatures provided");if(e.signatures.length>f.m)throw new TypeError("Too many signatures provided")}if(e.input){if(e.input[0]!==a.OP_0)throw new TypeError("Input is invalid");if(0===f.signatures.length||!f.signatures.every(r))throw new TypeError("Input has invalid signature(s)");if(e.signatures&&!c(e.signatures,f.signatures))throw new TypeError("Signature mismatch");if(void 0!==e.m&&e.m!==e.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(f,e)}},AbUJ:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2pk=void 0;const n=r("oNM4"),i=r("Gnot"),o=r("zi0B"),s=r("dmNX"),a=i.OPS;t.p2pk=function(e,t){if(!e.input&&!e.output&&!e.pubkey&&!e.input&&!e.signature)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,o.typeforce)({network:o.typeforce.maybe(o.typeforce.Object),output:o.typeforce.maybe(o.typeforce.Buffer),pubkey:o.typeforce.maybe(o.isPoint),signature:o.typeforce.maybe(i.isCanonicalScriptSignature),input:o.typeforce.maybe(o.typeforce.Buffer)},e);const r=s.value((()=>i.decompile(e.input))),u={name:"p2pk",network:e.network||n.bitcoin};if(s.prop(u,"output",(()=>{if(e.pubkey)return i.compile([e.pubkey,a.OP_CHECKSIG])})),s.prop(u,"pubkey",(()=>{if(e.output)return e.output.slice(1,-1)})),s.prop(u,"signature",(()=>{if(e.input)return r()[0]})),s.prop(u,"input",(()=>{if(e.signature)return i.compile([e.signature])})),s.prop(u,"witness",(()=>{if(u.input)return[]})),t.validate){if(e.output){if(e.output[e.output.length-1]!==a.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!(0,o.isPoint)(u.pubkey))throw new TypeError("Output pubkey is invalid");if(e.pubkey&&!e.pubkey.equals(u.pubkey))throw new TypeError("Pubkey mismatch")}if(e.signature&&e.input&&!e.input.equals(u.input))throw new TypeError("Signature mismatch");if(e.input){if(1!==r().length)throw new TypeError("Input is invalid");if(!i.isCanonicalScriptSignature(u.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(u,e)}},"2bLH":(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.p2pkh=void 0;const i=r("iQrT"),o=r("oNM4"),s=r("Gnot"),a=r("zi0B"),u=r("dmNX"),c=r("QXYD"),f=s.OPS;t.p2pkh=function(e,t){if(!e.address&&!e.hash&&!e.output&&!e.pubkey&&!e.input)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,a.typeforce)({network:a.typeforce.maybe(a.typeforce.Object),address:a.typeforce.maybe(a.typeforce.String),hash:a.typeforce.maybe(a.typeforce.BufferN(20)),output:a.typeforce.maybe(a.typeforce.BufferN(25)),pubkey:a.typeforce.maybe(a.isPoint),signature:a.typeforce.maybe(s.isCanonicalScriptSignature),input:a.typeforce.maybe(a.typeforce.Buffer)},e);const r=u.value((()=>{const t=n.from(c.decode(e.address));return{version:t.readUInt8(0),hash:t.slice(1)}})),l=u.value((()=>s.decompile(e.input))),h=e.network||o.bitcoin,d={name:"p2pkh",network:h};if(u.prop(d,"address",(()=>{if(!d.hash)return;const e=n.allocUnsafe(21);return e.writeUInt8(h.pubKeyHash,0),d.hash.copy(e,1),c.encode(e)})),u.prop(d,"hash",(()=>e.output?e.output.slice(3,23):e.address?r().hash:e.pubkey||d.pubkey?i.hash160(e.pubkey||d.pubkey):void 0)),u.prop(d,"output",(()=>{if(d.hash)return s.compile([f.OP_DUP,f.OP_HASH160,d.hash,f.OP_EQUALVERIFY,f.OP_CHECKSIG])})),u.prop(d,"pubkey",(()=>{if(e.input)return l()[1]})),u.prop(d,"signature",(()=>{if(e.input)return l()[0]})),u.prop(d,"input",(()=>{if(e.pubkey&&e.signature)return s.compile([e.signature,e.pubkey])})),u.prop(d,"witness",(()=>{if(d.input)return[]})),t.validate){let t=n.from([]);if(e.address){if(r().version!==h.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(20!==r().hash.length)throw new TypeError("Invalid address");t=r().hash}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(25!==e.output.length||e.output[0]!==f.OP_DUP||e.output[1]!==f.OP_HASH160||20!==e.output[2]||e.output[23]!==f.OP_EQUALVERIFY||e.output[24]!==f.OP_CHECKSIG)throw new TypeError("Output is invalid");const r=e.output.slice(3,23);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch");t=r}if(e.pubkey){const r=i.hash160(e.pubkey);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch");t=r}if(e.input){const r=l();if(2!==r.length)throw new TypeError("Input is invalid");if(!s.isCanonicalScriptSignature(r[0]))throw new TypeError("Input has invalid signature");if(!(0,a.isPoint)(r[1]))throw new TypeError("Input has invalid pubkey");if(e.signature&&!e.signature.equals(r[0]))throw new TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(r[1]))throw new TypeError("Pubkey mismatch");const n=i.hash160(r[1]);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch")}}return Object.assign(d,e)}},UtcI:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.p2sh=void 0;const i=r("iQrT"),o=r("oNM4"),s=r("Gnot"),a=r("zi0B"),u=r("dmNX"),c=r("QXYD"),f=s.OPS;t.p2sh=function(e,t){if(!e.address&&!e.hash&&!e.output&&!e.redeem&&!e.input)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,a.typeforce)({network:a.typeforce.maybe(a.typeforce.Object),address:a.typeforce.maybe(a.typeforce.String),hash:a.typeforce.maybe(a.typeforce.BufferN(20)),output:a.typeforce.maybe(a.typeforce.BufferN(23)),redeem:a.typeforce.maybe({network:a.typeforce.maybe(a.typeforce.Object),output:a.typeforce.maybe(a.typeforce.Buffer),input:a.typeforce.maybe(a.typeforce.Buffer),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))}),input:a.typeforce.maybe(a.typeforce.Buffer),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))},e);let r=e.network;r||(r=e.redeem&&e.redeem.network||o.bitcoin);const l={network:r},h=u.value((()=>{const t=n.from(c.decode(e.address));return{version:t.readUInt8(0),hash:t.slice(1)}})),d=u.value((()=>s.decompile(e.input))),p=u.value((()=>{const t=d(),i=t[t.length-1];return{network:r,output:i===f.OP_FALSE?n.from([]):i,input:s.compile(t.slice(0,-1)),witness:e.witness||[]}}));if(u.prop(l,"address",(()=>{if(!l.hash)return;const e=n.allocUnsafe(21);return e.writeUInt8(l.network.scriptHash,0),l.hash.copy(e,1),c.encode(e)})),u.prop(l,"hash",(()=>e.output?e.output.slice(2,22):e.address?h().hash:l.redeem&&l.redeem.output?i.hash160(l.redeem.output):void 0)),u.prop(l,"output",(()=>{if(l.hash)return s.compile([f.OP_HASH160,l.hash,f.OP_EQUAL])})),u.prop(l,"redeem",(()=>{if(e.input)return p()})),u.prop(l,"input",(()=>{if(e.redeem&&e.redeem.input&&e.redeem.output)return s.compile([].concat(s.decompile(e.redeem.input),e.redeem.output))})),u.prop(l,"witness",(()=>l.redeem&&l.redeem.witness?l.redeem.witness:l.input?[]:void 0)),u.prop(l,"name",(()=>{const e=["p2sh"];return void 0!==l.redeem&&void 0!==l.redeem.name&&e.push(l.redeem.name),e.join("-")})),t.validate){let t=n.from([]);if(e.address){if(h().version!==r.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(20!==h().hash.length)throw new TypeError("Invalid address");t=h().hash}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(23!==e.output.length||e.output[0]!==f.OP_HASH160||20!==e.output[1]||e.output[22]!==f.OP_EQUAL)throw new TypeError("Output is invalid");const r=e.output.slice(2,22);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch");t=r}const o=e=>{if(e.output){const r=s.decompile(e.output);if(!r||r.length<1)throw new TypeError("Redeem.output too short");if(e.output.byteLength>520)throw new TypeError("Redeem.output unspendable if larger than 520 bytes");if(s.countNonPushOnlyOPs(r)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");const n=i.hash160(e.output);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch");t=n}if(e.input){const t=e.input.length>0,r=e.witness&&e.witness.length>0;if(!t&&!r)throw new TypeError("Empty input");if(t&&r)throw new TypeError("Input and witness provided");if(t){const t=s.decompile(e.input);if(!s.isPushOnly(t))throw new TypeError("Non push-only scriptSig")}}};if(e.input){const e=d();if(!e||e.length<1)throw new TypeError("Input too short");if(!n.isBuffer(p().output))throw new TypeError("Input is invalid");o(p())}if(e.redeem){if(e.redeem.network&&e.redeem.network!==r)throw new TypeError("Network mismatch");if(e.input){const t=p();if(e.redeem.output&&!e.redeem.output.equals(t.output))throw new TypeError("Redeem.output mismatch");if(e.redeem.input&&!e.redeem.input.equals(t.input))throw new TypeError("Redeem.input mismatch")}o(e.redeem)}if(e.witness&&e.redeem&&e.redeem.witness&&!function(e,t){return e.length===t.length&&e.every(((e,r)=>e.equals(t[r])))}(e.redeem.witness,e.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(l,e)}},XCs9:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.p2tr=void 0;const n=r("Dp+g"),i=r("oNM4"),o=r("Gnot"),s=r("zi0B"),a=r("MYpL"),u=r("RiJg"),c=r("dmNX"),f=r("/aXE"),l=o.OPS;t.p2tr=function(e,t){if(!e.address&&!e.output&&!e.pubkey&&!e.internalPubkey&&!(e.witness&&e.witness.length>1))throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,s.typeforce)({address:s.typeforce.maybe(s.typeforce.String),input:s.typeforce.maybe(s.typeforce.BufferN(0)),network:s.typeforce.maybe(s.typeforce.Object),output:s.typeforce.maybe(s.typeforce.BufferN(34)),internalPubkey:s.typeforce.maybe(s.typeforce.BufferN(32)),hash:s.typeforce.maybe(s.typeforce.BufferN(32)),pubkey:s.typeforce.maybe(s.typeforce.BufferN(32)),signature:s.typeforce.maybe(s.typeforce.anyOf(s.typeforce.BufferN(64),s.typeforce.BufferN(65))),witness:s.typeforce.maybe(s.typeforce.arrayOf(s.typeforce.Buffer)),scriptTree:s.typeforce.maybe(s.isTaptree),redeem:s.typeforce.maybe({output:s.typeforce.maybe(s.typeforce.Buffer),redeemVersion:s.typeforce.maybe(s.typeforce.Number),witness:s.typeforce.maybe(s.typeforce.arrayOf(s.typeforce.Buffer))}),redeemVersion:s.typeforce.maybe(s.typeforce.Number)},e);const r=c.value((()=>{const t=f.bech32m.decode(e.address),r=t.words.shift(),i=f.bech32m.fromWords(t.words);return{version:r,prefix:t.prefix,data:n.Buffer.from(i)}})),h=c.value((()=>{if(e.witness&&e.witness.length)return e.witness.length>=2&&80===e.witness[e.witness.length-1][0]?e.witness.slice(0,-1):e.witness.slice()})),d=c.value((()=>e.scriptTree?(0,u.toHashTree)(e.scriptTree):e.hash?{hash:e.hash}:void 0)),p=e.network||i.bitcoin,g={name:"p2tr",network:p};if(c.prop(g,"address",(()=>{if(!g.pubkey)return;const e=f.bech32m.toWords(g.pubkey);return e.unshift(1),f.bech32m.encode(p.bech32,e)})),c.prop(g,"hash",(()=>{const e=d();if(e)return e.hash;const t=h();if(t&&t.length>1){const e=t[t.length-1],r=e[0]&s.TAPLEAF_VERSION_MASK,n=t[t.length-2],i=(0,u.tapleafHash)({output:n,version:r});return(0,u.rootHashFromPath)(e,i)}return null})),c.prop(g,"output",(()=>{if(g.pubkey)return o.compile([l.OP_1,g.pubkey])})),c.prop(g,"redeemVersion",(()=>e.redeemVersion?e.redeemVersion:e.redeem&&void 0!==e.redeem.redeemVersion&&null!==e.redeem.redeemVersion?e.redeem.redeemVersion:u.LEAF_VERSION_TAPSCRIPT)),c.prop(g,"redeem",(()=>{const e=h();if(e&&!(e.length<2))return{output:e[e.length-2],witness:e.slice(0,-2),redeemVersion:e[e.length-1][0]&s.TAPLEAF_VERSION_MASK}})),c.prop(g,"pubkey",(()=>{if(e.pubkey)return e.pubkey;if(e.output)return e.output.slice(2);if(e.address)return r().data;if(g.internalPubkey){const e=(0,u.tweakKey)(g.internalPubkey,g.hash);if(e)return e.x}})),c.prop(g,"internalPubkey",(()=>{if(e.internalPubkey)return e.internalPubkey;const t=h();return t&&t.length>1?t[t.length-1].slice(1,33):void 0})),c.prop(g,"signature",(()=>{if(e.signature)return e.signature;const t=h();return t&&1===t.length?t[0]:void 0})),c.prop(g,"witness",(()=>{if(e.witness)return e.witness;const t=d();if(t&&e.redeem&&e.redeem.output&&e.internalPubkey){const r=(0,u.tapleafHash)({output:e.redeem.output,version:g.redeemVersion}),i=(0,u.findScriptPath)(t,r);if(!i)return;const o=(0,u.tweakKey)(e.internalPubkey,t.hash);if(!o)return;const s=n.Buffer.concat([n.Buffer.from([g.redeemVersion|o.parity]),e.internalPubkey].concat(i));return[e.redeem.output,s]}return e.signature?[e.signature]:void 0})),t.validate){let t=n.Buffer.from([]);if(e.address){if(p&&p.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(1!==r().version)throw new TypeError("Invalid address version");if(32!==r().data.length)throw new TypeError("Invalid address data");t=r().data}if(e.pubkey){if(t.length>0&&!t.equals(e.pubkey))throw new TypeError("Pubkey mismatch");t=e.pubkey}if(e.output){if(34!==e.output.length||e.output[0]!==l.OP_1||32!==e.output[1])throw new TypeError("Output is invalid");if(t.length>0&&!t.equals(e.output.slice(2)))throw new TypeError("Pubkey mismatch");t=e.output.slice(2)}if(e.internalPubkey){const r=(0,u.tweakKey)(e.internalPubkey,g.hash);if(t.length>0&&!t.equals(r.x))throw new TypeError("Pubkey mismatch");t=r.x}if(t&&t.length&&!(0,a.getEccLib)().isXOnlyPoint(t))throw new TypeError("Invalid pubkey for p2tr");const i=d();if(e.hash&&i&&!e.hash.equals(i.hash))throw new TypeError("Hash mismatch");if(e.redeem&&e.redeem.output&&i){const t=(0,u.tapleafHash)({output:e.redeem.output,version:g.redeemVersion});if(!(0,u.findScriptPath)(i,t))throw new TypeError("Redeem script not in tree")}const c=h();if(e.redeem&&g.redeem){if(e.redeem.redeemVersion&&e.redeem.redeemVersion!==g.redeem.redeemVersion)throw new TypeError("Redeem.redeemVersion and witness mismatch");if(e.redeem.output){if(0===o.decompile(e.redeem.output).length)throw new TypeError("Redeem.output is invalid");if(g.redeem.output&&!e.redeem.output.equals(g.redeem.output))throw new TypeError("Redeem.output and witness mismatch")}if(e.redeem.witness&&g.redeem.witness&&!function(e,t){return e.length===t.length&&e.every(((e,r)=>e.equals(t[r])))}(e.redeem.witness,g.redeem.witness))throw new TypeError("Redeem.witness and witness mismatch")}if(c&&c.length)if(1===c.length){if(e.signature&&!e.signature.equals(c[0]))throw new TypeError("Signature mismatch")}else{const r=c[c.length-1];if(r.length<33)throw new TypeError(`The control-block length is too small. Got ${r.length}, expected min 33.`);if((r.length-33)%32!==0)throw new TypeError(`The control-block length of ${r.length} is incorrect!`);const n=(r.length-33)/32;if(n>128)throw new TypeError(`The script path is too long. Got ${n}, expected max 128.`);const i=r.slice(1,33);if(e.internalPubkey&&!e.internalPubkey.equals(i))throw new TypeError("Internal pubkey mismatch");if(!(0,a.getEccLib)().isXOnlyPoint(i))throw new TypeError("Invalid internalPubkey for p2tr witness");const o=r[0]&s.TAPLEAF_VERSION_MASK,f=c[c.length-2],l=(0,u.tapleafHash)({output:f,version:o}),h=(0,u.rootHashFromPath)(r,l),d=(0,u.tweakKey)(i,h);if(!d)throw new TypeError("Invalid outputKey for p2tr witness");if(t.length&&!t.equals(d.x))throw new TypeError("Pubkey mismatch for p2tr witness");if(d.parity!==(1&r[0]))throw new Error("Incorrect parity")}}return Object.assign(g,e)}},riE4:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.p2wpkh=void 0;const i=r("iQrT"),o=r("oNM4"),s=r("Gnot"),a=r("zi0B"),u=r("dmNX"),c=r("/aXE"),f=s.OPS,l=n.alloc(0);t.p2wpkh=function(e,t){if(!e.address&&!e.hash&&!e.output&&!e.pubkey&&!e.witness)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,a.typeforce)({address:a.typeforce.maybe(a.typeforce.String),hash:a.typeforce.maybe(a.typeforce.BufferN(20)),input:a.typeforce.maybe(a.typeforce.BufferN(0)),network:a.typeforce.maybe(a.typeforce.Object),output:a.typeforce.maybe(a.typeforce.BufferN(22)),pubkey:a.typeforce.maybe(a.isPoint),signature:a.typeforce.maybe(s.isCanonicalScriptSignature),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))},e);const r=u.value((()=>{const t=c.bech32.decode(e.address),r=t.words.shift(),i=c.bech32.fromWords(t.words);return{version:r,prefix:t.prefix,data:n.from(i)}})),h=e.network||o.bitcoin,d={name:"p2wpkh",network:h};if(u.prop(d,"address",(()=>{if(!d.hash)return;const e=c.bech32.toWords(d.hash);return e.unshift(0),c.bech32.encode(h.bech32,e)})),u.prop(d,"hash",(()=>e.output?e.output.slice(2,22):e.address?r().data:e.pubkey||d.pubkey?i.hash160(e.pubkey||d.pubkey):void 0)),u.prop(d,"output",(()=>{if(d.hash)return s.compile([f.OP_0,d.hash])})),u.prop(d,"pubkey",(()=>e.pubkey?e.pubkey:e.witness?e.witness[1]:void 0)),u.prop(d,"signature",(()=>{if(e.witness)return e.witness[0]})),u.prop(d,"input",(()=>{if(d.witness)return l})),u.prop(d,"witness",(()=>{if(e.pubkey&&e.signature)return[e.signature,e.pubkey]})),t.validate){let t=n.from([]);if(e.address){if(h&&h.bech32!==r().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(0!==r().version)throw new TypeError("Invalid address version");if(20!==r().data.length)throw new TypeError("Invalid address data");t=r().data}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(22!==e.output.length||e.output[0]!==f.OP_0||20!==e.output[1])throw new TypeError("Output is invalid");if(t.length>0&&!t.equals(e.output.slice(2)))throw new TypeError("Hash mismatch");t=e.output.slice(2)}if(e.pubkey){const r=i.hash160(e.pubkey);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch");if(t=r,!(0,a.isPoint)(e.pubkey)||33!==e.pubkey.length)throw new TypeError("Invalid pubkey for p2wpkh")}if(e.witness){if(2!==e.witness.length)throw new TypeError("Witness is invalid");if(!s.isCanonicalScriptSignature(e.witness[0]))throw new TypeError("Witness has invalid signature");if(!(0,a.isPoint)(e.witness[1])||33!==e.witness[1].length)throw new TypeError("Witness has invalid pubkey");if(e.signature&&!e.signature.equals(e.witness[0]))throw new TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(e.witness[1]))throw new TypeError("Pubkey mismatch");const r=i.hash160(e.witness[1]);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch")}}return Object.assign(d,e)}},BykF:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.p2wsh=void 0;const i=r("iQrT"),o=r("oNM4"),s=r("Gnot"),a=r("zi0B"),u=r("dmNX"),c=r("/aXE"),f=s.OPS,l=n.alloc(0);function h(e){return!(!n.isBuffer(e)||65!==e.length||4!==e[0]||!(0,a.isPoint)(e))}t.p2wsh=function(e,t){if(!e.address&&!e.hash&&!e.output&&!e.redeem&&!e.witness)throw new TypeError("Not enough data");t=Object.assign({validate:!0},t||{}),(0,a.typeforce)({network:a.typeforce.maybe(a.typeforce.Object),address:a.typeforce.maybe(a.typeforce.String),hash:a.typeforce.maybe(a.typeforce.BufferN(32)),output:a.typeforce.maybe(a.typeforce.BufferN(34)),redeem:a.typeforce.maybe({input:a.typeforce.maybe(a.typeforce.Buffer),network:a.typeforce.maybe(a.typeforce.Object),output:a.typeforce.maybe(a.typeforce.Buffer),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))}),input:a.typeforce.maybe(a.typeforce.BufferN(0)),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))},e);const r=u.value((()=>{const t=c.bech32.decode(e.address),r=t.words.shift(),i=c.bech32.fromWords(t.words);return{version:r,prefix:t.prefix,data:n.from(i)}})),d=u.value((()=>s.decompile(e.redeem.input)));let p=e.network;p||(p=e.redeem&&e.redeem.network||o.bitcoin);const g={network:p};if(u.prop(g,"address",(()=>{if(!g.hash)return;const e=c.bech32.toWords(g.hash);return e.unshift(0),c.bech32.encode(p.bech32,e)})),u.prop(g,"hash",(()=>e.output?e.output.slice(2):e.address?r().data:g.redeem&&g.redeem.output?i.sha256(g.redeem.output):void 0)),u.prop(g,"output",(()=>{if(g.hash)return s.compile([f.OP_0,g.hash])})),u.prop(g,"redeem",(()=>{if(e.witness)return{output:e.witness[e.witness.length-1],input:l,witness:e.witness.slice(0,-1)}})),u.prop(g,"input",(()=>{if(g.witness)return l})),u.prop(g,"witness",(()=>{if(e.redeem&&e.redeem.input&&e.redeem.input.length>0&&e.redeem.output&&e.redeem.output.length>0){const t=s.toStack(d());return g.redeem=Object.assign({witness:t},e.redeem),g.redeem.input=l,[].concat(t,e.redeem.output)}if(e.redeem&&e.redeem.output&&e.redeem.witness)return[].concat(e.redeem.witness,e.redeem.output)})),u.prop(g,"name",(()=>{const e=["p2wsh"];return void 0!==g.redeem&&void 0!==g.redeem.name&&e.push(g.redeem.name),e.join("-")})),t.validate){let t=n.from([]);if(e.address){if(r().prefix!==p.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(0!==r().version)throw new TypeError("Invalid address version");if(32!==r().data.length)throw new TypeError("Invalid address data");t=r().data}if(e.hash){if(t.length>0&&!t.equals(e.hash))throw new TypeError("Hash mismatch");t=e.hash}if(e.output){if(34!==e.output.length||e.output[0]!==f.OP_0||32!==e.output[1])throw new TypeError("Output is invalid");const r=e.output.slice(2);if(t.length>0&&!t.equals(r))throw new TypeError("Hash mismatch");t=r}if(e.redeem){if(e.redeem.network&&e.redeem.network!==p)throw new TypeError("Network mismatch");if(e.redeem.input&&e.redeem.input.length>0&&e.redeem.witness&&e.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(e.redeem.output){const r=s.decompile(e.redeem.output);if(!r||r.length<1)throw new TypeError("Redeem.output is invalid");if(e.redeem.output.byteLength>3600)throw new TypeError("Redeem.output unspendable if larger than 3600 bytes");if(s.countNonPushOnlyOPs(r)>201)throw new TypeError("Redeem.output unspendable with more than 201 non-push ops");const n=i.sha256(e.redeem.output);if(t.length>0&&!t.equals(n))throw new TypeError("Hash mismatch");t=n}if(e.redeem.input&&!s.isPushOnly(d()))throw new TypeError("Non push-only scriptSig");if(e.witness&&e.redeem.witness&&!function(e,t){return e.length===t.length&&e.every(((e,r)=>e.equals(t[r])))}(e.witness,e.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(e.redeem.input&&d().some(h)||e.redeem.output&&(s.decompile(e.redeem.output)||[]).some(h))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(e.witness&&e.witness.length>0){const t=e.witness[e.witness.length-1];if(e.redeem&&e.redeem.output&&!e.redeem.output.equals(t))throw new TypeError("Witness and redeem.output mismatch");if(e.witness.some(h)||(s.decompile(t)||[]).some(h))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(g,e)}},ZMuo:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Psbt=void 0;const i=r("+kyn"),o=r("9BaV"),s=r("mYwY"),a=r("nmF7"),u=r("Wf2o"),c=r("oNM4"),f=r("/xGl"),l=r("RiJg"),h=r("Gnot"),d=r("XUZb"),p=r("/JD7"),g=r("mceV"),y={network:c.bitcoin,maximumFeeRate:5e3};class m{static fromBase64(e,t={}){const r=n.from(e,"base64");return this.fromBuffer(r,t)}static fromHex(e,t={}){const r=n.from(e,"hex");return this.fromBuffer(r,t)}static fromBuffer(e,t={}){const r=i.Psbt.fromBuffer(e,b),n=new m(t,r);var o,s;return o=n.__CACHE.__TX,s=n.__CACHE,o.ins.forEach((e=>{T(s,e)})),n}constructor(e={},t=new i.Psbt(new w)){this.data=t,this.opts=Object.assign({},y,e),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},0===this.data.inputs.length&&this.setVersion(2);const r=(e,t,r,n)=>Object.defineProperty(e,t,{enumerable:r,writable:n});r(this,"__CACHE",!1,!0),r(this,"opts",!1,!0)}get inputCount(){return this.data.inputs.length}get version(){return this.__CACHE.__TX.version}set version(e){this.setVersion(e)}get locktime(){return this.__CACHE.__TX.locktime}set locktime(e){this.setLocktime(e)}get txInputs(){return this.__CACHE.__TX.ins.map((e=>({hash:(0,u.cloneBuffer)(e.hash),index:e.index,sequence:e.sequence})))}get txOutputs(){return this.__CACHE.__TX.outs.map((e=>{let t;try{t=(0,a.fromOutputScript)(e.script,this.opts.network)}catch(r){}return{script:(0,u.cloneBuffer)(e.script),value:e.value,address:t}}))}combine(...e){return this.data.combine(...e.map((e=>e.data))),this}clone(){const e=m.fromBuffer(this.data.toBuffer());return e.opts=JSON.parse(JSON.stringify(this.opts)),e}setMaximumFeeRate(e){A(e),this.opts.maximumFeeRate=e}setVersion(e){A(e),x(this.data.inputs,"setVersion");const t=this.__CACHE;return t.__TX.version=e,t.__EXTRACTED_TX=void 0,this}setLocktime(e){A(e),x(this.data.inputs,"setLocktime");const t=this.__CACHE;return t.__TX.locktime=e,t.__EXTRACTED_TX=void 0,this}setInputSequence(e,t){A(t),x(this.data.inputs,"setInputSequence");const r=this.__CACHE;if(r.__TX.ins.length<=e)throw new Error("Input index too high");return r.__TX.ins[e].sequence=t,r.__EXTRACTED_TX=void 0,this}addInputs(e){return e.forEach((e=>this.addInput(e))),this}addInput(e){if(arguments.length>1||!e||void 0===e.hash||void 0===e.index)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");(0,p.checkTaprootInputFields)(e,e,"addInput"),x(this.data.inputs,"addInput"),e.witnessScript&&G(e.witnessScript);const t=this.__CACHE;this.data.addInput(e);T(t,t.__TX.ins[t.__TX.ins.length-1]);const r=this.data.inputs.length-1,n=this.data.inputs[r];return n.nonWitnessUtxo&&q(this.__CACHE,n,r),t.__FEE=void 0,t.__FEE_RATE=void 0,t.__EXTRACTED_TX=void 0,this}addOutputs(e){return e.forEach((e=>this.addOutput(e))),this}addOutput(e){if(arguments.length>1||!e||void 0===e.value||void 0===e.address&&void 0===e.script)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");x(this.data.inputs,"addOutput");const{address:t}=e;if("string"===typeof t){const{network:r}=this.opts,n=(0,a.toOutputScript)(t,r);e=Object.assign(e,{script:n})}(0,p.checkTaprootOutputFields)(e,e,"addOutput");const r=this.__CACHE;return this.data.addOutput(e),r.__FEE=void 0,r.__FEE_RATE=void 0,r.__EXTRACTED_TX=void 0,this}extractTransaction(e){if(!this.data.inputs.every(S))throw new Error("Not finalized");const t=this.__CACHE;if(e||function(e,t,r){const n=t.__FEE_RATE||e.getFeeRate(),i=t.__EXTRACTED_TX.virtualSize(),o=n*i;if(n>=r.maximumFeeRate)throw new Error(`Warning: You are paying around ${(o/1e8).toFixed(8)} in fees, which is ${n} satoshi per byte for a transaction with a VSize of ${i} bytes (segwit counted as 0.25 byte per byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.`)}(this,t,this.opts),t.__EXTRACTED_TX)return t.__EXTRACTED_TX;const r=t.__TX.clone();return K(this.data.inputs,r,t,!0),r}getFeeRate(){return B("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}getFee(){return B("__FEE","fee",this.data.inputs,this.__CACHE)}finalizeAllInputs(){return(0,s.checkForInput)(this.data.inputs,0),J(this.data.inputs.length).forEach((e=>this.finalizeInput(e))),this}finalizeInput(e,t){const r=(0,s.checkForInput)(this.data.inputs,e);return(0,p.isTaprootInput)(r)?this._finalizeTaprootInput(e,r,void 0,t):this._finalizeInput(e,r,t)}finalizeTaprootInput(e,t,r=p.tapScriptFinalizer){const n=(0,s.checkForInput)(this.data.inputs,e);if((0,p.isTaprootInput)(n))return this._finalizeTaprootInput(e,n,t,r);throw new Error(`Cannot finalize input #${e}. Not Taproot.`)}_finalizeInput(e,t,r=O){const{script:n,isP2SH:i,isP2WSH:o,isSegwit:s}=function(e,t,r){const n=r.__TX,i={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(i.isP2SH=!!t.redeemScript,i.isP2WSH=!!t.witnessScript,t.witnessScript)i.script=t.witnessScript;else if(t.redeemScript)i.script=t.redeemScript;else if(t.nonWitnessUtxo){const o=H(r,t,e),s=n.ins[e].index;i.script=o.outs[s].script}else t.witnessUtxo&&(i.script=t.witnessUtxo.script);(t.witnessScript||(0,g.isP2WPKH)(i.script))&&(i.isSegwit=!0);return i}(e,t,this.__CACHE);if(!n)throw new Error(`No script found for input #${e}`);!function(e){if(!e.sighashType||!e.partialSig)return;const{partialSig:t,sighashType:r}=e;t.forEach((e=>{const{hashType:t}=h.signature.decode(e.signature);if(r!==t)throw new Error("Signature sighash does not match input sighash type")}))}(t);const{finalScriptSig:a,finalScriptWitness:u}=r(e,t,n,s,i,o);if(a&&this.data.updateInput(e,{finalScriptSig:a}),u&&this.data.updateInput(e,{finalScriptWitness:u}),!a&&!u)throw new Error(`Unknown error finalizing input #${e}`);return this.data.clearFinalizedInput(e),this}_finalizeTaprootInput(e,t,r,n=p.tapScriptFinalizer){if(!t.witnessUtxo)throw new Error(`Cannot finalize input #${e}. Missing withness utxo.`);if(t.tapKeySig){const r=f.p2tr({output:t.witnessUtxo.script,signature:t.tapKeySig}),n=(0,g.witnessStackToScriptWitness)(r.witness);this.data.updateInput(e,{finalScriptWitness:n})}else{const{finalScriptWitness:i}=n(e,t,r);this.data.updateInput(e,{finalScriptWitness:i})}return this.data.clearFinalizedInput(e),this}getInputType(e){const t=(0,s.checkForInput)(this.data.inputs,e),r=V(F(e,t,this.__CACHE),e,"input",t.redeemScript||function(e){if(!e)return;const t=h.decompile(e);if(!t)return;const r=t[t.length-1];if(!n.isBuffer(r)||$(r)||(i=r,h.isCanonicalScriptSignature(i)))return;var i;if(!h.decompile(r))return;return r}(t.finalScriptSig),t.witnessScript||function(e){if(!e)return;const t=D(e),r=t[t.length-1];if($(r))return;if(!h.decompile(r))return;return r}(t.finalScriptWitness));return("raw"===r.type?"":r.type+"-")+Z(r.meaningfulScript)}inputHasPubkey(e,t){return function(e,t,r,n){const i=F(r,t,n),{meaningfulScript:o}=V(i,r,"input",t.redeemScript,t.witnessScript);return(0,g.pubkeyInScript)(e,o)}(t,(0,s.checkForInput)(this.data.inputs,e),e,this.__CACHE)}inputHasHDKey(e,t){const r=(0,s.checkForInput)(this.data.inputs,e),n=E(t);return!!r.bip32Derivation&&r.bip32Derivation.some(n)}outputHasPubkey(e,t){return function(e,t,r,n){const i=n.__TX.outs[r].script,{meaningfulScript:o}=V(i,r,"output",t.redeemScript,t.witnessScript);return(0,g.pubkeyInScript)(e,o)}(t,(0,s.checkForOutput)(this.data.outputs,e),e,this.__CACHE)}outputHasHDKey(e,t){const r=(0,s.checkForOutput)(this.data.outputs,e),n=E(t);return!!r.bip32Derivation&&r.bip32Derivation.some(n)}validateSignaturesOfAllInputs(e){(0,s.checkForInput)(this.data.inputs,0);return J(this.data.inputs.length).map((t=>this.validateSignaturesOfInput(t,e))).reduce(((e,t)=>!0===t&&e),!0)}validateSignaturesOfInput(e,t,r){const n=this.data.inputs[e];return(0,p.isTaprootInput)(n)?this.validateSignaturesOfTaprootInput(e,t,r):this._validateSignaturesOfInput(e,t,r)}_validateSignaturesOfInput(e,t,r){const n=this.data.inputs[e],i=(n||{}).partialSig;if(!n||!i||i.length<1)throw new Error("No signatures to validate");if("function"!==typeof t)throw new Error("Need validator function to validate signatures");const o=r?i.filter((e=>e.pubkey.equals(r))):i;if(o.length<1)throw new Error("No signatures for this pubkey");const s=[];let a,u,c;for(const f of o){const r=h.signature.decode(f.signature),{hash:i,script:o}=c!==r.hashType?U(e,Object.assign({},n,{sighashType:r.hashType}),this.__CACHE,!0):{hash:a,script:u};c=r.hashType,a=i,u=o,k(f.pubkey,o,"verify"),s.push(t(f.pubkey,i,r.signature))}return s.every((e=>!0===e))}validateSignaturesOfTaprootInput(e,t,r){const n=this.data.inputs[e],i=(n||{}).tapKeySig,o=(n||{}).tapScriptSig;if(!n&&!i&&(!o||o.length))throw new Error("No signatures to validate");if("function"!==typeof t)throw new Error("Need validator function to validate signatures");const s=(r=r&&(0,p.toXOnly)(r))?L(e,n,this.data.inputs,r,this.__CACHE):function(e,t,r,n){const i=[];if(t.tapInternalKey){const r=N(e,t,n);r&&i.push(r)}if(t.tapScriptSig){const e=t.tapScriptSig.map((e=>e.pubkey));i.push(...e)}const o=i.map((i=>L(e,t,r,i,n)));return o.flat()}(e,n,this.data.inputs,this.__CACHE);if(!s.length)throw new Error("No signatures for this pubkey");const a=s.find((e=>!e.leafHash));let u=0;if(i&&a){if(!t(a.pubkey,a.hash,R(i)))return!1;u++}if(o)for(const c of o){const e=s.find((e=>c.pubkey.equals(e.pubkey)));if(e){if(!t(c.pubkey,e.hash,R(c.signature)))return!1;u++}}return u>0}signAllInputsHD(e,t=[d.Transaction.SIGHASH_ALL]){if(!e||!e.publicKey||!e.fingerprint)throw new Error("Need HDSigner to sign input");const r=[];for(const i of J(this.data.inputs.length))try{this.signInputHD(i,e,t),r.push(!0)}catch(n){r.push(!1)}if(r.every((e=>!1===e)))throw new Error("No inputs were signed");return this}signAllInputsHDAsync(e,t=[d.Transaction.SIGHASH_ALL]){return new Promise(((r,n)=>{if(!e||!e.publicKey||!e.fingerprint)return n(new Error("Need HDSigner to sign input"));const i=[],o=[];for(const s of J(this.data.inputs.length))o.push(this.signInputHDAsync(s,e,t).then((()=>{i.push(!0)}),(()=>{i.push(!1)})));return Promise.all(o).then((()=>{if(i.every((e=>!1===e)))return n(new Error("No inputs were signed"));r()}))}))}signInputHD(e,t,r=[d.Transaction.SIGHASH_ALL]){if(!t||!t.publicKey||!t.fingerprint)throw new Error("Need HDSigner to sign input");return j(e,this.data.inputs,t).forEach((t=>this.signInput(e,t,r))),this}signInputHDAsync(e,t,r=[d.Transaction.SIGHASH_ALL]){return new Promise(((n,i)=>{if(!t||!t.publicKey||!t.fingerprint)return i(new Error("Need HDSigner to sign input"));const o=j(e,this.data.inputs,t).map((t=>this.signInputAsync(e,t,r)));return Promise.all(o).then((()=>{n()})).catch(i)}))}signAllInputs(e,t){if(!e||!e.publicKey)throw new Error("Need Signer to sign input");const r=[];for(const i of J(this.data.inputs.length))try{this.signInput(i,e,t),r.push(!0)}catch(n){r.push(!1)}if(r.every((e=>!1===e)))throw new Error("No inputs were signed");return this}signAllInputsAsync(e,t){return new Promise(((r,n)=>{if(!e||!e.publicKey)return n(new Error("Need Signer to sign input"));const i=[],o=[];for(const[s]of this.data.inputs.entries())o.push(this.signInputAsync(s,e,t).then((()=>{i.push(!0)}),(()=>{i.push(!1)})));return Promise.all(o).then((()=>{if(i.every((e=>!1===e)))return n(new Error("No inputs were signed"));r()}))}))}signInput(e,t,r){if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const n=(0,s.checkForInput)(this.data.inputs,e);return(0,p.isTaprootInput)(n)?this._signTaprootInput(e,n,t,void 0,r):this._signInput(e,t,r)}signTaprootInput(e,t,r,n){if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const i=(0,s.checkForInput)(this.data.inputs,e);if((0,p.isTaprootInput)(i))return this._signTaprootInput(e,i,t,r,n);throw new Error(`Input #${e} is not of type Taproot.`)}_signInput(e,t,r=[d.Transaction.SIGHASH_ALL]){const{hash:n,sighashType:i}=C(this.data.inputs,e,t.publicKey,this.__CACHE,r),o=[{pubkey:t.publicKey,signature:h.signature.encode(t.sign(n),i)}];return this.data.updateInput(e,{partialSig:o}),this}_signTaprootInput(e,t,r,n,i=[d.Transaction.SIGHASH_DEFAULT]){const o=this.checkTaprootHashesForSig(e,t,r,n,i),s=o.filter((e=>!e.leafHash)).map((e=>(0,p.serializeTaprootSignature)(r.signSchnorr(e.hash),t.sighashType)))[0],a=o.filter((e=>!!e.leafHash)).map((e=>({pubkey:(0,p.toXOnly)(r.publicKey),signature:(0,p.serializeTaprootSignature)(r.signSchnorr(e.hash),t.sighashType),leafHash:e.leafHash})));return s&&this.data.updateInput(e,{tapKeySig:s}),a.length&&this.data.updateInput(e,{tapScriptSig:a}),this}signInputAsync(e,t,r){return Promise.resolve().then((()=>{if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const n=(0,s.checkForInput)(this.data.inputs,e);return(0,p.isTaprootInput)(n)?this._signTaprootInputAsync(e,n,t,void 0,r):this._signInputAsync(e,t,r)}))}signTaprootInputAsync(e,t,r,n){return Promise.resolve().then((()=>{if(!t||!t.publicKey)throw new Error("Need Signer to sign input");const i=(0,s.checkForInput)(this.data.inputs,e);if((0,p.isTaprootInput)(i))return this._signTaprootInputAsync(e,i,t,r,n);throw new Error(`Input #${e} is not of type Taproot.`)}))}_signInputAsync(e,t,r=[d.Transaction.SIGHASH_ALL]){const{hash:n,sighashType:i}=C(this.data.inputs,e,t.publicKey,this.__CACHE,r);return Promise.resolve(t.sign(n)).then((r=>{const n=[{pubkey:t.publicKey,signature:h.signature.encode(r,i)}];this.data.updateInput(e,{partialSig:n})}))}async _signTaprootInputAsync(e,t,r,n,i=[d.Transaction.SIGHASH_DEFAULT]){const o=this.checkTaprootHashesForSig(e,t,r,n,i),s=[],a=o.filter((e=>!e.leafHash))[0];if(a){const e=Promise.resolve(r.signSchnorr(a.hash)).then((e=>({tapKeySig:(0,p.serializeTaprootSignature)(e,t.sighashType)})));s.push(e)}const u=o.filter((e=>!!e.leafHash));if(u.length){const e=u.map((e=>Promise.resolve(r.signSchnorr(e.hash)).then((n=>({tapScriptSig:[{pubkey:(0,p.toXOnly)(r.publicKey),signature:(0,p.serializeTaprootSignature)(n,t.sighashType),leafHash:e.leafHash}]})))));s.push(...e)}return Promise.all(s).then((t=>{t.forEach((t=>this.data.updateInput(e,t)))}))}checkTaprootHashesForSig(e,t,r,n,i){if("function"!==typeof r.signSchnorr)throw new Error(`Need Schnorr Signer to sign taproot input #${e}.`);const o=L(e,t,this.data.inputs,r.publicKey,this.__CACHE,n,i);if(!o||!o.length)throw new Error(`Can not sign for input #${e} with the key ${r.publicKey.toString("hex")}`);return o}toBuffer(){return v(this.__CACHE),this.data.toBuffer()}toHex(){return v(this.__CACHE),this.data.toHex()}toBase64(){return v(this.__CACHE),this.data.toBase64()}updateGlobal(e){return this.data.updateGlobal(e),this}updateInput(e,t){return t.witnessScript&&G(t.witnessScript),(0,p.checkTaprootInputFields)(this.data.inputs[e],t,"updateInput"),this.data.updateInput(e,t),t.nonWitnessUtxo&&q(this.__CACHE,this.data.inputs[e],e),this}updateOutput(e,t){const r=this.data.outputs[e];return(0,p.checkTaprootOutputFields)(r,t,"updateOutput"),this.data.updateOutput(e,t),this}addUnknownKeyValToGlobal(e){return this.data.addUnknownKeyValToGlobal(e),this}addUnknownKeyValToInput(e,t){return this.data.addUnknownKeyValToInput(e,t),this}addUnknownKeyValToOutput(e,t){return this.data.addUnknownKeyValToOutput(e,t),this}clearFinalizedInput(e){return this.data.clearFinalizedInput(e),this}}t.Psbt=m;const b=e=>new w(e);class w{constructor(e=n.from([2,0,0,0,0,0,0,0,0,0])){this.tx=d.Transaction.fromBuffer(e),function(e){if(!e.ins.every((e=>e.script&&0===e.script.length&&e.witness&&0===e.witness.length)))throw new Error("Format Error: Transaction ScriptSigs are not empty")}(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}getInputOutputCounts(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}addInput(e){if(void 0===e.hash||void 0===e.index||!n.isBuffer(e.hash)&&"string"!==typeof e.hash||"number"!==typeof e.index)throw new Error("Error adding input.");const t="string"===typeof e.hash?(0,u.reverseBuffer)(n.from(e.hash,"hex")):e.hash;this.tx.addInput(t,e.index,e.sequence)}addOutput(e){if(void 0===e.script||void 0===e.value||!n.isBuffer(e.script)||"number"!==typeof e.value)throw new Error("Error adding output.");this.tx.addOutput(e.script,e.value)}toBuffer(){return this.tx.toBuffer()}}function v(e){if(!1!==e.__UNSAFE_SIGN_NONSEGWIT)throw new Error("Not BIP174 compliant, can not export")}function _(e,t,r){if(!t)return!1;let n;if(n=r?r.map((e=>{const r=function(e){if(65===e.length){const t=1&e[64],r=e.slice(0,33);return r[0]=2|t,r}return e.slice()}(e);return t.find((e=>e.pubkey.equals(r)))})).filter((e=>!!e)):t,n.length>e)throw new Error("Too many signatures");return n.length===e}function S(e){return!!e.finalScriptSig||!!e.finalScriptWitness}function E(e){return t=>!!t.masterFingerprint.equals(e.fingerprint)&&!!e.derivePath(t.path).publicKey.equals(t.pubkey)}function A(e){if("number"!==typeof e||e!==Math.floor(e)||e>4294967295||e<0)throw new Error("Invalid 32 bit integer")}function x(e,t){e.forEach((e=>{if((0,p.isTaprootInput)(e)?(0,p.checkTaprootInputForSigs)(e,t):(0,g.checkInputForSig)(e,t))throw new Error("Can not modify transaction, signatures exist.")}))}function k(e,t,r){if(!(0,g.pubkeyInScript)(e,t))throw new Error(`Can not ${r} for this input with the key ${e.toString("hex")}`)}function T(e,t){const r=(0,u.reverseBuffer)(n.from(t.hash)).toString("hex")+":"+t.index;if(e.__TX_IN_CACHE[r])throw new Error("Duplicate input detected.");e.__TX_IN_CACHE[r]=1}function I(e,t){return(r,n,i,o)=>{const s=e({redeem:{output:i}}).output;if(!n.equals(s))throw new Error(`${t} for ${o} #${r} doesn't match the scriptPubKey in the prevout`)}}const M=I(f.p2sh,"Redeem script"),P=I(f.p2wsh,"Witness script");function B(e,t,r,n){if(!r.every(S))throw new Error(`PSBT must be finalized to calculate ${t}`);if("__FEE_RATE"===e&&n.__FEE_RATE)return n.__FEE_RATE;if("__FEE"===e&&n.__FEE)return n.__FEE;let i,o=!0;return n.__EXTRACTED_TX?(i=n.__EXTRACTED_TX,o=!1):i=n.__TX.clone(),K(r,i,n,o),"__FEE_RATE"===e?n.__FEE_RATE:"__FEE"===e?n.__FEE:void 0}function O(e,t,r,n,i,o){const s=Z(r);if(!function(e,t,r){switch(r){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return _(1,e.partialSig);case"multisig":const r=f.p2ms({output:t});return _(r.m,e.partialSig,r.pubkeys);default:return!1}}(t,r,s))throw new Error(`Can not finalize input #${e}`);return function(e,t,r,n,i,o){let s,a;const u=function(e,t,r){let n;switch(t){case"multisig":const t=function(e,t){const r=f.p2ms({output:e});return r.pubkeys.map((e=>(t.filter((t=>t.pubkey.equals(e)))[0]||{}).signature)).filter((e=>!!e))}(e,r);n=f.p2ms({output:e,signatures:t});break;case"pubkey":n=f.p2pk({output:e,signature:r[0].signature});break;case"pubkeyhash":n=f.p2pkh({output:e,pubkey:r[0].pubkey,signature:r[0].signature});break;case"witnesspubkeyhash":n=f.p2wpkh({output:e,pubkey:r[0].pubkey,signature:r[0].signature})}return n}(e,t,r),c=o?f.p2wsh({redeem:u}):null,l=i?f.p2sh({redeem:c||u}):null;n?(a=c?(0,g.witnessStackToScriptWitness)(c.witness):(0,g.witnessStackToScriptWitness)(u.witness),l&&(s=l.input)):s=l?l.input:u.input;return{finalScriptSig:s,finalScriptWitness:a}}(r,s,t.partialSig,n,i,o)}function C(e,t,r,n,i){const o=(0,s.checkForInput)(e,t),{hash:a,sighashType:u,script:c}=U(t,o,n,!1,i);return k(r,c,"sign"),{hash:a,sighashType:u}}function U(e,t,r,n,i){const o=r.__TX,s=t.sighashType||d.Transaction.SIGHASH_ALL;let a,u;if(z(s,i),t.nonWitnessUtxo){const n=H(r,t,e),i=o.ins[e].hash,s=n.getHash();if(!i.equals(s))throw new Error(`Non-witness UTXO hash for input #${e} doesn't match the hash specified in the prevout`);const a=o.ins[e].index;u=n.outs[a]}else{if(!t.witnessUtxo)throw new Error("Need a Utxo input item for signing");u=t.witnessUtxo}const{meaningfulScript:c,type:l}=V(u.script,e,"input",t.redeemScript,t.witnessScript);if(["p2sh-p2wsh","p2wsh"].indexOf(l)>=0)a=o.hashForWitnessV0(e,c,u.value,s);else if((0,g.isP2WPKH)(c)){const t=f.p2pkh({hash:c.slice(2)}).output;a=o.hashForWitnessV0(e,t,u.value,s)}else{if(void 0===t.nonWitnessUtxo&&!1===r.__UNSAFE_SIGN_NONSEGWIT)throw new Error(`Input #${e} has witnessUtxo but non-segwit script: ${c.toString("hex")}`);n||!1===r.__UNSAFE_SIGN_NONSEGWIT||console.warn("Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecesor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.\n*********************\nPROCEED WITH CAUTION!\n*********************"),a=o.hashForSignature(e,c,s)}return{script:c,sighashType:s,hash:a}}function N(e,t,r){const{script:n}=W(e,t,r);return(0,g.isP2TR)(n)?n.subarray(2,34):null}function R(e){return 64===e.length?e:e.subarray(0,64)}function L(e,t,r,i,o,s,a){const u=o.__TX,c=t.sighashType||d.Transaction.SIGHASH_DEFAULT;z(c,a);const f=r.map(((e,t)=>W(t,e,o))),h=f.map((e=>e.script)),y=f.map((e=>e.value)),m=[];if(t.tapInternalKey&&!s){const r=N(e,t,o)||n.from([]);if((0,p.toXOnly)(i).equals(r)){const t=u.hashForWitnessV1(e,h,y,c);m.push({pubkey:i,hash:t})}}const b=(t.tapLeafScript||[]).filter((e=>(0,g.pubkeyInScript)(i,e.script))).map((e=>{const t=(0,l.tapleafHash)({output:e.script,version:e.leafVersion});return Object.assign({hash:t},e)})).filter((e=>!s||s.equals(e.hash))).map((t=>{const r=u.hashForWitnessV1(e,h,y,d.Transaction.SIGHASH_DEFAULT,t.hash);return{pubkey:i,hash:r,leafHash:t.hash}}));return m.concat(b)}function z(e,t){if(t&&t.indexOf(e)<0){const t=function(e){let t=e&d.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(31&e){case d.Transaction.SIGHASH_ALL:t+="SIGHASH_ALL";break;case d.Transaction.SIGHASH_SINGLE:t+="SIGHASH_SINGLE";break;case d.Transaction.SIGHASH_NONE:t+="SIGHASH_NONE"}return t}(e);throw new Error(`Sighash type is not allowed. Retry the sign method passing the sighashTypes array of whitelisted types. Sighash type: ${t}`)}}function j(e,t,r){const n=(0,s.checkForInput)(t,e);if(!n.bip32Derivation||0===n.bip32Derivation.length)throw new Error("Need bip32Derivation to sign with HD");const i=n.bip32Derivation.map((e=>e.masterFingerprint.equals(r.fingerprint)?e:void 0)).filter((e=>!!e));if(0===i.length)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return i.map((e=>{const t=r.derivePath(e.path);if(!e.pubkey.equals(t.publicKey))throw new Error("pubkey did not match bip32Derivation");return t}))}function D(e){let t=0;function r(){const r=o.decode(e,t);return t+=o.decode.bytes,r}function n(){return function(r){return t+=r,e.slice(t-r,t)}(r())}return function(){const e=r(),t=[];for(let r=0;r<e;r++)t.push(n());return t}()}function q(e,t,r){e.__NON_WITNESS_UTXO_BUF_CACHE[r]=t.nonWitnessUtxo;const n=d.Transaction.fromBuffer(t.nonWitnessUtxo);e.__NON_WITNESS_UTXO_TX_CACHE[r]=n;const i=e,o=r;delete t.nonWitnessUtxo,Object.defineProperty(t,"nonWitnessUtxo",{enumerable:!0,get(){const e=i.__NON_WITNESS_UTXO_BUF_CACHE[o],t=i.__NON_WITNESS_UTXO_TX_CACHE[o];if(void 0!==e)return e;{const e=t.toBuffer();return i.__NON_WITNESS_UTXO_BUF_CACHE[o]=e,e}},set(e){i.__NON_WITNESS_UTXO_BUF_CACHE[o]=e}})}function K(e,t,r,n){let i=0;e.forEach(((e,o)=>{if(n&&e.finalScriptSig&&(t.ins[o].script=e.finalScriptSig),n&&e.finalScriptWitness&&(t.ins[o].witness=D(e.finalScriptWitness)),e.witnessUtxo)i+=e.witnessUtxo.value;else if(e.nonWitnessUtxo){const n=H(r,e,o),s=t.ins[o].index,a=n.outs[s];i+=a.value}}));const o=t.outs.reduce(((e,t)=>e+t.value),0),s=i-o;if(s<0)throw new Error("Outputs are spending more than Inputs");const a=t.virtualSize();r.__FEE=s,r.__EXTRACTED_TX=t,r.__FEE_RATE=Math.floor(s/a)}function H(e,t,r){const n=e.__NON_WITNESS_UTXO_TX_CACHE;return n[r]||q(e,t,r),n[r]}function F(e,t,r){const{script:n}=W(e,t,r);return n}function W(e,t,r){if(void 0!==t.witnessUtxo)return{script:t.witnessUtxo.script,value:t.witnessUtxo.value};if(void 0!==t.nonWitnessUtxo){const n=H(r,t,e).outs[r.__TX.ins[e].index];return{script:n.script,value:n.value}}throw new Error("Can't find pubkey in input without Utxo data")}function $(e){return 33===e.length&&h.isCanonicalPubKey(e)}function V(e,t,r,n,i){const o=(0,g.isP2SHScript)(e),s=o&&n&&(0,g.isP2WSHScript)(n),a=(0,g.isP2WSHScript)(e);if(o&&void 0===n)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((a||s)&&void 0===i)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");let u;return s?(u=i,M(t,e,n,r),P(t,n,i,r),G(u)):a?(u=i,P(t,e,i,r),G(u)):o?(u=n,M(t,e,n,r)):u=e,{meaningfulScript:u,type:s?"p2sh-p2wsh":o?"p2sh":a?"p2wsh":"raw"}}function G(e){if((0,g.isP2WPKH)(e)||(0,g.isP2SHScript)(e))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function Z(e){return(0,g.isP2WPKH)(e)?"witnesspubkeyhash":(0,g.isP2PKH)(e)?"pubkeyhash":(0,g.isP2MS)(e)?"multisig":(0,g.isP2PK)(e)?"pubkey":"nonstandard"}function J(e){return[...Array(e).keys()]}},"/JD7":(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.checkTaprootInputForSigs=t.tapTreeFromList=t.tapTreeToList=t.tweakInternalPubKey=t.checkTaprootOutputFields=t.checkTaprootInputFields=t.isTaprootOutput=t.isTaprootInput=t.serializeTaprootSignature=t.tapScriptFinalizer=t.toXOnly=void 0;const i=r("zi0B"),o=r("XUZb"),s=r("mceV"),a=r("RiJg"),u=r("/xGl"),c=r("mceV");function f(e){return e&&!!(e.tapInternalKey||e.tapMerkleRoot||e.tapLeafScript&&e.tapLeafScript.length||e.tapBip32Derivation&&e.tapBip32Derivation.length||e.witnessUtxo&&(0,s.isP2TR)(e.witnessUtxo.script))}function l(e,t){return e&&!!(e.tapInternalKey||e.tapTree||e.tapBip32Derivation&&e.tapBip32Derivation.length||t&&(0,s.isP2TR)(t))}function h(e=[]){return 1===e.length&&0===e[0].depth?{output:e[0].script,version:e[0].leafVersion}:function(e){let t;for(const r of e)if(t=g(r,t),!t)throw new Error("No room left to insert tapleaf in tree");return t}(e)}function d(e){return{signature:e.slice(0,64),hashType:e.slice(64)[0]||o.Transaction.SIGHASH_DEFAULT}}function p(e,t=[],r=0){if(r>a.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");return e?(0,i.isTapleaf)(e)?(t.push({depth:r,leafVersion:e.version||a.LEAF_VERSION_TAPSCRIPT,script:e.output}),t):(e[0]&&p(e[0],t,r+1),e[1]&&p(e[1],t,r+1),t):[]}function g(e,t,r=0){if(r>a.MAX_TAPTREE_DEPTH)throw new Error("Max taptree depth exceeded.");if(e.depth===r)return t?void 0:{output:e.script,version:e.leafVersion};if((0,i.isTapleaf)(t))return;const n=g(e,t&&t[0],r+1);if(n)return[n,t&&t[1]];const o=g(e,t&&t[1],r+1);return o?[t&&t[0],o]:void 0}function y(e,t){if(!t)return!0;const r=(0,a.tapleafHash)({output:e.script,version:e.leafVersion});return(0,a.rootHashFromPath)(e.controlBlock,r).equals(t)}function m(e){return e&&!!(e.redeemScript||e.witnessScript||e.bip32Derivation&&e.bip32Derivation.length)}t.toXOnly=e=>32===e.length?e:e.slice(1,33),t.tapScriptFinalizer=function(e,t,r){const n=function(e,t,r){if(!e.tapScriptSig||!e.tapScriptSig.length)throw new Error(`Can not finalize taproot input #${t}. No tapleaf script signature provided.`);const n=(e.tapLeafScript||[]).sort(((e,t)=>e.controlBlock.length-t.controlBlock.length)).find((t=>function(e,t,r){const n=(0,a.tapleafHash)({output:e.script,version:e.leafVersion});return(!r||r.equals(n))&&void 0!==t.find((e=>e.leafHash.equals(n)))}(t,e.tapScriptSig,r)));if(!n)throw new Error(`Can not finalize taproot input #${t}. Signature for tapleaf script not found.`);return n}(t,e,r);try{const e=function(e,t){const r=(0,a.tapleafHash)({output:t.script,version:t.leafVersion});return(e.tapScriptSig||[]).filter((e=>e.leafHash.equals(r))).map((e=>function(e,t){return Object.assign({positionInScript:(0,s.pubkeyPositionInScript)(t.pubkey,e)},t)}(t.script,e))).sort(((e,t)=>t.positionInScript-e.positionInScript)).map((e=>e.signature))}(t,n),r=e.concat(n.script).concat(n.controlBlock);return{finalScriptWitness:(0,s.witnessStackToScriptWitness)(r)}}catch(i){throw new Error(`Can not finalize taproot input #${e}: ${i}`)}},t.serializeTaprootSignature=function(e,t){const r=t?n.from([t]):n.from([]);return n.concat([e,r])},t.isTaprootInput=f,t.isTaprootOutput=l,t.checkTaprootInputFields=function(e,t,r){!function(e,t,r){const n=f(e)&&m(t),i=m(e)&&f(t),o=e===t&&f(t)&&m(t);if(n||i||o)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}(e,t,r),function(e,t,r){if(t.tapMerkleRoot){const n=(t.tapLeafScript||[]).every((e=>y(e,t.tapMerkleRoot))),i=(e.tapLeafScript||[]).every((e=>y(e,t.tapMerkleRoot)));if(!n||!i)throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}else if(e.tapMerkleRoot){if(!(t.tapLeafScript||[]).every((t=>y(t,e.tapMerkleRoot))))throw new Error(`Invalid arguments for Psbt.${r}. Tapleaf not part of taptree.`)}}(e,t,r)},t.checkTaprootOutputFields=function(e,t,r){!function(e,t,r){const n=l(e)&&m(t),i=m(e)&&l(t),o=e===t&&l(t)&&m(t);if(n||i||o)throw new Error(`Invalid arguments for Psbt.${r}. Cannot use both taproot and non-taproot fields.`)}(e,t,r),function(e,t){if(!t.tapTree&&!t.tapInternalKey)return;const r=t.tapInternalKey||e.tapInternalKey,n=t.tapTree||e.tapTree;if(r){const{script:t}=e,i=function(e,t){const r=t&&h(t.leaves),{output:n}=(0,u.p2tr)({internalPubkey:e,scriptTree:r});return n}(r,n);if(t&&!t.equals(i))throw new Error("Error adding output. Script or address missmatch.")}}(e,t)},t.tweakInternalPubKey=function(e,t){const r=t.tapInternalKey,n=r&&(0,a.tweakKey)(r,t.tapMerkleRoot);if(!n)throw new Error(`Cannot tweak tap internal key for input #${e}. Public key: ${r&&r.toString("hex")}`);return n.x},t.tapTreeToList=function(e){if(!(0,i.isTaptree)(e))throw new Error("Cannot convert taptree to tapleaf list. Expecting a tapree structure.");return p(e)},t.tapTreeFromList=h,t.checkTaprootInputForSigs=function(e,t){return function(e){const t=[];e.tapKeySig&&t.push(e.tapKeySig);e.tapScriptSig&&t.push(...e.tapScriptSig.map((e=>e.signature)));if(!t.length){const r=function(e){if(!e)return;const t=e.slice(2);if(64===t.length||65===t.length)return t}(e.finalScriptWitness);r&&t.push(r)}return t}(e).some((e=>(0,c.signatureBlocksAction)(e,d,t)))}},mceV:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.signatureBlocksAction=t.checkInputForSig=t.pubkeyInScript=t.pubkeyPositionInScript=t.witnessStackToScriptWitness=t.isP2TR=t.isP2SHScript=t.isP2WSHScript=t.isP2WPKH=t.isP2PKH=t.isP2PK=t.isP2MS=void 0;const i=r("9BaV"),o=r("Gnot"),s=r("XUZb"),a=r("iQrT"),u=r("/xGl");function c(e){return t=>{try{return e({output:t}),!0}catch(r){return!1}}}function f(e,t){const r=(0,a.hash160)(e),n=e.slice(1,33),i=o.decompile(t);if(null===i)throw new Error("Unknown script error");return i.findIndex((t=>"number"!==typeof t&&(t.equals(e)||t.equals(r)||t.equals(n))))}function l(e,t,r){const{hashType:n}=t(e),i=[];n&s.Transaction.SIGHASH_ANYONECANPAY&&i.push("addInput");switch(31&n){case s.Transaction.SIGHASH_ALL:break;case s.Transaction.SIGHASH_SINGLE:case s.Transaction.SIGHASH_NONE:i.push("addOutput"),i.push("setInputSequence")}return-1===i.indexOf(r)}t.isP2MS=c(u.p2ms),t.isP2PK=c(u.p2pk),t.isP2PKH=c(u.p2pkh),t.isP2WPKH=c(u.p2wpkh),t.isP2WSHScript=c(u.p2wsh),t.isP2SHScript=c(u.p2sh),t.isP2TR=c(u.p2tr),t.witnessStackToScriptWitness=function(e){let t=n.allocUnsafe(0);function r(e){const r=t.length,o=i.encodingLength(e);t=n.concat([t,n.allocUnsafe(o)]),i.encode(e,t,r)}function o(e){r(e.length),function(e){t=n.concat([t,n.from(e)])}(e)}var s;return r((s=e).length),s.forEach(o),t},t.pubkeyPositionInScript=f,t.pubkeyInScript=function(e,t){return-1!==f(e,t)},t.checkInputForSig=function(e,t){return function(e){let t=[];if(0===(e.partialSig||[]).length){if(!e.finalScriptSig&&!e.finalScriptWitness)return[];t=function(e){const t=e.finalScriptSig&&o.decompile(e.finalScriptSig)||[],r=e.finalScriptWitness&&o.decompile(e.finalScriptWitness)||[];return t.concat(r).filter((e=>n.isBuffer(e)&&o.isCanonicalScriptSignature(e))).map((e=>({signature:e})))}(e)}else t=e.partialSig;return t.map((e=>e.signature))}(e).some((e=>l(e,o.signature.decode,t)))},t.signatureBlocksAction=l},XPAW:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=t.encodingLength=void 0;const n=r("y88n");function i(e){return e<n.OPS.OP_PUSHDATA1?1:e<=255?2:e<=65535?3:5}t.encodingLength=i,t.encode=function(e,t,r){const o=i(t);return 1===o?e.writeUInt8(t,r):2===o?(e.writeUInt8(n.OPS.OP_PUSHDATA1,r),e.writeUInt8(t,r+1)):3===o?(e.writeUInt8(n.OPS.OP_PUSHDATA2,r),e.writeUInt16LE(t,r+1)):(e.writeUInt8(n.OPS.OP_PUSHDATA4,r),e.writeUInt32LE(t,r+1)),o},t.decode=function(e,t){const r=e.readUInt8(t);let i,o;if(r<n.OPS.OP_PUSHDATA1)i=r,o=1;else if(r===n.OPS.OP_PUSHDATA1){if(t+2>e.length)return null;i=e.readUInt8(t+1),o=2}else if(r===n.OPS.OP_PUSHDATA2){if(t+3>e.length)return null;i=e.readUInt16LE(t+1),o=3}else{if(t+5>e.length)return null;if(r!==n.OPS.OP_PUSHDATA4)throw new Error("Unexpected opcode");i=e.readUInt32LE(t+1),o=5}return{opcode:r,number:i,size:o}}},Gnot:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.signature=t.number=t.isCanonicalScriptSignature=t.isDefinedHashType=t.isCanonicalPubKey=t.toStack=t.fromASM=t.toASM=t.decompile=t.compile=t.countNonPushOnlyOPs=t.isPushOnly=t.OPS=void 0;const i=r("9oCZ"),o=r("y88n");Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return o.OPS}});const s=r("XPAW"),a=r("tPdA"),u=r("iVuB"),c=r("zi0B"),{typeforce:f}=c,l=o.OPS.OP_RESERVED;function h(e){return c.Buffer(e)||function(e){return c.Number(e)&&(e===o.OPS.OP_0||e>=o.OPS.OP_1&&e<=o.OPS.OP_16||e===o.OPS.OP_1NEGATE)}(e)}function d(e){return c.Array(e)&&e.every(h)}function p(e){return 0===e.length?o.OPS.OP_0:1===e.length?e[0]>=1&&e[0]<=16?l+e[0]:129===e[0]?o.OPS.OP_1NEGATE:void 0:void 0}function g(e){return n.isBuffer(e)}function y(e){return n.isBuffer(e)}function m(e){if(g(e))return e;f(c.Array,e);const t=e.reduce(((e,t)=>y(t)?1===t.length&&void 0!==p(t)?e+1:e+s.encodingLength(t.length)+t.length:e+1),0),r=n.allocUnsafe(t);let i=0;if(e.forEach((e=>{if(y(e)){const t=p(e);if(void 0!==t)return r.writeUInt8(t,i),void(i+=1);i+=s.encode(r,e.length,i),e.copy(r,i),i+=e.length}else r.writeUInt8(e,i),i+=1})),i!==r.length)throw new Error("Could not decode chunks");return r}function b(e){if(t=e,c.Array(t))return e;var t;f(c.Buffer,e);const r=[];let n=0;for(;n<e.length;){const t=e[n];if(t>o.OPS.OP_0&&t<=o.OPS.OP_PUSHDATA4){const t=s.decode(e,n);if(null===t)return null;if(n+=t.size,n+t.number>e.length)return null;const i=e.slice(n,n+t.number);n+=t.number;const o=p(i);void 0!==o?r.push(o):r.push(i)}else r.push(t),n+=1}return r}function w(e){const t=-129&e;return t>0&&t<4}t.isPushOnly=d,t.countNonPushOnlyOPs=function(e){return e.length-e.filter(h).length},t.compile=m,t.decompile=b,t.toASM=function(e){return g(e)&&(e=b(e)),e.map((e=>{if(y(e)){const t=p(e);if(void 0===t)return e.toString("hex");e=t}return o.REVERSE_OPS[e]})).join(" ")},t.fromASM=function(e){return f(c.String,e),m(e.split(" ").map((e=>void 0!==o.OPS[e]?o.OPS[e]:(f(c.Hex,e),n.from(e,"hex")))))},t.toStack=function(e){return e=b(e),f(d,e),e.map((e=>y(e)?e:e===o.OPS.OP_0?n.allocUnsafe(0):a.encode(e-l)))},t.isCanonicalPubKey=function(e){return c.isPoint(e)},t.isDefinedHashType=w,t.isCanonicalScriptSignature=function(e){return!!n.isBuffer(e)&&(!!w(e[e.length-1])&&i.check(e.slice(0,-1)))},t.number=a,t.signature=u},tPdA:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=void 0,t.decode=function(e,t,r){t=t||4,r=void 0===r||r;const n=e.length;if(0===n)return 0;if(n>t)throw new TypeError("Script number overflow");if(r&&0===(127&e[n-1])&&(n<=1||0===(128&e[n-2])))throw new Error("Non-minimally encoded script number");if(5===n){const t=e.readUInt32LE(0),r=e.readUInt8(4);return 128&r?-(4294967296*(-129&r)+t):4294967296*r+t}let i=0;for(let o=0;o<n;++o)i|=e[o]<<8*o;return 128&e[n-1]?-(i&~(128<<8*(n-1))):i},t.encode=function(e){let t=Math.abs(e);const r=function(e){return e>2147483647?5:e>8388607?4:e>32767?3:e>127?2:e>0?1:0}(t),i=n.allocUnsafe(r),o=e<0;for(let n=0;n<r;++n)i.writeUInt8(255&t,n),t>>=8;return 128&i[r-1]?i.writeUInt8(o?128:0,r-1):o&&(i[r-1]|=128),i}},iVuB:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decode=void 0;const i=r("9oCZ"),o=r("zi0B"),{typeforce:s}=o,a=n.alloc(1,0);function u(e){let t=0;for(;0===e[t];)++t;return t===e.length?a:128&(e=e.slice(t))[0]?n.concat([a,e],1+e.length):e}function c(e){0===e[0]&&(e=e.slice(1));const t=n.alloc(32,0),r=Math.max(0,32-e.length);return e.copy(t,r),t}t.decode=function(e){const t=e.readUInt8(e.length-1),r=-129&t;if(r<=0||r>=4)throw new Error("Invalid hashType "+t);const o=i.decode(e.slice(0,-1)),s=c(o.r),a=c(o.s);return{signature:n.concat([s,a],64),hashType:t}},t.encode=function(e,t){s({signature:o.BufferN(64),hashType:o.UInt8},{signature:e,hashType:t});const r=-129&t;if(r<=0||r>=4)throw new Error("Invalid hashType "+t);const a=n.allocUnsafe(1);a.writeUInt8(t,0);const c=u(e.slice(0,32)),f=u(e.slice(32,64));return n.concat([i.encode(c,f),a])}},XUZb:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.Transaction=void 0;const i=r("Wf2o"),o=r("iQrT"),s=r("Gnot"),a=r("Gnot"),u=r("zi0B"),{typeforce:c}=u;function f(e){const t=e.length;return i.varuint.encodingLength(t)+t}const l=n.allocUnsafe(0),h=[],d=n.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),p=n.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),g=n.from("ffffffffffffffff","hex"),y={script:l,valueBuffer:g};class m{constructor(){this.version=1,this.locktime=0,this.ins=[],this.outs=[]}static fromBuffer(e,t){const r=new i.BufferReader(e),n=new m;n.version=r.readInt32();const o=r.readUInt8(),s=r.readUInt8();let a=!1;o===m.ADVANCED_TRANSACTION_MARKER&&s===m.ADVANCED_TRANSACTION_FLAG?a=!0:r.offset-=2;const u=r.readVarInt();for(let i=0;i<u;++i)n.ins.push({hash:r.readSlice(32),index:r.readUInt32(),script:r.readVarSlice(),sequence:r.readUInt32(),witness:h});const c=r.readVarInt();for(let i=0;i<c;++i)n.outs.push({value:r.readUInt64(),script:r.readVarSlice()});if(a){for(let e=0;e<u;++e)n.ins[e].witness=r.readVector();if(!n.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(n.locktime=r.readUInt32(),t)return n;if(r.offset!==e.length)throw new Error("Transaction has unexpected data");return n}static fromHex(e){return m.fromBuffer(n.from(e,"hex"),!1)}static isCoinbaseHash(e){c(u.Hash256bit,e);for(let t=0;t<32;++t)if(0!==e[t])return!1;return!0}isCoinbase(){return 1===this.ins.length&&m.isCoinbaseHash(this.ins[0].hash)}addInput(e,t,r,n){return c(u.tuple(u.Hash256bit,u.UInt32,u.maybe(u.UInt32),u.maybe(u.Buffer)),arguments),u.Null(r)&&(r=m.DEFAULT_SEQUENCE),this.ins.push({hash:e,index:t,script:n||l,sequence:r,witness:h})-1}addOutput(e,t){return c(u.tuple(u.Buffer,u.Satoshi),arguments),this.outs.push({script:e,value:t})-1}hasWitnesses(){return this.ins.some((e=>0!==e.witness.length))}weight(){return 3*this.byteLength(!1)+this.byteLength(!0)}virtualSize(){return Math.ceil(this.weight()/4)}byteLength(e=!0){const t=e&&this.hasWitnesses();return(t?10:8)+i.varuint.encodingLength(this.ins.length)+i.varuint.encodingLength(this.outs.length)+this.ins.reduce(((e,t)=>e+40+f(t.script)),0)+this.outs.reduce(((e,t)=>e+8+f(t.script)),0)+(t?this.ins.reduce(((e,t)=>e+function(e){const t=e.length;return i.varuint.encodingLength(t)+e.reduce(((e,t)=>e+f(t)),0)}(t.witness)),0):0)}clone(){const e=new m;return e.version=this.version,e.locktime=this.locktime,e.ins=this.ins.map((e=>({hash:e.hash,index:e.index,script:e.script,sequence:e.sequence,witness:e.witness}))),e.outs=this.outs.map((e=>({script:e.script,value:e.value}))),e}hashForSignature(e,t,r){if(c(u.tuple(u.UInt32,u.Buffer,u.Number),arguments),e>=this.ins.length)return p;const i=s.compile(s.decompile(t).filter((e=>e!==a.OPS.OP_CODESEPARATOR))),f=this.clone();if((31&r)===m.SIGHASH_NONE)f.outs=[],f.ins.forEach(((t,r)=>{r!==e&&(t.sequence=0)}));else if((31&r)===m.SIGHASH_SINGLE){if(e>=this.outs.length)return p;f.outs.length=e+1;for(let t=0;t<e;t++)f.outs[t]=y;f.ins.forEach(((t,r)=>{r!==e&&(t.sequence=0)}))}r&m.SIGHASH_ANYONECANPAY?(f.ins=[f.ins[e]],f.ins[0].script=i):(f.ins.forEach((e=>{e.script=l})),f.ins[e].script=i);const h=n.allocUnsafe(f.byteLength(!1)+4);return h.writeInt32LE(r,h.length-4),f.__toBuffer(h,0,!1),o.hash256(h)}hashForWitnessV1(e,t,r,s,a,h){if(c(u.tuple(u.UInt32,c.arrayOf(u.Buffer),c.arrayOf(u.Satoshi),u.UInt32),arguments),r.length!==this.ins.length||t.length!==this.ins.length)throw new Error("Must supply prevout script and value for all inputs");const d=s===m.SIGHASH_DEFAULT?m.SIGHASH_ALL:s&m.SIGHASH_OUTPUT_MASK,p=(s&m.SIGHASH_INPUT_MASK)===m.SIGHASH_ANYONECANPAY,g=d===m.SIGHASH_NONE,y=d===m.SIGHASH_SINGLE;let b=l,w=l,v=l,_=l,S=l;if(!p){let e=i.BufferWriter.withCapacity(36*this.ins.length);this.ins.forEach((t=>{e.writeSlice(t.hash),e.writeUInt32(t.index)})),b=o.sha256(e.end()),e=i.BufferWriter.withCapacity(8*this.ins.length),r.forEach((t=>e.writeUInt64(t))),w=o.sha256(e.end()),e=i.BufferWriter.withCapacity(t.map(f).reduce(((e,t)=>e+t))),t.forEach((t=>e.writeVarSlice(t))),v=o.sha256(e.end()),e=i.BufferWriter.withCapacity(4*this.ins.length),this.ins.forEach((t=>e.writeUInt32(t.sequence))),_=o.sha256(e.end())}if(g||y){if(y&&e<this.outs.length){const t=this.outs[e],r=i.BufferWriter.withCapacity(8+f(t.script));r.writeUInt64(t.value),r.writeVarSlice(t.script),S=o.sha256(r.end())}}else{const e=this.outs.map((e=>8+f(e.script))).reduce(((e,t)=>e+t)),t=i.BufferWriter.withCapacity(e);this.outs.forEach((e=>{t.writeUInt64(e.value),t.writeVarSlice(e.script)})),S=o.sha256(t.end())}const E=(a?2:0)+(h?1:0),A=174-(p?49:0)-(g?32:0)+(h?32:0)+(a?37:0),x=i.BufferWriter.withCapacity(A);if(x.writeUInt8(s),x.writeInt32(this.version),x.writeUInt32(this.locktime),x.writeSlice(b),x.writeSlice(w),x.writeSlice(v),x.writeSlice(_),g||y||x.writeSlice(S),x.writeUInt8(E),p){const n=this.ins[e];x.writeSlice(n.hash),x.writeUInt32(n.index),x.writeUInt64(r[e]),x.writeVarSlice(t[e]),x.writeUInt32(n.sequence)}else x.writeUInt32(e);if(h){const e=i.BufferWriter.withCapacity(f(h));e.writeVarSlice(h),x.writeSlice(o.sha256(e.end()))}return y&&x.writeSlice(S),a&&(x.writeSlice(a),x.writeUInt8(0),x.writeUInt32(4294967295)),o.taggedHash("TapSighash",n.concat([n.from([0]),x.end()]))}hashForWitnessV0(e,t,r,s){c(u.tuple(u.UInt32,u.Buffer,u.Satoshi,u.UInt32),arguments);let a,l=n.from([]),h=d,p=d,g=d;if(s&m.SIGHASH_ANYONECANPAY||(l=n.allocUnsafe(36*this.ins.length),a=new i.BufferWriter(l,0),this.ins.forEach((e=>{a.writeSlice(e.hash),a.writeUInt32(e.index)})),p=o.hash256(l)),s&m.SIGHASH_ANYONECANPAY||(31&s)===m.SIGHASH_SINGLE||(31&s)===m.SIGHASH_NONE||(l=n.allocUnsafe(4*this.ins.length),a=new i.BufferWriter(l,0),this.ins.forEach((e=>{a.writeUInt32(e.sequence)})),g=o.hash256(l)),(31&s)!==m.SIGHASH_SINGLE&&(31&s)!==m.SIGHASH_NONE){const e=this.outs.reduce(((e,t)=>e+8+f(t.script)),0);l=n.allocUnsafe(e),a=new i.BufferWriter(l,0),this.outs.forEach((e=>{a.writeUInt64(e.value),a.writeVarSlice(e.script)})),h=o.hash256(l)}else if((31&s)===m.SIGHASH_SINGLE&&e<this.outs.length){const t=this.outs[e];l=n.allocUnsafe(8+f(t.script)),a=new i.BufferWriter(l,0),a.writeUInt64(t.value),a.writeVarSlice(t.script),h=o.hash256(l)}l=n.allocUnsafe(156+f(t)),a=new i.BufferWriter(l,0);const y=this.ins[e];return a.writeInt32(this.version),a.writeSlice(p),a.writeSlice(g),a.writeSlice(y.hash),a.writeUInt32(y.index),a.writeVarSlice(t),a.writeUInt64(r),a.writeUInt32(y.sequence),a.writeSlice(h),a.writeUInt32(this.locktime),a.writeUInt32(s),o.hash256(l)}getHash(e){return e&&this.isCoinbase()?n.alloc(32,0):o.hash256(this.__toBuffer(void 0,void 0,e))}getId(){return(0,i.reverseBuffer)(this.getHash(!1)).toString("hex")}toBuffer(e,t){return this.__toBuffer(e,t,!0)}toHex(){return this.toBuffer(void 0,void 0).toString("hex")}setInputScript(e,t){c(u.tuple(u.Number,u.Buffer),arguments),this.ins[e].script=t}setWitness(e,t){c(u.tuple(u.Number,[u.Buffer]),arguments),this.ins[e].witness=t}__toBuffer(e,t,r=!1){e||(e=n.allocUnsafe(this.byteLength(r)));const o=new i.BufferWriter(e,t||0);o.writeInt32(this.version);const s=r&&this.hasWitnesses();return s&&(o.writeUInt8(m.ADVANCED_TRANSACTION_MARKER),o.writeUInt8(m.ADVANCED_TRANSACTION_FLAG)),o.writeVarInt(this.ins.length),this.ins.forEach((e=>{o.writeSlice(e.hash),o.writeUInt32(e.index),o.writeVarSlice(e.script),o.writeUInt32(e.sequence)})),o.writeVarInt(this.outs.length),this.outs.forEach((e=>{void 0!==e.value?o.writeUInt64(e.value):o.writeSlice(e.valueBuffer),o.writeVarSlice(e.script)})),s&&this.ins.forEach((e=>{o.writeVector(e.witness)})),o.writeUInt32(this.locktime),void 0!==t?e.slice(t,o.offset):e}}t.Transaction=m,m.DEFAULT_SEQUENCE=4294967295,m.SIGHASH_DEFAULT=0,m.SIGHASH_ALL=1,m.SIGHASH_NONE=2,m.SIGHASH_SINGLE=3,m.SIGHASH_ANYONECANPAY=128,m.SIGHASH_OUTPUT_MASK=3,m.SIGHASH_INPUT_MASK=128,m.ADVANCED_TRANSACTION_MARKER=0,m.ADVANCED_TRANSACTION_FLAG=1},zi0B:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.oneOf=t.Null=t.BufferN=t.Function=t.UInt32=t.UInt8=t.tuple=t.maybe=t.Hex=t.Buffer=t.String=t.Boolean=t.Array=t.Number=t.Hash256bit=t.Hash160bit=t.Buffer256bit=t.isTaptree=t.isTapleaf=t.TAPLEAF_VERSION_MASK=t.Network=t.ECPoint=t.Satoshi=t.Signer=t.BIP32Path=t.UInt31=t.isPoint=t.typeforce=void 0;const n=r("Dp+g");t.typeforce=r("MAwK");const i=n.Buffer.alloc(32,0),o=n.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex");t.isPoint=function(e){if(!n.Buffer.isBuffer(e))return!1;if(e.length<33)return!1;const t=e[0],r=e.slice(1,33);if(0===r.compare(i))return!1;if(r.compare(o)>=0)return!1;if((2===t||3===t)&&33===e.length)return!0;const s=e.slice(33);return 0!==s.compare(i)&&(!(s.compare(o)>=0)&&(4===t&&65===e.length))};const s=Math.pow(2,31)-1;function a(e){return t.typeforce.String(e)&&!!e.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}t.UInt31=function(e){return t.typeforce.UInt32(e)&&e<=s},t.BIP32Path=a,a.toJSON=()=>"BIP32 derivation path",t.Signer=function(e){return(t.typeforce.Buffer(e.publicKey)||"function"===typeof e.getPublicKey)&&"function"===typeof e.sign};function u(e){return!(!e||!("output"in e))&&(!!n.Buffer.isBuffer(e.output)&&(void 0===e.version||(e.version&t.TAPLEAF_VERSION_MASK)===e.version))}t.Satoshi=function(e){return t.typeforce.UInt53(e)&&e<=21e14},t.ECPoint=t.typeforce.quacksLike("Point"),t.Network=t.typeforce.compile({messagePrefix:t.typeforce.oneOf(t.typeforce.Buffer,t.typeforce.String),bip32:{public:t.typeforce.UInt32,private:t.typeforce.UInt32},pubKeyHash:t.typeforce.UInt8,scriptHash:t.typeforce.UInt8,wif:t.typeforce.UInt8}),t.TAPLEAF_VERSION_MASK=254,t.isTapleaf=u,t.isTaptree=function e(r){return(0,t.Array)(r)?2===r.length&&r.every((t=>e(t))):u(r)},t.Buffer256bit=t.typeforce.BufferN(32),t.Hash160bit=t.typeforce.BufferN(20),t.Hash256bit=t.typeforce.BufferN(32),t.Number=t.typeforce.Number,t.Array=t.typeforce.Array,t.Boolean=t.typeforce.Boolean,t.String=t.typeforce.String,t.Buffer=t.typeforce.Buffer,t.Hex=t.typeforce.Hex,t.maybe=t.typeforce.maybe,t.tuple=t.typeforce.tuple,t.UInt8=t.typeforce.UInt8,t.UInt32=t.typeforce.UInt32,t.Function=t.typeforce.Function,t.BufferN=t.typeforce.BufferN,t.Null=t.typeforce.Null,t.oneOf=t.typeforce.oneOf},kFT3:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"===typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!==typeof window.Buffer?window.Buffer:r("BZVK").Buffer}catch(x){}function a(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function c(e,t,r,n){for(var i=0,o=Math.min(e.length,r),s=t;s<o;s++){var a=e.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(e){return e instanceof o||null!==e&&"object"===typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"===typeof e)return this._initNumber(e,t,r);if("object"===typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=u(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(e.length-t)%2===0?t+1:t;n<e.length;n+=2)i=u(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,f=r;f<a;f+=n)u=c(e,f,f+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var l=1;for(u=c(e,f,e.length,t),f=0;f<s;f++)l*=t;this.imuln(l),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var f=u>>>26,l=67108863&u,h=Math.min(c,t.length-1),d=Math.max(0,c-e.length+1);d<=h;d++){var p=c-d|0;f+=(s=(i=0|e.words[p])*(o=0|t.words[d])+l)/67108864|0,l=67108863&s}r.words[c]=0|l,u=0|f}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);r=0!==(o=a>>>24-i&16777215)||s!==this.length-1?f[6-u.length]+u+r:u+r,(i+=2)>=26&&(i-=26,s--)}for(0!==o&&(r=o.toString(16)+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=l[e],d=h[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modn(d).toString(e);r=(p=p.idivn(d)).isZero()?g+r:f[c-g.length]+g+r}for(this.isZero()&&(r="0"+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return n("undefined"!==typeof s),this.toArrayLike(s,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var s,a,u="le"===t,c=new e(o),f=this.clone();if(u){for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),c[a]=s;for(;a<o;a++)c[a]=0}else{for(a=0;a<o-i;a++)c[a]=0;for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),c[o-a-1]=s}return c},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0===(8191&t)&&(r+=13,t>>>=13),0===(127&t)&&(r+=7,t>>>=7),0===(15&t)&&(r+=4,t>>>=4),0===(3&t)&&(r+=2,t>>>=2),0===(1&t)&&r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return n(0===(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return n(0===(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return n(0===(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"===typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var n,i,o,s=e.words,a=t.words,u=r.words,c=0,f=0|s[0],l=8191&f,h=f>>>13,d=0|s[1],p=8191&d,g=d>>>13,y=0|s[2],m=8191&y,b=y>>>13,w=0|s[3],v=8191&w,_=w>>>13,S=0|s[4],E=8191&S,A=S>>>13,x=0|s[5],k=8191&x,T=x>>>13,I=0|s[6],M=8191&I,P=I>>>13,B=0|s[7],O=8191&B,C=B>>>13,U=0|s[8],N=8191&U,R=U>>>13,L=0|s[9],z=8191&L,j=L>>>13,D=0|a[0],q=8191&D,K=D>>>13,H=0|a[1],F=8191&H,W=H>>>13,$=0|a[2],V=8191&$,G=$>>>13,Z=0|a[3],J=8191&Z,X=Z>>>13,Y=0|a[4],Q=8191&Y,ee=Y>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ue=8191&ae,ce=ae>>>13,fe=0|a[8],le=8191&fe,he=fe>>>13,de=0|a[9],pe=8191&de,ge=de>>>13;r.negative=e.negative^t.negative,r.length=19;var ye=(c+(n=Math.imul(l,q))|0)+((8191&(i=(i=Math.imul(l,K))+Math.imul(h,q)|0))<<13)|0;c=((o=Math.imul(h,K))+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(p,q),i=(i=Math.imul(p,K))+Math.imul(g,q)|0,o=Math.imul(g,K);var me=(c+(n=n+Math.imul(l,F)|0)|0)+((8191&(i=(i=i+Math.imul(l,W)|0)+Math.imul(h,F)|0))<<13)|0;c=((o=o+Math.imul(h,W)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(m,q),i=(i=Math.imul(m,K))+Math.imul(b,q)|0,o=Math.imul(b,K),n=n+Math.imul(p,F)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(g,F)|0,o=o+Math.imul(g,W)|0;var be=(c+(n=n+Math.imul(l,V)|0)|0)+((8191&(i=(i=i+Math.imul(l,G)|0)+Math.imul(h,V)|0))<<13)|0;c=((o=o+Math.imul(h,G)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(v,q),i=(i=Math.imul(v,K))+Math.imul(_,q)|0,o=Math.imul(_,K),n=n+Math.imul(m,F)|0,i=(i=i+Math.imul(m,W)|0)+Math.imul(b,F)|0,o=o+Math.imul(b,W)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(g,V)|0,o=o+Math.imul(g,G)|0;var we=(c+(n=n+Math.imul(l,J)|0)|0)+((8191&(i=(i=i+Math.imul(l,X)|0)+Math.imul(h,J)|0))<<13)|0;c=((o=o+Math.imul(h,X)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(E,q),i=(i=Math.imul(E,K))+Math.imul(A,q)|0,o=Math.imul(A,K),n=n+Math.imul(v,F)|0,i=(i=i+Math.imul(v,W)|0)+Math.imul(_,F)|0,o=o+Math.imul(_,W)|0,n=n+Math.imul(m,V)|0,i=(i=i+Math.imul(m,G)|0)+Math.imul(b,V)|0,o=o+Math.imul(b,G)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(g,J)|0,o=o+Math.imul(g,X)|0;var ve=(c+(n=n+Math.imul(l,Q)|0)|0)+((8191&(i=(i=i+Math.imul(l,ee)|0)+Math.imul(h,Q)|0))<<13)|0;c=((o=o+Math.imul(h,ee)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(k,q),i=(i=Math.imul(k,K))+Math.imul(T,q)|0,o=Math.imul(T,K),n=n+Math.imul(E,F)|0,i=(i=i+Math.imul(E,W)|0)+Math.imul(A,F)|0,o=o+Math.imul(A,W)|0,n=n+Math.imul(v,V)|0,i=(i=i+Math.imul(v,G)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,G)|0,n=n+Math.imul(m,J)|0,i=(i=i+Math.imul(m,X)|0)+Math.imul(b,J)|0,o=o+Math.imul(b,X)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,ee)|0;var _e=(c+(n=n+Math.imul(l,re)|0)|0)+((8191&(i=(i=i+Math.imul(l,ne)|0)+Math.imul(h,re)|0))<<13)|0;c=((o=o+Math.imul(h,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(M,q),i=(i=Math.imul(M,K))+Math.imul(P,q)|0,o=Math.imul(P,K),n=n+Math.imul(k,F)|0,i=(i=i+Math.imul(k,W)|0)+Math.imul(T,F)|0,o=o+Math.imul(T,W)|0,n=n+Math.imul(E,V)|0,i=(i=i+Math.imul(E,G)|0)+Math.imul(A,V)|0,o=o+Math.imul(A,G)|0,n=n+Math.imul(v,J)|0,i=(i=i+Math.imul(v,X)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,X)|0,n=n+Math.imul(m,Q)|0,i=(i=i+Math.imul(m,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(g,re)|0,o=o+Math.imul(g,ne)|0;var Se=(c+(n=n+Math.imul(l,oe)|0)|0)+((8191&(i=(i=i+Math.imul(l,se)|0)+Math.imul(h,oe)|0))<<13)|0;c=((o=o+Math.imul(h,se)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(O,q),i=(i=Math.imul(O,K))+Math.imul(C,q)|0,o=Math.imul(C,K),n=n+Math.imul(M,F)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(P,F)|0,o=o+Math.imul(P,W)|0,n=n+Math.imul(k,V)|0,i=(i=i+Math.imul(k,G)|0)+Math.imul(T,V)|0,o=o+Math.imul(T,G)|0,n=n+Math.imul(E,J)|0,i=(i=i+Math.imul(E,X)|0)+Math.imul(A,J)|0,o=o+Math.imul(A,X)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(m,re)|0,i=(i=i+Math.imul(m,ne)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(g,oe)|0,o=o+Math.imul(g,se)|0;var Ee=(c+(n=n+Math.imul(l,ue)|0)|0)+((8191&(i=(i=i+Math.imul(l,ce)|0)+Math.imul(h,ue)|0))<<13)|0;c=((o=o+Math.imul(h,ce)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(N,q),i=(i=Math.imul(N,K))+Math.imul(R,q)|0,o=Math.imul(R,K),n=n+Math.imul(O,F)|0,i=(i=i+Math.imul(O,W)|0)+Math.imul(C,F)|0,o=o+Math.imul(C,W)|0,n=n+Math.imul(M,V)|0,i=(i=i+Math.imul(M,G)|0)+Math.imul(P,V)|0,o=o+Math.imul(P,G)|0,n=n+Math.imul(k,J)|0,i=(i=i+Math.imul(k,X)|0)+Math.imul(T,J)|0,o=o+Math.imul(T,X)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ne)|0,n=n+Math.imul(m,oe)|0,i=(i=i+Math.imul(m,se)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,se)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(g,ue)|0,o=o+Math.imul(g,ce)|0;var Ae=(c+(n=n+Math.imul(l,le)|0)|0)+((8191&(i=(i=i+Math.imul(l,he)|0)+Math.imul(h,le)|0))<<13)|0;c=((o=o+Math.imul(h,he)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(z,q),i=(i=Math.imul(z,K))+Math.imul(j,q)|0,o=Math.imul(j,K),n=n+Math.imul(N,F)|0,i=(i=i+Math.imul(N,W)|0)+Math.imul(R,F)|0,o=o+Math.imul(R,W)|0,n=n+Math.imul(O,V)|0,i=(i=i+Math.imul(O,G)|0)+Math.imul(C,V)|0,o=o+Math.imul(C,G)|0,n=n+Math.imul(M,J)|0,i=(i=i+Math.imul(M,X)|0)+Math.imul(P,J)|0,o=o+Math.imul(P,X)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(A,re)|0,o=o+Math.imul(A,ne)|0,n=n+Math.imul(v,oe)|0,i=(i=i+Math.imul(v,se)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,se)|0,n=n+Math.imul(m,ue)|0,i=(i=i+Math.imul(m,ce)|0)+Math.imul(b,ue)|0,o=o+Math.imul(b,ce)|0,n=n+Math.imul(p,le)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(g,le)|0,o=o+Math.imul(g,he)|0;var xe=(c+(n=n+Math.imul(l,pe)|0)|0)+((8191&(i=(i=i+Math.imul(l,ge)|0)+Math.imul(h,pe)|0))<<13)|0;c=((o=o+Math.imul(h,ge)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(z,F),i=(i=Math.imul(z,W))+Math.imul(j,F)|0,o=Math.imul(j,W),n=n+Math.imul(N,V)|0,i=(i=i+Math.imul(N,G)|0)+Math.imul(R,V)|0,o=o+Math.imul(R,G)|0,n=n+Math.imul(O,J)|0,i=(i=i+Math.imul(O,X)|0)+Math.imul(C,J)|0,o=o+Math.imul(C,X)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,ee)|0,n=n+Math.imul(k,re)|0,i=(i=i+Math.imul(k,ne)|0)+Math.imul(T,re)|0,o=o+Math.imul(T,ne)|0,n=n+Math.imul(E,oe)|0,i=(i=i+Math.imul(E,se)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,se)|0,n=n+Math.imul(v,ue)|0,i=(i=i+Math.imul(v,ce)|0)+Math.imul(_,ue)|0,o=o+Math.imul(_,ce)|0,n=n+Math.imul(m,le)|0,i=(i=i+Math.imul(m,he)|0)+Math.imul(b,le)|0,o=o+Math.imul(b,he)|0;var ke=(c+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ge)|0)+Math.imul(g,pe)|0))<<13)|0;c=((o=o+Math.imul(g,ge)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(z,V),i=(i=Math.imul(z,G))+Math.imul(j,V)|0,o=Math.imul(j,G),n=n+Math.imul(N,J)|0,i=(i=i+Math.imul(N,X)|0)+Math.imul(R,J)|0,o=o+Math.imul(R,X)|0,n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(P,re)|0,o=o+Math.imul(P,ne)|0,n=n+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,se)|0)+Math.imul(T,oe)|0,o=o+Math.imul(T,se)|0,n=n+Math.imul(E,ue)|0,i=(i=i+Math.imul(E,ce)|0)+Math.imul(A,ue)|0,o=o+Math.imul(A,ce)|0,n=n+Math.imul(v,le)|0,i=(i=i+Math.imul(v,he)|0)+Math.imul(_,le)|0,o=o+Math.imul(_,he)|0;var Te=(c+(n=n+Math.imul(m,pe)|0)|0)+((8191&(i=(i=i+Math.imul(m,ge)|0)+Math.imul(b,pe)|0))<<13)|0;c=((o=o+Math.imul(b,ge)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(z,J),i=(i=Math.imul(z,X))+Math.imul(j,J)|0,o=Math.imul(j,X),n=n+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,ee)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,ee)|0,n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(C,re)|0,o=o+Math.imul(C,ne)|0,n=n+Math.imul(M,oe)|0,i=(i=i+Math.imul(M,se)|0)+Math.imul(P,oe)|0,o=o+Math.imul(P,se)|0,n=n+Math.imul(k,ue)|0,i=(i=i+Math.imul(k,ce)|0)+Math.imul(T,ue)|0,o=o+Math.imul(T,ce)|0,n=n+Math.imul(E,le)|0,i=(i=i+Math.imul(E,he)|0)+Math.imul(A,le)|0,o=o+Math.imul(A,he)|0;var Ie=(c+(n=n+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,ge)|0)+Math.imul(_,pe)|0))<<13)|0;c=((o=o+Math.imul(_,ge)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(z,Q),i=(i=Math.imul(z,ee))+Math.imul(j,Q)|0,o=Math.imul(j,ee),n=n+Math.imul(N,re)|0,i=(i=i+Math.imul(N,ne)|0)+Math.imul(R,re)|0,o=o+Math.imul(R,ne)|0,n=n+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,se)|0)+Math.imul(C,oe)|0,o=o+Math.imul(C,se)|0,n=n+Math.imul(M,ue)|0,i=(i=i+Math.imul(M,ce)|0)+Math.imul(P,ue)|0,o=o+Math.imul(P,ce)|0,n=n+Math.imul(k,le)|0,i=(i=i+Math.imul(k,he)|0)+Math.imul(T,le)|0,o=o+Math.imul(T,he)|0;var Me=(c+(n=n+Math.imul(E,pe)|0)|0)+((8191&(i=(i=i+Math.imul(E,ge)|0)+Math.imul(A,pe)|0))<<13)|0;c=((o=o+Math.imul(A,ge)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(z,re),i=(i=Math.imul(z,ne))+Math.imul(j,re)|0,o=Math.imul(j,ne),n=n+Math.imul(N,oe)|0,i=(i=i+Math.imul(N,se)|0)+Math.imul(R,oe)|0,o=o+Math.imul(R,se)|0,n=n+Math.imul(O,ue)|0,i=(i=i+Math.imul(O,ce)|0)+Math.imul(C,ue)|0,o=o+Math.imul(C,ce)|0,n=n+Math.imul(M,le)|0,i=(i=i+Math.imul(M,he)|0)+Math.imul(P,le)|0,o=o+Math.imul(P,he)|0;var Pe=(c+(n=n+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,ge)|0)+Math.imul(T,pe)|0))<<13)|0;c=((o=o+Math.imul(T,ge)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(z,oe),i=(i=Math.imul(z,se))+Math.imul(j,oe)|0,o=Math.imul(j,se),n=n+Math.imul(N,ue)|0,i=(i=i+Math.imul(N,ce)|0)+Math.imul(R,ue)|0,o=o+Math.imul(R,ce)|0,n=n+Math.imul(O,le)|0,i=(i=i+Math.imul(O,he)|0)+Math.imul(C,le)|0,o=o+Math.imul(C,he)|0;var Be=(c+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,ge)|0)+Math.imul(P,pe)|0))<<13)|0;c=((o=o+Math.imul(P,ge)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863,n=Math.imul(z,ue),i=(i=Math.imul(z,ce))+Math.imul(j,ue)|0,o=Math.imul(j,ce),n=n+Math.imul(N,le)|0,i=(i=i+Math.imul(N,he)|0)+Math.imul(R,le)|0,o=o+Math.imul(R,he)|0;var Oe=(c+(n=n+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,ge)|0)+Math.imul(C,pe)|0))<<13)|0;c=((o=o+Math.imul(C,ge)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(z,le),i=(i=Math.imul(z,he))+Math.imul(j,le)|0,o=Math.imul(j,he);var Ce=(c+(n=n+Math.imul(N,pe)|0)|0)+((8191&(i=(i=i+Math.imul(N,ge)|0)+Math.imul(R,pe)|0))<<13)|0;c=((o=o+Math.imul(R,ge)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863;var Ue=(c+(n=Math.imul(z,pe))|0)+((8191&(i=(i=Math.imul(z,ge))+Math.imul(j,pe)|0))<<13)|0;return c=((o=Math.imul(j,ge))+(i>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,u[0]=ye,u[1]=me,u[2]=be,u[3]=we,u[4]=ve,u[5]=_e,u[6]=Se,u[7]=Ee,u[8]=Ae,u[9]=xe,u[10]=ke,u[11]=Te,u[12]=Ie,u[13]=Me,u[14]=Pe,u[15]=Be,u[16]=Oe,u[17]=Ce,u[18]=Ue,0!==c&&(u[19]=c,r.length++),r};function g(e,t,r){return(new y).mulp(e,t,r)}function y(e,t){this.x=e,this.y=t}Math.imul||(p=d),o.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?p(this,e,t):n<63?d(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=u;c++){var f=o-c,l=(0|e.words[f])*(0|t.words[c]),h=67108863&l;a=67108863&(h=h+a|0),i+=(s=(s=s+(l/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):g(this,e,t),r},y.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},y.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},y.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},y.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),f=0;f<i;f+=a)for(var l=u,h=c,d=0;d<s;d++){var p=r[f+d],g=n[f+d],y=r[f+d+s],m=n[f+d+s],b=l*y-h*m;m=l*m+h*y,y=b,r[f+d]=p+y,n[f+d]=g+m,r[f+d+s]=p-y,n[f+d+s]=g-m,d!==a&&(b=u*l-c*h,h=u*h+c*l,l=b)}},y.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},y.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},y.prototype.convert13b=function(e,t,r,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)r[s]=0;n(0===o),n(0===(-8192&o))},y.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},y.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),f=new Array(n),l=new Array(n),h=r.words;h.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,c,n),this.transform(s,o,a,u,n,i),this.transform(c,o,f,l,n,i);for(var d=0;d<n;d++){var p=a[d]*f[d]-u[d]*l[d];u[d]=a[d]*l[d]+u[d]*f[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,h,o,n,i),this.conjugate(h,o,n),this.normalize13b(h,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),g(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){n("number"===typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[r]=67108863&o}return 0!==t&&(this.words[r]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"===typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,u=(0|this.words[t])-a<<r;this.words[t]=u|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"===typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=i);c--){var l=0|this.words[c];this.words[c]=f<<26-o|l>>>o,f=l&a}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"===typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"===typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,s=e.length+r;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+a;var u=(0|e.words[i])*t;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==t){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var f=n.clone()._ishlnsubmul(i,1,u);0===f.negative&&(n=f,a&&(a.words[u]=1));for(var l=u-1;l>=0;l--){var h=67108864*(0|n.words[i.length+l])+(0|n.words[i.length+l-1]);for(h=Math.min(h/s|0,67108863),n._ishlnsubmul(i,h,l);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(i,1,l),n.isZero()||(n.negative^=1);a&&(a.words[l]=h)}return a&&a.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},o.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),c=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++c;for(var f=r.clone(),l=t.clone();!t.isZero();){for(var h=0,d=1;0===(t.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(f),s.isub(l)),i.iushrn(1),s.iushrn(1);for(var p=0,g=1;0===(r.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(f),u.isub(l)),a.iushrn(1),u.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),s.isub(u)):(r.isub(t),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:r.iushln(c)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,f=1;0===(t.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(t.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var l=0,h=1;0===(r.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(r.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(i=0===t.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"===typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new E(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"===typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function A(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},i(w,b),w.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},w.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(v,b),i(_,b),i(S,b),S.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new w;else if("p224"===e)t=new v;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new S}return m[e]=t,t},E.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){n(0===(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2===1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,c).cmp(u);)f.redIAdd(u);for(var l=this.pow(f,i),h=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),p=s;0!==d.cmp(a);){for(var g=d,y=0;0!==g.cmp(a);y++)g=g.redSqr();n(y<p);var m=this.pow(l,new o(1).iushln(p-y-1));h=h.redMul(m),l=m.redSqr(),d=d.redMul(l),p=y}return h},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],s=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],f=u-1;f>=0;f--){var l=c>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==l||0!==s?(s<<=1,s|=l,(4===++a||0===n&&0===f)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new A(e)},i(A,E),A.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},A.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},A.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},A.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},A.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},ych1:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"===typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!==typeof window.Buffer?window.Buffer:r("k0SL").Buffer}catch(x){}function a(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function u(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function c(e,t,r,n){for(var i=0,o=Math.min(e.length,r),s=t;s<o;s++){var a=e.charCodeAt(s)-48;i*=n,i+=a>=49?a-49+10:a>=17?a-17+10:a}return i}o.isBN=function(e){return e instanceof o||null!==e&&"object"===typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"===typeof e)return this._initNumber(e,t,r);if("object"===typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=u(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(e.length-t)%2===0?t+1:t;n<e.length;n+=2)i=u(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this.strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,f=r;f<a;f+=n)u=c(e,f,f+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var l=1;for(u=c(e,f,e.length,t),f=0;f<s;f++)l*=t;this.imuln(l),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var f=u>>>26,l=67108863&u,h=Math.min(c,t.length-1),d=Math.max(0,c-e.length+1);d<=h;d++){var p=c-d|0;f+=(s=(i=0|e.words[p])*(o=0|t.words[d])+l)/67108864|0,l=67108863&s}r.words[c]=0|l,u=0|f}return 0!==u?r.words[c]=0|u:r.length--,r.strip()}o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?f[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=l[e],d=h[e];r="";var p=this.clone();for(p.negative=0;!p.isZero();){var g=p.modn(d).toString(e);r=(p=p.idivn(d)).isZero()?g+r:f[c-g.length]+g+r}for(this.isZero()&&(r="0"+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return n("undefined"!==typeof s),this.toArrayLike(s,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,r){var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0"),this.strip();var s,a,u="le"===t,c=new e(o),f=this.clone();if(u){for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),c[a]=s;for(;a<o;a++)c[a]=0}else{for(a=0;a<o-i;a++)c[a]=0;for(a=0;!f.isZero();a++)s=f.andln(255),f.iushrn(8),c[o-a-1]=s}return c},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0===(8191&t)&&(r+=13,t>>>=13),0===(127&t)&&(r+=7,t>>>=7),0===(15&t)&&(r+=4,t>>>=4),0===(3&t)&&(r+=2,t>>>=2),0===(1&t)&&r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return n(0===(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return n(0===(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return n(0===(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"===typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this.strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var p=function(e,t,r){var n,i,o,s=e.words,a=t.words,u=r.words,c=0,f=0|s[0],l=8191&f,h=f>>>13,d=0|s[1],p=8191&d,g=d>>>13,y=0|s[2],m=8191&y,b=y>>>13,w=0|s[3],v=8191&w,_=w>>>13,S=0|s[4],E=8191&S,A=S>>>13,x=0|s[5],k=8191&x,T=x>>>13,I=0|s[6],M=8191&I,P=I>>>13,B=0|s[7],O=8191&B,C=B>>>13,U=0|s[8],N=8191&U,R=U>>>13,L=0|s[9],z=8191&L,j=L>>>13,D=0|a[0],q=8191&D,K=D>>>13,H=0|a[1],F=8191&H,W=H>>>13,$=0|a[2],V=8191&$,G=$>>>13,Z=0|a[3],J=8191&Z,X=Z>>>13,Y=0|a[4],Q=8191&Y,ee=Y>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ue=8191&ae,ce=ae>>>13,fe=0|a[8],le=8191&fe,he=fe>>>13,de=0|a[9],pe=8191&de,ge=de>>>13;r.negative=e.negative^t.negative,r.length=19;var ye=(c+(n=Math.imul(l,q))|0)+((8191&(i=(i=Math.imul(l,K))+Math.imul(h,q)|0))<<13)|0;c=((o=Math.imul(h,K))+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(p,q),i=(i=Math.imul(p,K))+Math.imul(g,q)|0,o=Math.imul(g,K);var me=(c+(n=n+Math.imul(l,F)|0)|0)+((8191&(i=(i=i+Math.imul(l,W)|0)+Math.imul(h,F)|0))<<13)|0;c=((o=o+Math.imul(h,W)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(m,q),i=(i=Math.imul(m,K))+Math.imul(b,q)|0,o=Math.imul(b,K),n=n+Math.imul(p,F)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(g,F)|0,o=o+Math.imul(g,W)|0;var be=(c+(n=n+Math.imul(l,V)|0)|0)+((8191&(i=(i=i+Math.imul(l,G)|0)+Math.imul(h,V)|0))<<13)|0;c=((o=o+Math.imul(h,G)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(v,q),i=(i=Math.imul(v,K))+Math.imul(_,q)|0,o=Math.imul(_,K),n=n+Math.imul(m,F)|0,i=(i=i+Math.imul(m,W)|0)+Math.imul(b,F)|0,o=o+Math.imul(b,W)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(g,V)|0,o=o+Math.imul(g,G)|0;var we=(c+(n=n+Math.imul(l,J)|0)|0)+((8191&(i=(i=i+Math.imul(l,X)|0)+Math.imul(h,J)|0))<<13)|0;c=((o=o+Math.imul(h,X)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(E,q),i=(i=Math.imul(E,K))+Math.imul(A,q)|0,o=Math.imul(A,K),n=n+Math.imul(v,F)|0,i=(i=i+Math.imul(v,W)|0)+Math.imul(_,F)|0,o=o+Math.imul(_,W)|0,n=n+Math.imul(m,V)|0,i=(i=i+Math.imul(m,G)|0)+Math.imul(b,V)|0,o=o+Math.imul(b,G)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(g,J)|0,o=o+Math.imul(g,X)|0;var ve=(c+(n=n+Math.imul(l,Q)|0)|0)+((8191&(i=(i=i+Math.imul(l,ee)|0)+Math.imul(h,Q)|0))<<13)|0;c=((o=o+Math.imul(h,ee)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(k,q),i=(i=Math.imul(k,K))+Math.imul(T,q)|0,o=Math.imul(T,K),n=n+Math.imul(E,F)|0,i=(i=i+Math.imul(E,W)|0)+Math.imul(A,F)|0,o=o+Math.imul(A,W)|0,n=n+Math.imul(v,V)|0,i=(i=i+Math.imul(v,G)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,G)|0,n=n+Math.imul(m,J)|0,i=(i=i+Math.imul(m,X)|0)+Math.imul(b,J)|0,o=o+Math.imul(b,X)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,ee)|0;var _e=(c+(n=n+Math.imul(l,re)|0)|0)+((8191&(i=(i=i+Math.imul(l,ne)|0)+Math.imul(h,re)|0))<<13)|0;c=((o=o+Math.imul(h,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(M,q),i=(i=Math.imul(M,K))+Math.imul(P,q)|0,o=Math.imul(P,K),n=n+Math.imul(k,F)|0,i=(i=i+Math.imul(k,W)|0)+Math.imul(T,F)|0,o=o+Math.imul(T,W)|0,n=n+Math.imul(E,V)|0,i=(i=i+Math.imul(E,G)|0)+Math.imul(A,V)|0,o=o+Math.imul(A,G)|0,n=n+Math.imul(v,J)|0,i=(i=i+Math.imul(v,X)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,X)|0,n=n+Math.imul(m,Q)|0,i=(i=i+Math.imul(m,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(g,re)|0,o=o+Math.imul(g,ne)|0;var Se=(c+(n=n+Math.imul(l,oe)|0)|0)+((8191&(i=(i=i+Math.imul(l,se)|0)+Math.imul(h,oe)|0))<<13)|0;c=((o=o+Math.imul(h,se)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(O,q),i=(i=Math.imul(O,K))+Math.imul(C,q)|0,o=Math.imul(C,K),n=n+Math.imul(M,F)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(P,F)|0,o=o+Math.imul(P,W)|0,n=n+Math.imul(k,V)|0,i=(i=i+Math.imul(k,G)|0)+Math.imul(T,V)|0,o=o+Math.imul(T,G)|0,n=n+Math.imul(E,J)|0,i=(i=i+Math.imul(E,X)|0)+Math.imul(A,J)|0,o=o+Math.imul(A,X)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(m,re)|0,i=(i=i+Math.imul(m,ne)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(g,oe)|0,o=o+Math.imul(g,se)|0;var Ee=(c+(n=n+Math.imul(l,ue)|0)|0)+((8191&(i=(i=i+Math.imul(l,ce)|0)+Math.imul(h,ue)|0))<<13)|0;c=((o=o+Math.imul(h,ce)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(N,q),i=(i=Math.imul(N,K))+Math.imul(R,q)|0,o=Math.imul(R,K),n=n+Math.imul(O,F)|0,i=(i=i+Math.imul(O,W)|0)+Math.imul(C,F)|0,o=o+Math.imul(C,W)|0,n=n+Math.imul(M,V)|0,i=(i=i+Math.imul(M,G)|0)+Math.imul(P,V)|0,o=o+Math.imul(P,G)|0,n=n+Math.imul(k,J)|0,i=(i=i+Math.imul(k,X)|0)+Math.imul(T,J)|0,o=o+Math.imul(T,X)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ne)|0,n=n+Math.imul(m,oe)|0,i=(i=i+Math.imul(m,se)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,se)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(g,ue)|0,o=o+Math.imul(g,ce)|0;var Ae=(c+(n=n+Math.imul(l,le)|0)|0)+((8191&(i=(i=i+Math.imul(l,he)|0)+Math.imul(h,le)|0))<<13)|0;c=((o=o+Math.imul(h,he)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(z,q),i=(i=Math.imul(z,K))+Math.imul(j,q)|0,o=Math.imul(j,K),n=n+Math.imul(N,F)|0,i=(i=i+Math.imul(N,W)|0)+Math.imul(R,F)|0,o=o+Math.imul(R,W)|0,n=n+Math.imul(O,V)|0,i=(i=i+Math.imul(O,G)|0)+Math.imul(C,V)|0,o=o+Math.imul(C,G)|0,n=n+Math.imul(M,J)|0,i=(i=i+Math.imul(M,X)|0)+Math.imul(P,J)|0,o=o+Math.imul(P,X)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(A,re)|0,o=o+Math.imul(A,ne)|0,n=n+Math.imul(v,oe)|0,i=(i=i+Math.imul(v,se)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,se)|0,n=n+Math.imul(m,ue)|0,i=(i=i+Math.imul(m,ce)|0)+Math.imul(b,ue)|0,o=o+Math.imul(b,ce)|0,n=n+Math.imul(p,le)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(g,le)|0,o=o+Math.imul(g,he)|0;var xe=(c+(n=n+Math.imul(l,pe)|0)|0)+((8191&(i=(i=i+Math.imul(l,ge)|0)+Math.imul(h,pe)|0))<<13)|0;c=((o=o+Math.imul(h,ge)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(z,F),i=(i=Math.imul(z,W))+Math.imul(j,F)|0,o=Math.imul(j,W),n=n+Math.imul(N,V)|0,i=(i=i+Math.imul(N,G)|0)+Math.imul(R,V)|0,o=o+Math.imul(R,G)|0,n=n+Math.imul(O,J)|0,i=(i=i+Math.imul(O,X)|0)+Math.imul(C,J)|0,o=o+Math.imul(C,X)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,ee)|0,n=n+Math.imul(k,re)|0,i=(i=i+Math.imul(k,ne)|0)+Math.imul(T,re)|0,o=o+Math.imul(T,ne)|0,n=n+Math.imul(E,oe)|0,i=(i=i+Math.imul(E,se)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,se)|0,n=n+Math.imul(v,ue)|0,i=(i=i+Math.imul(v,ce)|0)+Math.imul(_,ue)|0,o=o+Math.imul(_,ce)|0,n=n+Math.imul(m,le)|0,i=(i=i+Math.imul(m,he)|0)+Math.imul(b,le)|0,o=o+Math.imul(b,he)|0;var ke=(c+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ge)|0)+Math.imul(g,pe)|0))<<13)|0;c=((o=o+Math.imul(g,ge)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(z,V),i=(i=Math.imul(z,G))+Math.imul(j,V)|0,o=Math.imul(j,G),n=n+Math.imul(N,J)|0,i=(i=i+Math.imul(N,X)|0)+Math.imul(R,J)|0,o=o+Math.imul(R,X)|0,n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(P,re)|0,o=o+Math.imul(P,ne)|0,n=n+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,se)|0)+Math.imul(T,oe)|0,o=o+Math.imul(T,se)|0,n=n+Math.imul(E,ue)|0,i=(i=i+Math.imul(E,ce)|0)+Math.imul(A,ue)|0,o=o+Math.imul(A,ce)|0,n=n+Math.imul(v,le)|0,i=(i=i+Math.imul(v,he)|0)+Math.imul(_,le)|0,o=o+Math.imul(_,he)|0;var Te=(c+(n=n+Math.imul(m,pe)|0)|0)+((8191&(i=(i=i+Math.imul(m,ge)|0)+Math.imul(b,pe)|0))<<13)|0;c=((o=o+Math.imul(b,ge)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(z,J),i=(i=Math.imul(z,X))+Math.imul(j,J)|0,o=Math.imul(j,X),n=n+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,ee)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,ee)|0,n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(C,re)|0,o=o+Math.imul(C,ne)|0,n=n+Math.imul(M,oe)|0,i=(i=i+Math.imul(M,se)|0)+Math.imul(P,oe)|0,o=o+Math.imul(P,se)|0,n=n+Math.imul(k,ue)|0,i=(i=i+Math.imul(k,ce)|0)+Math.imul(T,ue)|0,o=o+Math.imul(T,ce)|0,n=n+Math.imul(E,le)|0,i=(i=i+Math.imul(E,he)|0)+Math.imul(A,le)|0,o=o+Math.imul(A,he)|0;var Ie=(c+(n=n+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,ge)|0)+Math.imul(_,pe)|0))<<13)|0;c=((o=o+Math.imul(_,ge)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(z,Q),i=(i=Math.imul(z,ee))+Math.imul(j,Q)|0,o=Math.imul(j,ee),n=n+Math.imul(N,re)|0,i=(i=i+Math.imul(N,ne)|0)+Math.imul(R,re)|0,o=o+Math.imul(R,ne)|0,n=n+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,se)|0)+Math.imul(C,oe)|0,o=o+Math.imul(C,se)|0,n=n+Math.imul(M,ue)|0,i=(i=i+Math.imul(M,ce)|0)+Math.imul(P,ue)|0,o=o+Math.imul(P,ce)|0,n=n+Math.imul(k,le)|0,i=(i=i+Math.imul(k,he)|0)+Math.imul(T,le)|0,o=o+Math.imul(T,he)|0;var Me=(c+(n=n+Math.imul(E,pe)|0)|0)+((8191&(i=(i=i+Math.imul(E,ge)|0)+Math.imul(A,pe)|0))<<13)|0;c=((o=o+Math.imul(A,ge)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(z,re),i=(i=Math.imul(z,ne))+Math.imul(j,re)|0,o=Math.imul(j,ne),n=n+Math.imul(N,oe)|0,i=(i=i+Math.imul(N,se)|0)+Math.imul(R,oe)|0,o=o+Math.imul(R,se)|0,n=n+Math.imul(O,ue)|0,i=(i=i+Math.imul(O,ce)|0)+Math.imul(C,ue)|0,o=o+Math.imul(C,ce)|0,n=n+Math.imul(M,le)|0,i=(i=i+Math.imul(M,he)|0)+Math.imul(P,le)|0,o=o+Math.imul(P,he)|0;var Pe=(c+(n=n+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,ge)|0)+Math.imul(T,pe)|0))<<13)|0;c=((o=o+Math.imul(T,ge)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(z,oe),i=(i=Math.imul(z,se))+Math.imul(j,oe)|0,o=Math.imul(j,se),n=n+Math.imul(N,ue)|0,i=(i=i+Math.imul(N,ce)|0)+Math.imul(R,ue)|0,o=o+Math.imul(R,ce)|0,n=n+Math.imul(O,le)|0,i=(i=i+Math.imul(O,he)|0)+Math.imul(C,le)|0,o=o+Math.imul(C,he)|0;var Be=(c+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,ge)|0)+Math.imul(P,pe)|0))<<13)|0;c=((o=o+Math.imul(P,ge)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863,n=Math.imul(z,ue),i=(i=Math.imul(z,ce))+Math.imul(j,ue)|0,o=Math.imul(j,ce),n=n+Math.imul(N,le)|0,i=(i=i+Math.imul(N,he)|0)+Math.imul(R,le)|0,o=o+Math.imul(R,he)|0;var Oe=(c+(n=n+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,ge)|0)+Math.imul(C,pe)|0))<<13)|0;c=((o=o+Math.imul(C,ge)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(z,le),i=(i=Math.imul(z,he))+Math.imul(j,le)|0,o=Math.imul(j,he);var Ce=(c+(n=n+Math.imul(N,pe)|0)|0)+((8191&(i=(i=i+Math.imul(N,ge)|0)+Math.imul(R,pe)|0))<<13)|0;c=((o=o+Math.imul(R,ge)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863;var Ue=(c+(n=Math.imul(z,pe))|0)+((8191&(i=(i=Math.imul(z,ge))+Math.imul(j,pe)|0))<<13)|0;return c=((o=Math.imul(j,ge))+(i>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,u[0]=ye,u[1]=me,u[2]=be,u[3]=we,u[4]=ve,u[5]=_e,u[6]=Se,u[7]=Ee,u[8]=Ae,u[9]=xe,u[10]=ke,u[11]=Te,u[12]=Ie,u[13]=Me,u[14]=Pe,u[15]=Be,u[16]=Oe,u[17]=Ce,u[18]=Ue,0!==c&&(u[19]=c,r.length++),r};function g(e,t,r){return(new y).mulp(e,t,r)}function y(e,t){this.x=e,this.y=t}Math.imul||(p=d),o.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?p(this,e,t):n<63?d(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=u;c++){var f=o-c,l=(0|e.words[f])*(0|t.words[c]),h=67108863&l;a=67108863&(h=h+a|0),i+=(s=(s=s+(l/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r.strip()}(this,e,t):g(this,e,t),r},y.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},y.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},y.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},y.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),f=0;f<i;f+=a)for(var l=u,h=c,d=0;d<s;d++){var p=r[f+d],g=n[f+d],y=r[f+d+s],m=n[f+d+s],b=l*y-h*m;m=l*m+h*y,y=b,r[f+d]=p+y,n[f+d]=g+m,r[f+d+s]=p-y,n[f+d+s]=g-m,d!==a&&(b=u*l-c*h,h=u*h+c*l,l=b)}},y.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},y.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},y.prototype.convert13b=function(e,t,r,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)r[s]=0;n(0===o),n(0===(-8192&o))},y.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},y.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),f=new Array(n),l=new Array(n),h=r.words;h.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,c,n),this.transform(s,o,a,u,n,i),this.transform(c,o,f,l,n,i);for(var d=0;d<n;d++){var p=a[d]*f[d]-u[d]*l[d];u[d]=a[d]*l[d]+u[d]*f[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,h,o,n,i),this.conjugate(h,o,n),this.normalize13b(h,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),g(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){n("number"===typeof e),n(e<67108864);for(var t=0,r=0;r<this.length;r++){var i=(0|this.words[r])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[r]=67108863&o}return 0!==t&&(this.words[r]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"===typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,u=(0|this.words[t])-a<<r;this.words[t]=u|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"===typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=i);c--){var l=0|this.words[c];this.words[c]=f<<26-o|l>>>o,f=l&a}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"===typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"===typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,s=e.length+r;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+a;var u=(0|e.words[i])*t;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this.strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==t){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var f=n.clone()._ishlnsubmul(i,1,u);0===f.negative&&(n=f,a&&(a.words[u]=1));for(var l=u-1;l>=0;l--){var h=67108864*(0|n.words[i.length+l])+(0|n.words[i.length+l-1]);for(h=Math.min(h/s|0,67108863),n._ishlnsubmul(i,h,l);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(i,1,l),n.isZero()||(n.negative^=1);a&&(a.words[l]=h)}return a&&a.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){n(e<=67108863);for(var t=(1<<26)%e,r=0,i=this.length-1;i>=0;i--)r=(t*r+(0|this.words[i]))%e;return r},o.prototype.idivn=function(e){n(e<=67108863);for(var t=0,r=this.length-1;r>=0;r--){var i=(0|this.words[r])+67108864*t;this.words[r]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),c=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++c;for(var f=r.clone(),l=t.clone();!t.isZero();){for(var h=0,d=1;0===(t.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(f),s.isub(l)),i.iushrn(1),s.iushrn(1);for(var p=0,g=1;0===(r.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(f),u.isub(l)),a.iushrn(1),u.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),s.isub(u)):(r.isub(t),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:r.iushln(c)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,f=1;0===(t.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(t.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var l=0,h=1;0===(r.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(r.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(i=0===t.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"===typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this.strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new E(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function w(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function v(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function _(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function S(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"===typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function A(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},i(w,b),w.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},w.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(v,b),i(_,b),i(S,b),S.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new w;else if("p224"===e)t=new v;else if("p192"===e)t=new _;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new S}return m[e]=t,t},E.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){n(0===(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},E.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2===1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,c).cmp(u);)f.redIAdd(u);for(var l=this.pow(f,i),h=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),p=s;0!==d.cmp(a);){for(var g=d,y=0;0!==g.cmp(a);y++)g=g.redSqr();n(y<p);var m=this.pow(l,new o(1).iushln(p-y-1));h=h.redMul(m),l=m.redSqr(),d=d.redMul(l),p=y}return h},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],s=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],f=u-1;f>=0;f--){var l=c>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==l||0!==s?(s<<=1,s|=l,(4===++a||0===n&&0===f)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new A(e)},i(A,E),A.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},A.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},A.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},A.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},A.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},ADGY:function(e,t,r){!function(e,t){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function o(e,t,r){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var s;"object"===typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{s="undefined"!==typeof window.Buffer?window.Buffer:r("1Ovm").Buffer}catch(I){}function a(e,t){var r=e.charCodeAt(t);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+e)}function u(e,t,r){var n=a(e,r);return r-1>=t&&(n|=a(e,r-1)<<4),n}function c(e,t,r,i){for(var o=0,s=0,a=Math.min(e.length,r),u=t;u<a;u++){var c=e.charCodeAt(u)-48;o*=i,s=c>=49?c-49+10:c>=17?c-17+10:c,n(c>=0&&s<i,"Invalid character"),o+=s}return o}function f(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}if(o.isBN=function(e){return e instanceof o||null!==e&&"object"===typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,r){if("number"===typeof e)return this._initNumber(e,t,r);if("object"===typeof e)return this._initArray(e,t,r);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,r):(this._parseBase(e,t,i),"le"===r&&this._initArray(this.toArray(),t,r)))},o.prototype._initNumber=function(e,t,r){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===r&&this._initArray(this.toArray(),t,r)},o.prototype._initArray=function(e,t,r){if(n("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,s,a=0;if("be"===r)for(i=e.length-1,o=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);else if("le"===r)for(i=0,o=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=s<<a&67108863,this.words[o+1]=s>>>26-a&67108863,(a+=24)>=26&&(a-=26,o++);return this._strip()},o.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,o=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=u(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;else for(n=(e.length-t)%2===0?t+1:t;n<e.length;n+=2)i=u(e,t,n)<<o,this.words[s]|=67108863&i,o>=18?(o-=18,s+=1,this.words[s]|=i>>>26):o+=8;this._strip()},o.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var o=e.length-r,s=o%n,a=Math.min(o,o-s)+r,u=0,f=r;f<a;f+=n)u=c(e,f,f+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var l=1;for(u=c(e,f,e.length,t),f=0;f<s;f++)l*=t;this.imuln(l),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this._strip()},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){f(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for)try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=l}catch(I){o.prototype.inspect=l}else o.prototype.inspect=l;function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(e,t){var r;if(t=0|t||1,16===(e=e||10)||"hex"===e){r="";for(var i=0,o=0,s=0;s<this.length;s++){var a=this.words[s],u=(16777215&(a<<i|o)).toString(16);o=a>>>24-i&16777215,(i+=2)>=26&&(i-=26,s--),r=0!==o||s!==this.length-1?h[6-u.length]+u+r:u+r}for(0!==o&&(r=o.toString(16)+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}if(e===(0|e)&&e>=2&&e<=36){var c=d[e],f=p[e];r="";var l=this.clone();for(l.negative=0;!l.isZero();){var g=l.modrn(f).toString(e);r=(l=l.idivn(f)).isZero()?g+r:h[c-g.length]+g+r}for(this.isZero()&&(r="0"+r);r.length%t!==0;)r="0"+r;return 0!==this.negative&&(r="-"+r),r}n(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},s&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(s,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function g(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],o=0|t.words[0],s=i*o,a=67108863&s,u=s/67108864|0;r.words[0]=a;for(var c=1;c<n;c++){for(var f=u>>>26,l=67108863&u,h=Math.min(c,t.length-1),d=Math.max(0,c-e.length+1);d<=h;d++){var p=c-d|0;f+=(s=(i=0|e.words[p])*(o=0|t.words[d])+l)/67108864|0,l=67108863&s}r.words[c]=0|l,u=0|f}return 0!==u?r.words[c]=0|u:r.length--,r._strip()}o.prototype.toArrayLike=function(e,t,r){this._strip();var i=this.byteLength(),o=r||Math.max(1,i);n(i<=o,"byte array longer than desired length"),n(o>0,"Requested array length <= 0");var s=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](s,i),s},o.prototype._toArrayLikeLE=function(e,t){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r++]=255&s,r<e.length&&(e[r++]=s>>8&255),r<e.length&&(e[r++]=s>>16&255),6===o?(r<e.length&&(e[r++]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r<e.length)for(e[r++]=n;r<e.length;)e[r++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var r=e.length-1,n=0,i=0,o=0;i<this.length;i++){var s=this.words[i]<<o|n;e[r--]=255&s,r>=0&&(e[r--]=s>>8&255),r>=0&&(e[r--]=s>>16&255),6===o?(r>=0&&(e[r--]=s>>24&255),n=0,o=0):(n=s>>>24,o+=2)}if(r>=0)for(e[r--]=n;r>=0;)e[r--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0===(8191&t)&&(r+=13,t>>>=13),0===(127&t)&&(r+=7,t>>>=7),0===(15&t)&&(r+=4,t>>>=4),0===(3&t)&&(r+=2,t>>>=2),0===(1&t)&&r++,r},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return n(0===(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return n(0===(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return n(0===(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){n("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),r=e%26;this._expand(t),r>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){n("number"===typeof e&&e>=0);var r=e/26|0,i=e%26;return this._expand(r+1),this.words[r]=t?this.words[r]|1<<i:this.words[r]&~(1<<i),this._strip()},o.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,o=0;o<n.length;o++)t=(0|r.words[o])+(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<r.length;o++)t=(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;o<r.length;o++)this.words[o]=r.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var o=0,s=0;s<n.length;s++)o=(t=(0|r.words[s])-(0|n.words[s])+o)>>26,this.words[s]=67108863&t;for(;0!==o&&s<r.length;s++)o=(t=(0|r.words[s])+o)>>26,this.words[s]=67108863&t;if(0===o&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var y=function(e,t,r){var n,i,o,s=e.words,a=t.words,u=r.words,c=0,f=0|s[0],l=8191&f,h=f>>>13,d=0|s[1],p=8191&d,g=d>>>13,y=0|s[2],m=8191&y,b=y>>>13,w=0|s[3],v=8191&w,_=w>>>13,S=0|s[4],E=8191&S,A=S>>>13,x=0|s[5],k=8191&x,T=x>>>13,I=0|s[6],M=8191&I,P=I>>>13,B=0|s[7],O=8191&B,C=B>>>13,U=0|s[8],N=8191&U,R=U>>>13,L=0|s[9],z=8191&L,j=L>>>13,D=0|a[0],q=8191&D,K=D>>>13,H=0|a[1],F=8191&H,W=H>>>13,$=0|a[2],V=8191&$,G=$>>>13,Z=0|a[3],J=8191&Z,X=Z>>>13,Y=0|a[4],Q=8191&Y,ee=Y>>>13,te=0|a[5],re=8191&te,ne=te>>>13,ie=0|a[6],oe=8191&ie,se=ie>>>13,ae=0|a[7],ue=8191&ae,ce=ae>>>13,fe=0|a[8],le=8191&fe,he=fe>>>13,de=0|a[9],pe=8191&de,ge=de>>>13;r.negative=e.negative^t.negative,r.length=19;var ye=(c+(n=Math.imul(l,q))|0)+((8191&(i=(i=Math.imul(l,K))+Math.imul(h,q)|0))<<13)|0;c=((o=Math.imul(h,K))+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,n=Math.imul(p,q),i=(i=Math.imul(p,K))+Math.imul(g,q)|0,o=Math.imul(g,K);var me=(c+(n=n+Math.imul(l,F)|0)|0)+((8191&(i=(i=i+Math.imul(l,W)|0)+Math.imul(h,F)|0))<<13)|0;c=((o=o+Math.imul(h,W)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(m,q),i=(i=Math.imul(m,K))+Math.imul(b,q)|0,o=Math.imul(b,K),n=n+Math.imul(p,F)|0,i=(i=i+Math.imul(p,W)|0)+Math.imul(g,F)|0,o=o+Math.imul(g,W)|0;var be=(c+(n=n+Math.imul(l,V)|0)|0)+((8191&(i=(i=i+Math.imul(l,G)|0)+Math.imul(h,V)|0))<<13)|0;c=((o=o+Math.imul(h,G)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(v,q),i=(i=Math.imul(v,K))+Math.imul(_,q)|0,o=Math.imul(_,K),n=n+Math.imul(m,F)|0,i=(i=i+Math.imul(m,W)|0)+Math.imul(b,F)|0,o=o+Math.imul(b,W)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(g,V)|0,o=o+Math.imul(g,G)|0;var we=(c+(n=n+Math.imul(l,J)|0)|0)+((8191&(i=(i=i+Math.imul(l,X)|0)+Math.imul(h,J)|0))<<13)|0;c=((o=o+Math.imul(h,X)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(E,q),i=(i=Math.imul(E,K))+Math.imul(A,q)|0,o=Math.imul(A,K),n=n+Math.imul(v,F)|0,i=(i=i+Math.imul(v,W)|0)+Math.imul(_,F)|0,o=o+Math.imul(_,W)|0,n=n+Math.imul(m,V)|0,i=(i=i+Math.imul(m,G)|0)+Math.imul(b,V)|0,o=o+Math.imul(b,G)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(g,J)|0,o=o+Math.imul(g,X)|0;var ve=(c+(n=n+Math.imul(l,Q)|0)|0)+((8191&(i=(i=i+Math.imul(l,ee)|0)+Math.imul(h,Q)|0))<<13)|0;c=((o=o+Math.imul(h,ee)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(k,q),i=(i=Math.imul(k,K))+Math.imul(T,q)|0,o=Math.imul(T,K),n=n+Math.imul(E,F)|0,i=(i=i+Math.imul(E,W)|0)+Math.imul(A,F)|0,o=o+Math.imul(A,W)|0,n=n+Math.imul(v,V)|0,i=(i=i+Math.imul(v,G)|0)+Math.imul(_,V)|0,o=o+Math.imul(_,G)|0,n=n+Math.imul(m,J)|0,i=(i=i+Math.imul(m,X)|0)+Math.imul(b,J)|0,o=o+Math.imul(b,X)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(g,Q)|0,o=o+Math.imul(g,ee)|0;var _e=(c+(n=n+Math.imul(l,re)|0)|0)+((8191&(i=(i=i+Math.imul(l,ne)|0)+Math.imul(h,re)|0))<<13)|0;c=((o=o+Math.imul(h,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(M,q),i=(i=Math.imul(M,K))+Math.imul(P,q)|0,o=Math.imul(P,K),n=n+Math.imul(k,F)|0,i=(i=i+Math.imul(k,W)|0)+Math.imul(T,F)|0,o=o+Math.imul(T,W)|0,n=n+Math.imul(E,V)|0,i=(i=i+Math.imul(E,G)|0)+Math.imul(A,V)|0,o=o+Math.imul(A,G)|0,n=n+Math.imul(v,J)|0,i=(i=i+Math.imul(v,X)|0)+Math.imul(_,J)|0,o=o+Math.imul(_,X)|0,n=n+Math.imul(m,Q)|0,i=(i=i+Math.imul(m,ee)|0)+Math.imul(b,Q)|0,o=o+Math.imul(b,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(g,re)|0,o=o+Math.imul(g,ne)|0;var Se=(c+(n=n+Math.imul(l,oe)|0)|0)+((8191&(i=(i=i+Math.imul(l,se)|0)+Math.imul(h,oe)|0))<<13)|0;c=((o=o+Math.imul(h,se)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(O,q),i=(i=Math.imul(O,K))+Math.imul(C,q)|0,o=Math.imul(C,K),n=n+Math.imul(M,F)|0,i=(i=i+Math.imul(M,W)|0)+Math.imul(P,F)|0,o=o+Math.imul(P,W)|0,n=n+Math.imul(k,V)|0,i=(i=i+Math.imul(k,G)|0)+Math.imul(T,V)|0,o=o+Math.imul(T,G)|0,n=n+Math.imul(E,J)|0,i=(i=i+Math.imul(E,X)|0)+Math.imul(A,J)|0,o=o+Math.imul(A,X)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,n=n+Math.imul(m,re)|0,i=(i=i+Math.imul(m,ne)|0)+Math.imul(b,re)|0,o=o+Math.imul(b,ne)|0,n=n+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(g,oe)|0,o=o+Math.imul(g,se)|0;var Ee=(c+(n=n+Math.imul(l,ue)|0)|0)+((8191&(i=(i=i+Math.imul(l,ce)|0)+Math.imul(h,ue)|0))<<13)|0;c=((o=o+Math.imul(h,ce)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(N,q),i=(i=Math.imul(N,K))+Math.imul(R,q)|0,o=Math.imul(R,K),n=n+Math.imul(O,F)|0,i=(i=i+Math.imul(O,W)|0)+Math.imul(C,F)|0,o=o+Math.imul(C,W)|0,n=n+Math.imul(M,V)|0,i=(i=i+Math.imul(M,G)|0)+Math.imul(P,V)|0,o=o+Math.imul(P,G)|0,n=n+Math.imul(k,J)|0,i=(i=i+Math.imul(k,X)|0)+Math.imul(T,J)|0,o=o+Math.imul(T,X)|0,n=n+Math.imul(E,Q)|0,i=(i=i+Math.imul(E,ee)|0)+Math.imul(A,Q)|0,o=o+Math.imul(A,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(_,re)|0,o=o+Math.imul(_,ne)|0,n=n+Math.imul(m,oe)|0,i=(i=i+Math.imul(m,se)|0)+Math.imul(b,oe)|0,o=o+Math.imul(b,se)|0,n=n+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(g,ue)|0,o=o+Math.imul(g,ce)|0;var Ae=(c+(n=n+Math.imul(l,le)|0)|0)+((8191&(i=(i=i+Math.imul(l,he)|0)+Math.imul(h,le)|0))<<13)|0;c=((o=o+Math.imul(h,he)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(z,q),i=(i=Math.imul(z,K))+Math.imul(j,q)|0,o=Math.imul(j,K),n=n+Math.imul(N,F)|0,i=(i=i+Math.imul(N,W)|0)+Math.imul(R,F)|0,o=o+Math.imul(R,W)|0,n=n+Math.imul(O,V)|0,i=(i=i+Math.imul(O,G)|0)+Math.imul(C,V)|0,o=o+Math.imul(C,G)|0,n=n+Math.imul(M,J)|0,i=(i=i+Math.imul(M,X)|0)+Math.imul(P,J)|0,o=o+Math.imul(P,X)|0,n=n+Math.imul(k,Q)|0,i=(i=i+Math.imul(k,ee)|0)+Math.imul(T,Q)|0,o=o+Math.imul(T,ee)|0,n=n+Math.imul(E,re)|0,i=(i=i+Math.imul(E,ne)|0)+Math.imul(A,re)|0,o=o+Math.imul(A,ne)|0,n=n+Math.imul(v,oe)|0,i=(i=i+Math.imul(v,se)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,se)|0,n=n+Math.imul(m,ue)|0,i=(i=i+Math.imul(m,ce)|0)+Math.imul(b,ue)|0,o=o+Math.imul(b,ce)|0,n=n+Math.imul(p,le)|0,i=(i=i+Math.imul(p,he)|0)+Math.imul(g,le)|0,o=o+Math.imul(g,he)|0;var xe=(c+(n=n+Math.imul(l,pe)|0)|0)+((8191&(i=(i=i+Math.imul(l,ge)|0)+Math.imul(h,pe)|0))<<13)|0;c=((o=o+Math.imul(h,ge)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(z,F),i=(i=Math.imul(z,W))+Math.imul(j,F)|0,o=Math.imul(j,W),n=n+Math.imul(N,V)|0,i=(i=i+Math.imul(N,G)|0)+Math.imul(R,V)|0,o=o+Math.imul(R,G)|0,n=n+Math.imul(O,J)|0,i=(i=i+Math.imul(O,X)|0)+Math.imul(C,J)|0,o=o+Math.imul(C,X)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(P,Q)|0,o=o+Math.imul(P,ee)|0,n=n+Math.imul(k,re)|0,i=(i=i+Math.imul(k,ne)|0)+Math.imul(T,re)|0,o=o+Math.imul(T,ne)|0,n=n+Math.imul(E,oe)|0,i=(i=i+Math.imul(E,se)|0)+Math.imul(A,oe)|0,o=o+Math.imul(A,se)|0,n=n+Math.imul(v,ue)|0,i=(i=i+Math.imul(v,ce)|0)+Math.imul(_,ue)|0,o=o+Math.imul(_,ce)|0,n=n+Math.imul(m,le)|0,i=(i=i+Math.imul(m,he)|0)+Math.imul(b,le)|0,o=o+Math.imul(b,he)|0;var ke=(c+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ge)|0)+Math.imul(g,pe)|0))<<13)|0;c=((o=o+Math.imul(g,ge)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(z,V),i=(i=Math.imul(z,G))+Math.imul(j,V)|0,o=Math.imul(j,G),n=n+Math.imul(N,J)|0,i=(i=i+Math.imul(N,X)|0)+Math.imul(R,J)|0,o=o+Math.imul(R,X)|0,n=n+Math.imul(O,Q)|0,i=(i=i+Math.imul(O,ee)|0)+Math.imul(C,Q)|0,o=o+Math.imul(C,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(P,re)|0,o=o+Math.imul(P,ne)|0,n=n+Math.imul(k,oe)|0,i=(i=i+Math.imul(k,se)|0)+Math.imul(T,oe)|0,o=o+Math.imul(T,se)|0,n=n+Math.imul(E,ue)|0,i=(i=i+Math.imul(E,ce)|0)+Math.imul(A,ue)|0,o=o+Math.imul(A,ce)|0,n=n+Math.imul(v,le)|0,i=(i=i+Math.imul(v,he)|0)+Math.imul(_,le)|0,o=o+Math.imul(_,he)|0;var Te=(c+(n=n+Math.imul(m,pe)|0)|0)+((8191&(i=(i=i+Math.imul(m,ge)|0)+Math.imul(b,pe)|0))<<13)|0;c=((o=o+Math.imul(b,ge)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,n=Math.imul(z,J),i=(i=Math.imul(z,X))+Math.imul(j,J)|0,o=Math.imul(j,X),n=n+Math.imul(N,Q)|0,i=(i=i+Math.imul(N,ee)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,ee)|0,n=n+Math.imul(O,re)|0,i=(i=i+Math.imul(O,ne)|0)+Math.imul(C,re)|0,o=o+Math.imul(C,ne)|0,n=n+Math.imul(M,oe)|0,i=(i=i+Math.imul(M,se)|0)+Math.imul(P,oe)|0,o=o+Math.imul(P,se)|0,n=n+Math.imul(k,ue)|0,i=(i=i+Math.imul(k,ce)|0)+Math.imul(T,ue)|0,o=o+Math.imul(T,ce)|0,n=n+Math.imul(E,le)|0,i=(i=i+Math.imul(E,he)|0)+Math.imul(A,le)|0,o=o+Math.imul(A,he)|0;var Ie=(c+(n=n+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,ge)|0)+Math.imul(_,pe)|0))<<13)|0;c=((o=o+Math.imul(_,ge)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(z,Q),i=(i=Math.imul(z,ee))+Math.imul(j,Q)|0,o=Math.imul(j,ee),n=n+Math.imul(N,re)|0,i=(i=i+Math.imul(N,ne)|0)+Math.imul(R,re)|0,o=o+Math.imul(R,ne)|0,n=n+Math.imul(O,oe)|0,i=(i=i+Math.imul(O,se)|0)+Math.imul(C,oe)|0,o=o+Math.imul(C,se)|0,n=n+Math.imul(M,ue)|0,i=(i=i+Math.imul(M,ce)|0)+Math.imul(P,ue)|0,o=o+Math.imul(P,ce)|0,n=n+Math.imul(k,le)|0,i=(i=i+Math.imul(k,he)|0)+Math.imul(T,le)|0,o=o+Math.imul(T,he)|0;var Me=(c+(n=n+Math.imul(E,pe)|0)|0)+((8191&(i=(i=i+Math.imul(E,ge)|0)+Math.imul(A,pe)|0))<<13)|0;c=((o=o+Math.imul(A,ge)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(z,re),i=(i=Math.imul(z,ne))+Math.imul(j,re)|0,o=Math.imul(j,ne),n=n+Math.imul(N,oe)|0,i=(i=i+Math.imul(N,se)|0)+Math.imul(R,oe)|0,o=o+Math.imul(R,se)|0,n=n+Math.imul(O,ue)|0,i=(i=i+Math.imul(O,ce)|0)+Math.imul(C,ue)|0,o=o+Math.imul(C,ce)|0,n=n+Math.imul(M,le)|0,i=(i=i+Math.imul(M,he)|0)+Math.imul(P,le)|0,o=o+Math.imul(P,he)|0;var Pe=(c+(n=n+Math.imul(k,pe)|0)|0)+((8191&(i=(i=i+Math.imul(k,ge)|0)+Math.imul(T,pe)|0))<<13)|0;c=((o=o+Math.imul(T,ge)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(z,oe),i=(i=Math.imul(z,se))+Math.imul(j,oe)|0,o=Math.imul(j,se),n=n+Math.imul(N,ue)|0,i=(i=i+Math.imul(N,ce)|0)+Math.imul(R,ue)|0,o=o+Math.imul(R,ce)|0,n=n+Math.imul(O,le)|0,i=(i=i+Math.imul(O,he)|0)+Math.imul(C,le)|0,o=o+Math.imul(C,he)|0;var Be=(c+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,ge)|0)+Math.imul(P,pe)|0))<<13)|0;c=((o=o+Math.imul(P,ge)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863,n=Math.imul(z,ue),i=(i=Math.imul(z,ce))+Math.imul(j,ue)|0,o=Math.imul(j,ce),n=n+Math.imul(N,le)|0,i=(i=i+Math.imul(N,he)|0)+Math.imul(R,le)|0,o=o+Math.imul(R,he)|0;var Oe=(c+(n=n+Math.imul(O,pe)|0)|0)+((8191&(i=(i=i+Math.imul(O,ge)|0)+Math.imul(C,pe)|0))<<13)|0;c=((o=o+Math.imul(C,ge)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,n=Math.imul(z,le),i=(i=Math.imul(z,he))+Math.imul(j,le)|0,o=Math.imul(j,he);var Ce=(c+(n=n+Math.imul(N,pe)|0)|0)+((8191&(i=(i=i+Math.imul(N,ge)|0)+Math.imul(R,pe)|0))<<13)|0;c=((o=o+Math.imul(R,ge)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863;var Ue=(c+(n=Math.imul(z,pe))|0)+((8191&(i=(i=Math.imul(z,ge))+Math.imul(j,pe)|0))<<13)|0;return c=((o=Math.imul(j,ge))+(i>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,u[0]=ye,u[1]=me,u[2]=be,u[3]=we,u[4]=ve,u[5]=_e,u[6]=Se,u[7]=Ee,u[8]=Ae,u[9]=xe,u[10]=ke,u[11]=Te,u[12]=Ie,u[13]=Me,u[14]=Pe,u[15]=Be,u[16]=Oe,u[17]=Ce,u[18]=Ue,0!==c&&(u[19]=c,r.length++),r};function m(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,o=0;o<r.length-1;o++){var s=i;i=0;for(var a=67108863&n,u=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=u;c++){var f=o-c,l=(0|e.words[f])*(0|t.words[c]),h=67108863&l;a=67108863&(h=h+a|0),i+=(s=(s=s+(l/67108864|0)|0)+(h>>>26)|0)>>>26,s&=67108863}r.words[o]=a,n=s,s=i}return 0!==n?r.words[o]=n:r.length--,r._strip()}function b(e,t,r){return m(e,t,r)}function w(e,t){this.x=e,this.y=t}Math.imul||(y=g),o.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?y(this,e,t):r<63?g(this,e,t):r<1024?m(this,e,t):b(this,e,t)},w.prototype.makeRBT=function(e){for(var t=new Array(e),r=o.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},w.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},w.prototype.permute=function(e,t,r,n,i,o){for(var s=0;s<o;s++)n[s]=t[e[s]],i[s]=r[e[s]]},w.prototype.transform=function(e,t,r,n,i,o){this.permute(o,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var a=s<<1,u=Math.cos(2*Math.PI/a),c=Math.sin(2*Math.PI/a),f=0;f<i;f+=a)for(var l=u,h=c,d=0;d<s;d++){var p=r[f+d],g=n[f+d],y=r[f+d+s],m=n[f+d+s],b=l*y-h*m;m=l*m+h*y,y=b,r[f+d]=p+y,n[f+d]=g+m,r[f+d+s]=p-y,n[f+d+s]=g-m,d!==a&&(b=u*l-c*h,h=u*h+c*l,l=b)}},w.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},w.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},w.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},w.prototype.convert13b=function(e,t,r,i){for(var o=0,s=0;s<t;s++)o+=0|e[s],r[2*s]=8191&o,o>>>=13,r[2*s+1]=8191&o,o>>>=13;for(s=2*t;s<i;++s)r[s]=0;n(0===o),n(0===(-8192&o))},w.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},w.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),o=this.stub(n),s=new Array(n),a=new Array(n),u=new Array(n),c=new Array(n),f=new Array(n),l=new Array(n),h=r.words;h.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,c,n),this.transform(s,o,a,u,n,i),this.transform(c,o,f,l,n,i);for(var d=0;d<n;d++){var p=a[d]*f[d]-u[d]*l[d];u[d]=a[d]*l[d]+u[d]*f[d],a[d]=p}return this.conjugate(a,u,n),this.transform(a,u,h,o,n,i),this.conjugate(h,o,n),this.normalize13b(h,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),b(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),n("number"===typeof e),n(e<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,s=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=s>>>26,this.words[i]=67108863&s}return 0!==r&&(this.words[i]=r,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=e.words[n]>>>i&1}return t}(e);if(0===t.length)return new o(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var i=r.sqr();n<t.length;n++,i=i.sqr())0!==t[n]&&(r=r.mul(i));return r},o.prototype.iushln=function(e){n("number"===typeof e&&e>=0);var t,r=e%26,i=(e-r)/26,o=67108863>>>26-r<<26-r;if(0!==r){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&o,u=(0|this.words[t])-a<<r;this.words[t]=u|s,s=a>>>26-r}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,r){var i;n("number"===typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,s=Math.min((e-o)/26,this.length),a=67108863^67108863>>>o<<o,u=r;if(i-=s,i=Math.max(0,i),u){for(var c=0;c<s;c++)u.words[c]=this.words[c];u.length=s}if(0===s);else if(this.length>s)for(this.length-=s,c=0;c<this.length;c++)this.words[c]=this.words[c+s];else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=i);c--){var l=0|this.words[c];this.words[c]=f<<26-o|l>>>o,f=l&a}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,r){return n(0===this.negative),this.iushrn(e,t,r)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26,i=1<<t;return!(this.length<=r)&&!!(this.words[r]&i)},o.prototype.imaskn=function(e){n("number"===typeof e&&e>=0);var t=e%26,r=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=r)return this;if(0!==t&&r++,this.length=Math.min(r,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return n("number"===typeof e),n(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(n("number"===typeof e),n(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,r){var i,o,s=e.length+r;this._expand(s);var a=0;for(i=0;i<e.length;i++){o=(0|this.words[i+r])+a;var u=(0|e.words[i])*t;a=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)a=(o=(0|this.words[i+r])+a)>>26,this.words[i+r]=67108863&o;if(0===a)return this._strip();for(n(-1===a),a=0,i=0;i<this.length;i++)a=(o=-(0|this.words[i])+a)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),i=e,s=0|i.words[i.length-1];0!==(r=26-this._countBits(s))&&(i=i.ushln(r),n.iushln(r),s=0|i.words[i.length-1]);var a,u=n.length-i.length;if("mod"!==t){(a=new o(null)).length=u+1,a.words=new Array(a.length);for(var c=0;c<a.length;c++)a.words[c]=0}var f=n.clone()._ishlnsubmul(i,1,u);0===f.negative&&(n=f,a&&(a.words[u]=1));for(var l=u-1;l>=0;l--){var h=67108864*(0|n.words[i.length+l])+(0|n.words[i.length+l-1]);for(h=Math.min(h/s|0,67108863),n._ishlnsubmul(i,h,l);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(i,1,l),n.isZero()||(n.negative^=1);a&&(a.words[l]=h)}return a&&a._strip(),n._strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:a||null,mod:n}},o.prototype.divmod=function(e,t,r){return n(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(i=a.div.neg()),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.iadd(e)),{div:i,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(i=a.div.neg()),{div:i,mod:a.mod}):0!==(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),r&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,s,a},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),o=r.cmp(n);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=(1<<26)%e,i=0,o=this.length-1;o>=0;o--)i=(r*i+(0|this.words[o]))%e;return t?-i:i},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),n(e<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/e|0,r=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),s=new o(0),a=new o(0),u=new o(1),c=0;t.isEven()&&r.isEven();)t.iushrn(1),r.iushrn(1),++c;for(var f=r.clone(),l=t.clone();!t.isZero();){for(var h=0,d=1;0===(t.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(i.isOdd()||s.isOdd())&&(i.iadd(f),s.isub(l)),i.iushrn(1),s.iushrn(1);for(var p=0,g=1;0===(r.words[0]&g)&&p<26;++p,g<<=1);if(p>0)for(r.iushrn(p);p-- >0;)(a.isOdd()||u.isOdd())&&(a.iadd(f),u.isub(l)),a.iushrn(1),u.iushrn(1);t.cmp(r)>=0?(t.isub(r),i.isub(a),s.isub(u)):(r.isub(t),a.isub(i),u.isub(s))}return{a:a,b:u,gcd:r.iushln(c)}},o.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,r=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,s=new o(1),a=new o(0),u=r.clone();t.cmpn(1)>0&&r.cmpn(1)>0;){for(var c=0,f=1;0===(t.words[0]&f)&&c<26;++c,f<<=1);if(c>0)for(t.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);for(var l=0,h=1;0===(r.words[0]&h)&&l<26;++l,h<<=1);if(l>0)for(r.iushrn(l);l-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);t.cmp(r)>=0?(t.isub(r),s.isub(a)):(r.isub(t),a.isub(s))}return(i=0===t.cmpn(1)?s:a).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var o=t;t=r,r=o}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){n("number"===typeof e);var t=e%26,r=(e-t)/26,i=1<<t;if(this.length<=r)return this._expand(r+1),this.words[r]|=i,this;for(var o=i,s=r;0!==o&&s<this.length;s++){var a=0|this.words[s];o=(a+=o)>>>26,a&=67108863,this.words[s]=a}return 0!==o&&(this.words[s]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,r=e<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)t=1;else{r&&(e=-e),n(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new k(e)},o.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var v={k256:null,p224:null,p192:null,p25519:null};function _(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function S(){_.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function E(){_.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function A(){_.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){_.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(e){if("string"===typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function T(e){k.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}_.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},_.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},_.prototype.split=function(e,t){e.iushrn(this.n,0,t)},_.prototype.imulK=function(e){return e.imul(this.k)},i(S,_),S.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|o>>>22,o=s}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},S.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(E,_),i(A,_),i(x,_),x.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(v[e])return v[e];var t;if("k256"===e)t=new S;else if("p224"===e)t=new E;else if("p192"===e)t=new A;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new x}return v[e]=t,t},k.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},k.prototype._verify2=function(e,t){n(0===(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},k.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(f(e,e.umod(this.m)._forceRed(this)),e)},k.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},k.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},k.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},k.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},k.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},k.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},k.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},k.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},k.prototype.isqr=function(e){return this.imul(e,e.clone())},k.prototype.sqr=function(e){return this.mul(e,e)},k.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2===1),3===t){var r=this.m.add(new o(1)).iushrn(2);return this.pow(e,r)}for(var i=this.m.subn(1),s=0;!i.isZero()&&0===i.andln(1);)s++,i.iushrn(1);n(!i.isZero());var a=new o(1).toRed(this),u=a.redNeg(),c=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,c).cmp(u);)f.redIAdd(u);for(var l=this.pow(f,i),h=this.pow(e,i.addn(1).iushrn(1)),d=this.pow(e,i),p=s;0!==d.cmp(a);){for(var g=d,y=0;0!==g.cmp(a);y++)g=g.redSqr();n(y<p);var m=this.pow(l,new o(1).iushln(p-y-1));h=h.redMul(m),l=m.redSqr(),d=d.redMul(l),p=y}return h},k.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},k.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new o(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var i=r[0],s=0,a=0,u=t.bitLength()%26;for(0===u&&(u=26),n=t.length-1;n>=0;n--){for(var c=t.words[n],f=u-1;f>=0;f--){var l=c>>f&1;i!==r[0]&&(i=this.sqr(i)),0!==l||0!==s?(s<<=1,s|=l,(4===++a||0===n&&0===f)&&(i=this.mul(i,r[s]),a=0,s=0)):a=0}u=26}return i},k.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},k.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new T(e)},i(T,k),T.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},T.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},T.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},T.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),s=i;return i.cmp(this.m)>=0?s=i.isub(this.m):i.cmpn(0)<0&&(s=i.iadd(this.m)),s._forceRed(this)},T.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=r.nmd(e),this)},RMeF:function(e,t,r){"use strict";var n=r("Dp+g").Buffer,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,r,n){var i,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,r,s):i(t,r))||s);return o>3&&s&&Object.defineProperty(t,r,s),s},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&i(t,e,r);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeUnchecked=t.deserialize=t.serialize=t.BinaryReader=t.BinaryWriter=t.BorshError=t.baseDecode=t.baseEncode=void 0;const c=u(r("ADGY")),f=u(r("1YSi")),l=a(r("4YTk")),h=new("function"!==typeof TextDecoder?l.TextDecoder:TextDecoder)("utf-8",{fatal:!0});t.baseEncode=function(e){return"string"===typeof e&&(e=n.from(e,"utf8")),f.default.encode(n.from(e))},t.baseDecode=function(e){return n.from(f.default.decode(e))};const d=1024;class p extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}t.BorshError=p;class g{constructor(){this.buf=n.alloc(d),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=n.concat([this.buf,n.alloc(d)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(n.from(new c.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(n.from(new c.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(n.from(new c.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(n.from(new c.default(e).toArray("le",64)))}writeBuffer(e){this.buf=n.concat([n.from(this.buf.subarray(0,this.length)),e,n.alloc(d)]),this.length+=e.length}writeString(e){this.maybeResize();const t=n.from(e,"utf8");this.writeU32(t.length),this.writeBuffer(t)}writeFixedArray(e){this.writeBuffer(n.from(e))}writeArray(e,t){this.maybeResize(),this.writeU32(e.length);for(const r of e)this.maybeResize(),t(r)}toArray(){return this.buf.subarray(0,this.length)}}function y(e,t,r){const n=r.value;r.value=function(...e){try{return n.apply(this,e)}catch(t){if(t instanceof RangeError){const e=t.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(e)>=0)throw new p("Reached the end of buffer when deserializing")}throw t}}}t.BinaryWriter=g;class m{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new c.default(e,"le")}readU128(){const e=this.readBuffer(16);return new c.default(e,"le")}readU256(){const e=this.readBuffer(32);return new c.default(e,"le")}readU512(){const e=this.readBuffer(64);return new c.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new p(`Expected buffer length ${e} isn't within bounds`);const t=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,t}readString(){const e=this.readU32(),t=this.readBuffer(e);try{return h.decode(t)}catch(r){throw new p(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const t=this.readU32(),r=Array();for(let n=0;n<t;++n)r.push(e());return r}}function b(e){return e.charAt(0).toUpperCase()+e.slice(1)}function w(e,t,r,n,i){try{if("string"===typeof n)i[`write${b(n)}`](r);else if(n instanceof Array)if("number"===typeof n[0]){if(r.length!==n[0])throw new p(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(2===n.length&&"number"===typeof n[1]){if(r.length!==n[1])throw new p(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let t=0;t<n[1];t++)w(e,null,r[t],n[0],i)}else i.writeArray(r,(r=>{w(e,t,r,n[0],i)}));else if(void 0!==n.kind)switch(n.kind){case"option":null===r||void 0===r?i.writeU8(0):(i.writeU8(1),w(e,t,r,n.type,i));break;case"map":i.writeU32(r.size),r.forEach(((r,o)=>{w(e,t,o,n.key,i),w(e,t,r,n.value,i)}));break;default:throw new p(`FieldType ${n} unrecognized`)}else v(e,r,i)}catch(o){throw o instanceof p&&o.addToFieldPath(t),o}}function v(e,t,r){if("function"===typeof t.borshSerialize)return void t.borshSerialize(r);const n=e.get(t.constructor);if(!n)throw new p(`Class ${t.constructor.name} is missing in schema`);if("struct"===n.kind)n.fields.map((([n,i])=>{w(e,n,t[n],i,r)}));else{if("enum"!==n.kind)throw new p(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`);{const i=t[n.field];for(let o=0;o<n.values.length;++o){const[s,a]=n.values[o];if(s===i){r.writeU8(o),w(e,s,t[s],a,r);break}}}}}function _(e,t,r,n){try{if("string"===typeof r)return n[`read${b(r)}`]();if(r instanceof Array){if("number"===typeof r[0])return n.readFixedArray(r[0]);if("number"===typeof r[1]){const t=[];for(let i=0;i<r[1];i++)t.push(_(e,null,r[0],n));return t}return n.readArray((()=>_(e,t,r[0],n)))}if("option"===r.kind){return n.readU8()?_(e,t,r.type,n):void 0}if("map"===r.kind){let i=new Map;const o=n.readU32();for(let s=0;s<o;s++){const o=_(e,t,r.key,n),s=_(e,t,r.value,n);i.set(o,s)}return i}return S(e,r,n)}catch(i){throw i instanceof p&&i.addToFieldPath(t),i}}function S(e,t,r){if("function"===typeof t.borshDeserialize)return t.borshDeserialize(r);const n=e.get(t);if(!n)throw new p(`Class ${t.name} is missing in schema`);if("struct"===n.kind){const n={};for(const[i,o]of e.get(t).fields)n[i]=_(e,i,o,r);return new t(n)}if("enum"===n.kind){const i=r.readU8();if(i>=n.values.length)throw new p(`Enum index: ${i} is out of range`);const[o,s]=n.values[i],a=_(e,o,s,r);return new t({[o]:a})}throw new p(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}s([y],m.prototype,"readU8",null),s([y],m.prototype,"readU16",null),s([y],m.prototype,"readU32",null),s([y],m.prototype,"readU64",null),s([y],m.prototype,"readU128",null),s([y],m.prototype,"readU256",null),s([y],m.prototype,"readU512",null),s([y],m.prototype,"readString",null),s([y],m.prototype,"readFixedArray",null),s([y],m.prototype,"readArray",null),t.BinaryReader=m,t.serialize=function(e,t,r=g){const n=new r;return v(e,t,n),n.toArray()},t.deserialize=function(e,t,r,n=m){const i=new n(r),o=S(e,t,i);if(i.offset<r.length)throw new p(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return o},t.deserializeUnchecked=function(e,t,r,n=m){return S(e,t,new n(r))}},Ik2E:(e,t,r)=>{var n;function i(e){this.rand=e}if(e.exports=function(e){return n||(n=new i(null)),n.generate(e)},e.exports.Rand=i,i.prototype.generate=function(e){return this._rand(e)},i.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"===typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:i.prototype._rand=function(){throw new Error("Not implemented yet")};else try{var o=r("RNGE");if("function"!==typeof o.randomBytes)throw new Error("Not supported");i.prototype._rand=function(e){return o.randomBytes(e)}}catch(s){}},"1YSi":(e,t,r)=>{var n=r("tEAc");e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},vDsV:(e,t,r)=>{const n=r("swCh");e.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},"07b+":(e,t,r)=>{"use strict";var n=r("1YSi"),i=r("vhZ9").Buffer;e.exports=function(e){function t(t){var r=t.slice(0,-4),n=t.slice(-4),i=e(r);if(!(n[0]^i[0]|n[1]^i[1]|n[2]^i[2]|n[3]^i[3]))return r}return{encode:function(t){var r=e(t);return n.encode(i.concat([t,r],t.length+4))},decode:function(e){var r=t(n.decode(e));if(!r)throw new Error("Invalid checksum");return r},decodeUnsafe:function(e){var r=n.decodeUnsafe(e);if(r)return t(r)}}}},"p8i/":(e,t,r)=>{"use strict";var n=r("m1hl"),i=r("07b+");e.exports=i((function(e){var t=n("sha256").update(e).digest();return n("sha256").update(t).digest()}))},WgYH:(e,t,r)=>{"use strict";var n=r("vDsV");e.exports=function(e){function t(t){var r=t.slice(0,-4),n=t.slice(-4),i=e(r);if(!(n[0]^i[0]|n[1]^i[1]|n[2]^i[2]|n[3]^i[3]))return r}return{encode:function(t){var r=Uint8Array.from(t),i=e(r),o=r.length+4,s=new Uint8Array(o);return s.set(r,0),s.set(i.subarray(0,4),r.length),n.encode(s,o)},decode:function(e){var r=t(n.decode(e));if(!r)throw new Error("Invalid checksum");return r},decodeUnsafe:function(e){var r=n.decodeUnsafe(e);if(r)return t(r)}}}},QXYD:(e,t,r)=>{"use strict";var{sha256:n}=r("63Q3"),i=r("WgYH");e.exports=i((function(e){return n(n(e))}))},"Dp+g":(e,t,r)=>{"use strict";const n=r("urnj"),i=r("L/pz"),o="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50;const s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,r){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return l(e)}return c(e,t,r)}function c(e,t,r){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|g(e,t);let n=a(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Z(e,Uint8Array)){const t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Z(e,ArrayBuffer)||e&&Z(e.buffer,ArrayBuffer))return d(e,t,r);if("undefined"!==typeof SharedArrayBuffer&&(Z(e,SharedArrayBuffer)||e&&Z(e.buffer,SharedArrayBuffer)))return d(e,t,r);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return u.from(n,t,r);const i=function(e){if(u.isBuffer(e)){const t=0|p(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!==typeof e.length||J(e.length)?a(0):h(e);if("Buffer"===e.type&&Array.isArray(e.data))return h(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function l(e){return f(e),a(e<0?0:0|p(e))}function h(e){const t=e.length<0?0:0|p(e.length),r=a(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function d(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,u.prototype),n}function p(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function g(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Z(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return $(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return V(e).length;default:if(i)return n?-1:$(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return P(this,t,r);case"utf8":case"utf-8":return k(this,t,r);case"ascii":return I(this,t,r);case"latin1":case"binary":return M(this,t,r);case"base64":return x(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function m(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function b(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),J(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof t&&(t=u.from(t,n)),u.isBuffer(t))return 0===t.length?-1:w(e,t,r,n,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):w(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function w(e,t,r,n,i){let o,s=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,u/=2,r/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let n=-1;for(o=r;o<a;o++)if(c(e,o)===c(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===u)return n*s}else-1!==n&&(o-=o-n),n=-1}else for(r+u>a&&(r=a-u),o=r;o>=0;o--){let r=!0;for(let n=0;n<u;n++)if(c(e,o+n)!==c(t,n)){r=!1;break}if(r)return o}return-1}function v(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const o=t.length;let s;for(n>o/2&&(n=o/2),s=0;s<n;++s){const n=parseInt(t.substr(2*s,2),16);if(J(n))return s;e[r+s]=n}return s}function _(e,t,r,n){return G($(t,e.length-r),e,r,n)}function S(e,t,r,n){return G(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function E(e,t,r,n){return G(V(t),e,r,n)}function A(e,t,r,n){return G(function(e,t){let r,n,i;const o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,o.push(i),o.push(n);return o}(t,e.length-r),e,r,n)}function x(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function k(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=r){let r,n,a,u;switch(s){case 1:t<128&&(o=t);break;case 2:r=e[i+1],128===(192&r)&&(u=(31&t)<<6|63&r,u>127&&(o=u));break;case 3:r=e[i+1],n=e[i+2],128===(192&r)&&128===(192&n)&&(u=(15&t)<<12|(63&r)<<6|63&n,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:r=e[i+1],n=e[i+2],a=e[i+3],128===(192&r)&&128===(192&n)&&128===(192&a)&&(u=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,u>65535&&u<1114112&&(o=u))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=s}return function(e){const t=e.length;if(t<=T)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=T));return r}(n)}t.kMaxLength=s,u.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,r){return c(e,t,r)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,r){return function(e,t,r){return f(e),e<=0?a(e):void 0!==t?"string"===typeof r?a(e).fill(t,r):a(e).fill(t):a(e)}(e,t,r)},u.allocUnsafe=function(e){return l(e)},u.allocUnsafeSlow=function(e){return l(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(Z(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),Z(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=u.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(Z(t,Uint8Array))i+t.length>n.length?(u.isBuffer(t)||(t=u.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!u.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},u.byteLength=g,u.prototype._isBuffer=!0,u.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)m(this,t,t+1);return this},u.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},u.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},u.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?k(this,0,e):y.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(e,t,r,n,i){if(Z(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let o=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0);const a=Math.min(o,s),c=this.slice(n,i),f=e.slice(t,r);for(let u=0;u<a;++u)if(c[u]!==f[u]){o=c[u],s=f[u];break}return o<s?-1:s<o?1:0},u.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},u.prototype.indexOf=function(e,t,r){return b(this,e,t,r,!0)},u.prototype.lastIndexOf=function(e,t,r){return b(this,e,t,r,!1)},u.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let o=!1;for(;;)switch(n){case"hex":return v(this,e,t,r);case"utf8":case"utf-8":return _(this,e,t,r);case"ascii":case"latin1":case"binary":return S(this,e,t,r);case"base64":return E(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,t,r);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const T=4096;function I(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function M(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function P(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let o=t;o<r;++o)i+=X[e[o]];return i}function B(e,t,r){const n=e.slice(t,r);let i="";for(let o=0;o<n.length-1;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}function O(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function C(e,t,r,n,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function U(e,t,r,n,i){K(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function N(e,t,r,n,i){K(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function R(e,t,r,n,i,o){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(e,t,r,n,o){return t=+t,r>>>=0,o||R(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function z(e,t,r,n,o){return t=+t,r>>>=0,o||R(e,0,r,8),i.write(e,t,r,n,52,8),r+8}u.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,u.prototype),n},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readBigUInt64LE=Y((function(e){H(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),u.prototype.readBigUInt64BE=Y((function(e){H(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),u.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},u.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||O(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||O(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt16BE=function(e,t){e>>>=0,t||O(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readBigInt64LE=Y((function(e){H(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),u.prototype.readBigInt64BE=Y((function(e){H(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),u.prototype.readFloatLE=function(e,t){return e>>>=0,t||O(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||O(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||O(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||O(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){C(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){C(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigUInt64LE=Y((function(e,t=0){return U(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeBigUInt64BE=Y((function(e,t=0){return N(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),u.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);C(this,e,t,r,n-1,-n)}let i=0,o=1,s=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o|0)-s&255;return t+r},u.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);C(this,e,t,r,n-1,-n)}let i=r-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o|0)-s&255;return t+r},u.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||C(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeBigInt64LE=Y((function(e,t=0){return U(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeBigInt64BE=Y((function(e,t=0){return N(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),u.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},u.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},u.prototype.writeDoubleLE=function(e,t,r){return z(this,e,t,!0,r)},u.prototype.writeDoubleBE=function(e,t,r){return z(this,e,t,!1,r)},u.prototype.copy=function(e,t,r,n){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},u.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!u.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(i=t;i<r;++i)this[i]=e;else{const o=u.isBuffer(e)?e:u.from(e,n),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%s]}return this};const j={};function D(e,t,r){j[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function q(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function K(e,t,r,n,i,o){if(e>r||e<t){const n="bigint"===typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(o+1)}${n}`:`>= -(2${n} ** ${8*(o+1)-1}${n}) and < 2 ** ${8*(o+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new j.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){H(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||F(t,e.length-(r+1))}(n,i,o)}function H(e,t){if("number"!==typeof e)throw new j.ERR_INVALID_ARG_TYPE(t,"number",e)}function F(e,t,r){if(Math.floor(e)!==e)throw H(e,r),new j.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new j.ERR_BUFFER_OUT_OF_BOUNDS;throw new j.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}D("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),D("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),D("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=q(String(r)):"bigint"===typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=q(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const W=/[^+/0-9A-Za-z-_]/g;function $(e,t){let r;t=t||1/0;const n=e.length;let i=null;const o=[];for(let s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return o}function V(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(W,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function G(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Z(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!==e}const X=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function Y(e){return"undefined"===typeof BigInt?Q:e}function Q(){throw new Error("BigInt not supported")}},zyTq:(e,t,r)=>{"use strict";var n=r("vDKV"),i=r("k/Rp"),o=r("QqiK"),s=r("pkl4");e.exports=s||n.call(o,i)},"3SjI":(e,t,r)=>{"use strict";var n=r("vDKV"),i=r("k/Rp"),o=r("zyTq");e.exports=function(){return o(n,i,arguments)}},"k/Rp":e=>{"use strict";e.exports=Function.prototype.apply},QqiK:e=>{"use strict";e.exports=Function.prototype.call},VLUH:(e,t,r)=>{"use strict";var n=r("vDKV"),i=r("51A+"),o=r("QqiK"),s=r("zyTq");e.exports=function(e){if(e.length<1||"function"!==typeof e[0])throw new i("a function is required");return s(n,o,e)}},pkl4:e=>{"use strict";e.exports="undefined"!==typeof Reflect&&Reflect&&Reflect.apply},szUr:(e,t,r)=>{"use strict";var n=r("vcUE"),i=r("5KZJ"),o=i(n("String.prototype.indexOf"));e.exports=function(e,t){var r=n(e,!!t);return"function"===typeof r&&o(e,".prototype.")>-1?i(r):r}},"5KZJ":(e,t,r)=>{"use strict";var n=r("5ae0"),i=r("q+2T"),o=r("VLUH"),s=r("3SjI");e.exports=function(e){var t=o(arguments),r=e.length-(arguments.length-1);return n(t,1+(r>0?r:0),!0)},i?i(e.exports,"apply",{value:s}):e.exports.apply=s},ydUC:(e,t,r)=>{"use strict";var n=r("vcUE"),i=r("VLUH"),o=i([n("%String.prototype.indexOf%")]);e.exports=function(e,t){var r=n(e,!!t);return"function"===typeof r&&o(e,".prototype.")>-1?i([r]):r}},YQyS:(e,t,r)=>{var n=r("vhZ9").Buffer,i=r("ITsw").Transform,o=r("uFga").s;function s(e){i.call(this),this.hashMode="string"===typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}r("f9x7")(s,i),s.prototype.update=function(e,t,r){"string"===typeof e&&(e=n.from(e,t));var i=this._update(e);return this.hashMode?this:(r&&(i=this._toString(i,r)),i)},s.prototype.setAutoPadding=function(){},s.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},s.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},s.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},s.prototype._transform=function(e,t,r){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(i){n=i}finally{r(n)}},s.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(r){t=r}e(t)},s.prototype._finalOrDigest=function(e){var t=this.__final()||n.alloc(0);return e&&(t=this._toString(t,e,!0)),t},s.prototype._toString=function(e,t,r){if(this._decoder||(this._decoder=new o(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return r&&(n+=this._decoder.end()),n},e.exports=s},m1hl:(e,t,r)=>{"use strict";var n=r("f9x7"),i=r("fM9/"),o=r("oCNs"),s=r("IsaS"),a=r("YQyS");function u(e){a.call(this,"digest"),this._hash=e}n(u,a),u.prototype._update=function(e){this._hash.update(e)},u.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new i:"rmd160"===e||"ripemd160"===e?new o:new u(s(e))}},pdZx:(e,t,r)=>{"use strict";var n=r("q+2T"),i=r("dDPE"),o=r("51A+"),s=r("PtCN");e.exports=function(e,t,r){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new o("`obj` must be an object or a function`");if("string"!==typeof t&&"symbol"!==typeof t)throw new o("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!==typeof arguments[3]&&null!==arguments[3])throw new o("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!==typeof arguments[4]&&null!==arguments[4])throw new o("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!==typeof arguments[5]&&null!==arguments[5])throw new o("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!==typeof arguments[6])throw new o("`loose`, if provided, must be a boolean");var a=arguments.length>3?arguments[3]:null,u=arguments.length>4?arguments[4]:null,c=arguments.length>5?arguments[5]:null,f=arguments.length>6&&arguments[6],l=!!s&&s(e,t);if(n)n(e,t,{configurable:null===c&&l?l.configurable:!c,enumerable:null===a&&l?l.enumerable:!a,value:r,writable:null===u&&l?l.writable:!u});else{if(!f&&(a||u||c))throw new i("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=r}}},RKVt:(e,t,r)=>{"use strict";var n=r("qKnM"),i="function"===typeof Symbol&&"symbol"===typeof Symbol("foo"),o=Object.prototype.toString,s=Array.prototype.concat,a=r("pdZx"),u=r("6PnD")(),c=function(e,t,r,n){if(t in e)if(!0===n){if(e[t]===r)return}else if("function"!==typeof(i=n)||"[object Function]"!==o.call(i)||!n())return;var i;u?a(e,t,r,!0):a(e,t,r)},f=function(e,t){var r=arguments.length>2?arguments[2]:{},o=n(t);i&&(o=s.call(o,Object.getOwnPropertySymbols(t)));for(var a=0;a<o.length;a+=1)c(e,o[a],t[o[a]],r[o[a]])};f.supportsDescriptors=!!u,e.exports=f},bjIn:(e,t,r)=>{"use strict";var n,i=r("VLUH"),o=r("PtCN");try{n=[].__proto__===Array.prototype}catch(c){if(!c||"object"!==typeof c||!("code"in c)||"ERR_PROTO_ACCESS"!==c.code)throw c}var s=!!n&&o&&o(Object.prototype,"__proto__"),a=Object,u=a.getPrototypeOf;e.exports=s&&"function"===typeof s.get?i([s.get]):"function"===typeof u&&function(e){return u(null==e?e:a(e))}},divi:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.ECPairFactory=t.networks=void 0;const i=r("foU8");t.networks=i;const o=r("2vvW"),s=r("O66I"),a=r("o40x"),u=r("pG4a"),c=o.typeforce.maybe(o.typeforce.compile({compressed:o.maybe(o.Boolean),network:o.maybe(o.Network)}));t.ECPairFactory=function(e){function t(t,r){if(o.typeforce(o.Buffer256bit,t),!e.isPrivate(t))throw new TypeError("Private key not in range [1, n)");return o.typeforce(c,r),new f(t,void 0,r)}function r(t,r){return o.typeforce(e.isPoint,t),o.typeforce(c,r),new f(void 0,t,r)}(0,u.testEcc)(e);class f{__D;__Q;compressed;network;lowR;constructor(t,r,o){this.__D=t,this.__Q=r,this.lowR=!1,void 0===o&&(o={}),this.compressed=void 0===o.compressed||o.compressed,this.network=o.network||i.bitcoin,void 0!==r&&(this.__Q=n.from(e.pointCompress(r,this.compressed)))}get privateKey(){return this.__D}get publicKey(){if(!this.__Q){const t=e.pointFromScalar(this.__D,this.compressed);this.__Q=n.from(t)}return this.__Q}toWIF(){if(!this.__D)throw new Error("Missing private key");return a.encode(this.network.wif,this.__D,this.compressed)}tweak(e){return this.privateKey?this.tweakFromPrivateKey(e):this.tweakFromPublicKey(e)}sign(t,r){if(!this.__D)throw new Error("Missing private key");if(void 0===r&&(r=this.lowR),!1===r)return n.from(e.sign(t,this.__D));{let r=e.sign(t,this.__D);const i=n.alloc(32,0);let o=0;for(;r[0]>127;)o++,i.writeUIntLE(o,0,6),r=e.sign(t,this.__D,i);return n.from(r)}}signSchnorr(t){if(!this.privateKey)throw new Error("Missing private key");if(!e.signSchnorr)throw new Error("signSchnorr not supported by ecc library");return n.from(e.signSchnorr(t,this.privateKey))}verify(t,r){return e.verify(t,this.publicKey,r)}verifySchnorr(t,r){if(!e.verifySchnorr)throw new Error("verifySchnorr not supported by ecc library");return e.verifySchnorr(t,this.publicKey.subarray(1,33),r)}tweakFromPublicKey(t){const i=32===(o=this.publicKey).length?o:o.slice(1,33);var o;const s=e.xOnlyPointAddTweak(i,t);if(!s||null===s.xOnlyPubkey)throw new Error("Cannot tweak public key!");const a=n.from([0===s.parity?2:3]);return r(n.concat([a,s.xOnlyPubkey]),{network:this.network,compressed:this.compressed})}tweakFromPrivateKey(r){const i=3===this.publicKey[0]||4===this.publicKey[0]&&1===(1&this.publicKey[64])?e.privateNegate(this.privateKey):this.privateKey,o=e.privateAdd(i,r);if(!o)throw new Error("Invalid tweaked private key!");return t(n.from(o),{network:this.network,compressed:this.compressed})}}return{isPoint:function(t){return e.isPoint(t)},fromPrivateKey:t,fromPublicKey:r,fromWIF:function(e,r){const n=a.decode(e),s=n.version;if(o.Array(r)){if(!(r=r.filter((e=>s===e.wif)).pop()))throw new Error("Unknown network version")}else if(r=r||i.bitcoin,s!==r.wif)throw new Error("Invalid network version");return t(n.privateKey,{compressed:n.compressed,network:r})},makeRandom:function(r){o.typeforce(c,r),void 0===r&&(r={});const n=r.rng||s;let i;do{i=n(32),o.typeforce(o.Buffer256bit,i)}while(!e.isPrivate(i));return t(i,r)}}}},qhfd:(e,t,r)=>{"use strict";var n=r("divi")},foU8:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.testnet=t.bitcoin=void 0,t.bitcoin={messagePrefix:"\x18Bitcoin Signed Message:\n",bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},t.testnet={messagePrefix:"\x18Bitcoin Signed Message:\n",bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}},pG4a:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.testEcc=void 0;const i=e=>n.from(e,"hex");function o(e){if(!e)throw new Error("ecc library invalid")}t.testEcc=function(e){o(e.isPoint(i("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),o(!e.isPoint(i("030000000000000000000000000000000000000000000000000000000000000005"))),o(e.isPrivate(i("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),o(e.isPrivate(i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))),o(!e.isPrivate(i("0000000000000000000000000000000000000000000000000000000000000000"))),o(!e.isPrivate(i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"))),o(!e.isPrivate(i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364142"))),o(n.from(e.privateAdd(i("0000000000000000000000000000000000000000000000000000000000000001"),i("0000000000000000000000000000000000000000000000000000000000000000"))).equals(i("0000000000000000000000000000000000000000000000000000000000000001"))),o(null===e.privateAdd(i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036413e"),i("0000000000000000000000000000000000000000000000000000000000000003"))),o(n.from(e.privateAdd(i("e211078564db65c3ce7704f08262b1f38f1ef412ad15b5ac2d76657a63b2c500"),i("b51fbb69051255d1becbd683de5848242a89c229348dd72896a87ada94ae8665"))).equals(i("9730c2ee69edbb958d42db7460bafa18fef9d955325aec99044c81c8282b0a24"))),o(n.from(e.privateNegate(i("0000000000000000000000000000000000000000000000000000000000000001"))).equals(i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))),o(n.from(e.privateNegate(i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd036413e"))).equals(i("0000000000000000000000000000000000000000000000000000000000000003"))),o(n.from(e.privateNegate(i("b1121e4088a66a28f5b6b0f5844943ecd9f610196d7bb83b25214b60452c09af"))).equals(i("4eede1bf775995d70a494f0a7bb6bc11e0b8cccd41cce8009ab1132c8b0a3792"))),o(n.from(e.pointCompress(i("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"),!0)).equals(i("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),o(n.from(e.pointCompress(i("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"),!1)).equals(i("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"))),o(n.from(e.pointCompress(i("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),!0)).equals(i("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"))),o(n.from(e.pointCompress(i("0279be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),!1)).equals(i("0479be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8"))),o(n.from(e.pointFromScalar(i("b1121e4088a66a28f5b6b0f5844943ecd9f610196d7bb83b25214b60452c09af"))).equals(i("02b07ba9dca9523b7ef4bd97703d43d20399eb698e194704791a25ce77a400df99"))),o(null===e.xOnlyPointAddTweak(i("79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140")));let t=e.xOnlyPointAddTweak(i("1617d38ed8d8657da4d4761e8057bc396ea9e4b9d29776d4be096016dbd2509b"),i("a8397a935f0dfceba6ba9618f6451ef4d80637abf4e6af2669fbc9de6a8fd2ac"));o(n.from(t.xOnlyPubkey).equals(i("e478f99dab91052ab39a33ea35fd5e6e4933f4d28023cd597c9a1f6760346adf"))&&1===t.parity),t=e.xOnlyPointAddTweak(i("2c0b7cf95324a07d05398b240174dc0c2be444d96b159aa6c7f7b1e668680991"),i("823c3cd2142744b075a87eade7e1b8678ba308d566226a0056ca2b7a76f86b47")),o(n.from(t.xOnlyPubkey).equals(i("9534f8dc8c6deda2dc007655981c78b49c5d96c778fbf363462a11ec9dfd948c"))&&0===t.parity),o(n.from(e.sign(i("5e9f0a0d593efdcf78ac923bc3313e4e7d408d574354ee2b3288c0da9fbba6ed"),i("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364140"))).equals(i("54c4a33c6423d689378f160a7ff8b61330444abb58fb470f96ea16d99d4a2fed07082304410efa6b2943111b6a4e0aaa7b7db55a07e9861d1fb3cb1f421044a5"))),o(e.verify(i("5e9f0a0d593efdcf78ac923bc3313e4e7d408d574354ee2b3288c0da9fbba6ed"),i("0379be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),i("54c4a33c6423d689378f160a7ff8b61330444abb58fb470f96ea16d99d4a2fed07082304410efa6b2943111b6a4e0aaa7b7db55a07e9861d1fb3cb1f421044a5"))),e.signSchnorr&&o(n.from(e.signSchnorr(i("7e2d58d8b3bcdf1abadec7829054f90dda9805aab56c77333024b9d0a508b75c"),i("c90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b14e5c9"),i("c87aa53824b4d7ae2eb035a2b5bbbccc080e76cdc6d1692c4b0b62d798e6d906"))).equals(i("5831aaeed7b44bb74e5eab94ba9d4294c49bcf2a60728d8b4c200f50dd313c1bab745879a5ad954a72c45a91c3a51d3c7adea98d82f8481e0e1e03674a6f3fb7"))),e.verifySchnorr&&o(e.verifySchnorr(i("7e2d58d8b3bcdf1abadec7829054f90dda9805aab56c77333024b9d0a508b75c"),i("dd308afec5777e13121fa72b9cc1b7cc0139715309b086c960e18fd969774eb8"),i("5831aaeed7b44bb74e5eab94ba9d4294c49bcf2a60728d8b4c200f50dd313c1bab745879a5ad954a72c45a91c3a51d3c7adea98d82f8481e0e1e03674a6f3fb7")))}},"2vvW":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maybe=t.Boolean=t.Array=t.Buffer256bit=t.Network=t.typeforce=void 0,t.typeforce=r("MAwK"),t.Network=t.typeforce.compile({messagePrefix:t.typeforce.oneOf(t.typeforce.Buffer,t.typeforce.String),bip32:{public:t.typeforce.UInt32,private:t.typeforce.UInt32},pubKeyHash:t.typeforce.UInt8,scriptHash:t.typeforce.UInt8,wif:t.typeforce.UInt8}),t.Buffer256bit=t.typeforce.BufferN(32),t.Array=t.typeforce.Array,t.Boolean=t.typeforce.Boolean,t.maybe=t.typeforce.maybe},iwBn:(e,t,r)=>{"use strict";var n=t;n.version=r("kgG6").i8,n.utils=r("3pll"),n.rand=r("Ik2E"),n.curve=r("CHUK"),n.curves=r("jKA9"),n.ec=r("1+Uz"),n.eddsa=r("aqDV")},l4KP:(e,t,r)=>{"use strict";var n=r("ych1"),i=r("3pll"),o=i.getNAF,s=i.getJSF,a=i.assert;function u(e,t){this.type=e,this.p=new n(t.p,16),this.red=t.prime?n.red(t.prime):n.mont(this.p),this.zero=new n(0).toRed(this.red),this.one=new n(1).toRed(this.red),this.two=new n(2).toRed(this.red),this.n=t.n&&new n(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function c(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(e,t){a(e.precomputed);var r=e._getDoubles(),n=o(t,1,this._bitLength),i=(1<<r.step+1)-(r.step%2===0?2:1);i/=3;var s,u,c=[];for(s=0;s<n.length;s+=r.step){u=0;for(var f=s+r.step-1;f>=s;f--)u=(u<<1)+n[f];c.push(u)}for(var l=this.jpoint(null,null,null),h=this.jpoint(null,null,null),d=i;d>0;d--){for(s=0;s<c.length;s++)(u=c[s])===d?h=h.mixedAdd(r.points[s]):u===-d&&(h=h.mixedAdd(r.points[s].neg()));l=l.add(h)}return l.toP()},u.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,s=o(t,r,this._bitLength),u=this.jpoint(null,null,null),c=s.length-1;c>=0;c--){for(var f=0;c>=0&&0===s[c];c--)f++;if(c>=0&&f++,u=u.dblp(f),c<0)break;var l=s[c];a(0!==l),u="affine"===e.type?l>0?u.mixedAdd(i[l-1>>1]):u.mixedAdd(i[-l-1>>1].neg()):l>0?u.add(i[l-1>>1]):u.add(i[-l-1>>1].neg())}return"affine"===e.type?u.toP():u},u.prototype._wnafMulAdd=function(e,t,r,n,i){var a,u,c,f=this._wnafT1,l=this._wnafT2,h=this._wnafT3,d=0;for(a=0;a<n;a++){var p=(c=t[a])._getNAFPoints(e);f[a]=p.wnd,l[a]=p.points}for(a=n-1;a>=1;a-=2){var g=a-1,y=a;if(1===f[g]&&1===f[y]){var m=[t[g],null,null,t[y]];0===t[g].y.cmp(t[y].y)?(m[1]=t[g].add(t[y]),m[2]=t[g].toJ().mixedAdd(t[y].neg())):0===t[g].y.cmp(t[y].y.redNeg())?(m[1]=t[g].toJ().mixedAdd(t[y]),m[2]=t[g].add(t[y].neg())):(m[1]=t[g].toJ().mixedAdd(t[y]),m[2]=t[g].toJ().mixedAdd(t[y].neg()));var b=[-3,-1,-5,-7,0,7,5,1,3],w=s(r[g],r[y]);for(d=Math.max(w[0].length,d),h[g]=new Array(d),h[y]=new Array(d),u=0;u<d;u++){var v=0|w[0][u],_=0|w[1][u];h[g][u]=b[3*(v+1)+(_+1)],h[y][u]=0,l[g]=m}}else h[g]=o(r[g],f[g],this._bitLength),h[y]=o(r[y],f[y],this._bitLength),d=Math.max(h[g].length,d),d=Math.max(h[y].length,d)}var S=this.jpoint(null,null,null),E=this._wnafT4;for(a=d;a>=0;a--){for(var A=0;a>=0;){var x=!0;for(u=0;u<n;u++)E[u]=0|h[u][a],0!==E[u]&&(x=!1);if(!x)break;A++,a--}if(a>=0&&A++,S=S.dblp(A),a<0)break;for(u=0;u<n;u++){var k=E[u];0!==k&&(k>0?c=l[u][k-1>>1]:k<0&&(c=l[u][-k-1>>1].neg()),S="affine"===c.type?S.mixedAdd(c):S.add(c))}}for(a=0;a<n;a++)l[a]=null;return i?S:S.toP()},u.BasePoint=c,c.prototype.eq=function(){throw new Error("Not implemented")},c.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1===2*r)return 6===e[0]?a(e[e.length-1]%2===0):7===e[0]&&a(e[e.length-1]%2===1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},c.prototype.encodeCompressed=function(e){return this.encode(e,!0)},c.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},c.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},c.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},c.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},c.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)n=n.dbl();r.push(n)}return{step:e,points:r}},c.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},c.prototype._getBeta=function(){return null},c.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}},PYb0:(e,t,r)=>{"use strict";var n=r("3pll"),i=r("ych1"),o=r("f9x7"),s=r("l4KP"),a=n.assert;function u(e){this.twisted=1!==(0|e.a),this.mOneA=this.twisted&&-1===(0|e.a),this.extended=this.mOneA,s.call(this,"edwards",e),this.a=new i(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1===(0|e.c)}function c(e,t,r,n,o){s.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(t,16),this.y=new i(r,16),this.z=n?new i(n,16):this.curve.one,this.t=o&&new i(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(u,s),e.exports=u,u.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},u.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},u.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},u.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),o=this.one.redSub(this.c2.redMul(this.d).redMul(r)),s=n.redMul(o.redInvm()),a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");var u=a.fromRed().isOdd();return(t&&!u||!t&&u)&&(a=a.redNeg()),this.point(e,a)},u.prototype.pointFromY=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),o=r.redMul(this.d).redMul(this.c2).redSub(this.a),s=n.redMul(o.redInvm());if(0===s.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var a=s.redSqrt();if(0!==a.redSqr().redSub(s).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==t&&(a=a.redNeg()),this.point(a,e)},u.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},o(c,s.BasePoint),u.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},u.prototype.point=function(e,t,r,n){return new c(this,e,t,r,n)},c.fromJSON=function(e,t){return new c(e,t[0],t[1],t[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},c.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=n.redAdd(t),s=o.redSub(r),a=n.redSub(t),u=i.redMul(s),c=o.redMul(a),f=i.redMul(a),l=s.redMul(o);return this.curve.point(u,c,l,f)},c.prototype._projDbl=function(){var e,t,r,n,i,o,s=this.x.redAdd(this.y).redSqr(),a=this.x.redSqr(),u=this.y.redSqr();if(this.curve.twisted){var c=(n=this.curve._mulA(a)).redAdd(u);this.zOne?(e=s.redSub(a).redSub(u).redMul(c.redSub(this.curve.two)),t=c.redMul(n.redSub(u)),r=c.redSqr().redSub(c).redSub(c)):(i=this.z.redSqr(),o=c.redSub(i).redISub(i),e=s.redSub(a).redISub(u).redMul(o),t=c.redMul(n.redSub(u)),r=c.redMul(o))}else n=a.redAdd(u),i=this.curve._mulC(this.z).redSqr(),o=n.redSub(i).redSub(i),e=this.curve._mulC(s.redISub(n)).redMul(o),t=this.curve._mulC(n).redMul(a.redISub(u)),r=n.redMul(o);return this.curve.point(e,t,r)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=r.redSub(t),s=i.redSub(n),a=i.redAdd(n),u=r.redAdd(t),c=o.redMul(s),f=a.redMul(u),l=o.redMul(u),h=s.redMul(a);return this.curve.point(c,f,h,l)},c.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),o=this.x.redMul(e.x),s=this.y.redMul(e.y),a=this.curve.d.redMul(o).redMul(s),u=i.redSub(a),c=i.redAdd(a),f=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(s),l=n.redMul(u).redMul(f);return this.curve.twisted?(t=n.redMul(c).redMul(s.redSub(this.curve._mulA(o))),r=u.redMul(c)):(t=n.redMul(c).redMul(s.redSub(o)),r=this.curve._mulC(u).redMul(c)),this.curve.point(l,t,r)},c.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},c.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},c.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},c.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},c.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add},CHUK:(e,t,r)=>{"use strict";var n=t;n.base=r("l4KP"),n.short=r("hi6n"),n.mont=r("cOLQ"),n.edwards=r("PYb0")},cOLQ:(e,t,r)=>{"use strict";var n=r("ych1"),i=r("f9x7"),o=r("l4KP"),s=r("3pll");function a(e){o.call(this,"mont",e),this.a=new n(e.a,16).toRed(this.red),this.b=new n(e.b,16).toRed(this.red),this.i4=new n(4).toRed(this.red).redInvm(),this.two=new n(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(e,t,r){o.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new n(t,16),this.z=new n(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(a,o),e.exports=a,a.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},i(u,o.BasePoint),a.prototype.decodePoint=function(e,t){return this.point(s.toArray(e,t),1)},a.prototype.point=function(e,t){return new u(this,e,t)},a.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(e,t){return new u(e,t[0],t[1]||e.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},u.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(r),s=i.redMul(n),a=t.z.redMul(o.redAdd(s).redSqr()),u=t.x.redMul(o.redISub(s).redSqr());return this.curve.point(a,u)},u.prototype.mul=function(e){for(var t=e.clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},hi6n:(e,t,r)=>{"use strict";var n=r("3pll"),i=r("ych1"),o=r("f9x7"),s=r("l4KP"),a=n.assert;function u(e){s.call(this,"short",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function c(e,t,r,n){s.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(t,16),this.y=new i(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function f(e,t,r,n){s.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(t,16),this.y=new i(r,16),this.z=new i(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(u,s),e.exports=u,u.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new i(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new i(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?r=o[0]:(r=o[1],a(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new i(e.a,16),b:new i(e.b,16)}})):this._getEndoBasis(r)}}},u.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:i.mont(e),r=new i(2).toRed(t).redInvm(),n=r.redNeg(),o=new i(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(o).fromRed(),n.redSub(o).fromRed()]},u.prototype._getEndoBasis=function(e){for(var t,r,n,o,s,a,u,c,f,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=e,d=this.n.clone(),p=new i(1),g=new i(0),y=new i(0),m=new i(1),b=0;0!==h.cmpn(0);){var w=d.div(h);c=d.sub(w.mul(h)),f=y.sub(w.mul(p));var v=m.sub(w.mul(g));if(!n&&c.cmp(l)<0)t=u.neg(),r=p,n=c.neg(),o=f;else if(n&&2===++b)break;u=c,d=h,h=c,y=p,p=f,m=g,g=v}s=c.neg(),a=f;var _=n.sqr().add(o.sqr());return s.sqr().add(a.sqr()).cmp(_)>=0&&(s=t,a=r),n.negative&&(n=n.neg(),o=o.neg()),s.negative&&(s=s.neg(),a=a.neg()),[{a:n,b:o},{a:s,b:a}]},u.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),o=r.b.neg().mul(e).divRound(this.n),s=i.mul(r.a),a=o.mul(n.a),u=i.mul(r.b),c=o.mul(n.b);return{k1:e.sub(s).sub(a),k2:u.add(c).neg()}},u.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var o=n.fromRed().isOdd();return(t&&!o||!t&&o)&&(n=n.redNeg()),this.point(e,n)},u.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},u.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var s=this._endoSplit(t[o]),a=e[o],u=a._getBeta();s.k1.negative&&(s.k1.ineg(),a=a.neg(!0)),s.k2.negative&&(s.k2.ineg(),u=u.neg(!0)),n[2*o]=a,n[2*o+1]=u,i[2*o]=s.k1,i[2*o+1]=s.k2}for(var c=this._wnafMulAdd(1,n,i,2*o,r),f=0;f<2*o;f++)n[f]=null,i[f]=null;return c},o(c,s.BasePoint),u.prototype.point=function(e,t,r){return new c(this,e,t,r)},u.prototype.pointFromJSON=function(e,t){return c.fromJSON(this,e,t)},c.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(e,t,r){"string"===typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var o=t[2];return n.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[n].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[n].concat(o.naf.points.map(i))}},n},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},c.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),o=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,s)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(e){return e=new i(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},c.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},c.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},c.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},c.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},c.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(f,s.BasePoint),u.prototype.jpoint=function(e,t,r){return new f(this,e,t,r)},f.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},f.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},f.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),o=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),a=n.redSub(i),u=o.redSub(s);if(0===a.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=a.redSqr(),f=c.redMul(a),l=n.redMul(c),h=u.redSqr().redIAdd(f).redISub(l).redISub(l),d=u.redMul(l.redISub(h)).redISub(o.redMul(f)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(h,d,p)},f.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),s=r.redSub(n),a=i.redSub(o);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=s.redSqr(),c=u.redMul(s),f=r.redMul(u),l=a.redSqr().redIAdd(c).redISub(f).redISub(f),h=a.redMul(f.redISub(l)).redISub(i.redMul(c)),d=this.z.redMul(s);return this.curve.jpoint(l,h,d)},f.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var t;if(this.curve.zeroA||this.curve.threeA){var r=this;for(t=0;t<e;t++)r=r.dbl();return r}var n=this.curve.a,i=this.curve.tinv,o=this.x,s=this.y,a=this.z,u=a.redSqr().redSqr(),c=s.redAdd(s);for(t=0;t<e;t++){var f=o.redSqr(),l=c.redSqr(),h=l.redSqr(),d=f.redAdd(f).redIAdd(f).redIAdd(n.redMul(u)),p=o.redMul(l),g=d.redSqr().redISub(p.redAdd(p)),y=p.redISub(g),m=d.redMul(y);m=m.redIAdd(m).redISub(h);var b=c.redMul(a);t+1<e&&(u=u.redMul(h)),o=g,a=b,c=m}return this.curve.jpoint(o,c.redMul(i),a)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},f.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),u=a.redSqr().redISub(s).redISub(s),c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),e=u,t=a.redMul(s.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),l=this.y.redSqr(),h=l.redSqr(),d=this.x.redAdd(l).redSqr().redISub(f).redISub(h);d=d.redIAdd(d);var p=f.redAdd(f).redIAdd(f),g=p.redSqr(),y=h.redIAdd(h);y=(y=y.redIAdd(y)).redIAdd(y),e=g.redISub(d).redISub(d),t=p.redMul(d.redISub(e)).redISub(y),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},f.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(o);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),u=a.redSqr().redISub(s).redISub(s);e=u;var c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),t=a.redMul(s.redISub(u)).redISub(c),r=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),l=this.y.redSqr(),h=this.x.redMul(l),d=this.x.redSub(f).redMul(this.x.redAdd(f));d=d.redAdd(d).redIAdd(d);var p=h.redIAdd(h),g=(p=p.redIAdd(p)).redAdd(p);e=d.redSqr().redISub(g),r=this.y.redAdd(this.z).redSqr().redISub(l).redISub(f);var y=l.redSqr();y=(y=(y=y.redIAdd(y)).redIAdd(y)).redIAdd(y),t=d.redMul(p.redISub(e)).redISub(y)}return this.curve.jpoint(e,t,r)},f.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),o=t.redSqr(),s=r.redSqr(),a=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),u=t.redAdd(t),c=(u=u.redIAdd(u)).redMul(s),f=a.redSqr().redISub(c.redAdd(c)),l=c.redISub(f),h=s.redSqr();h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var d=a.redMul(l).redISub(h),p=r.redAdd(r).redMul(n);return this.curve.jpoint(f,d,p)},f.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),a=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(o)).redSqr(),u=n.redIAdd(n);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var c=i.redIAdd(s).redSqr().redISub(o).redISub(a).redISub(u),f=t.redMul(c);f=(f=f.redIAdd(f)).redIAdd(f);var l=this.x.redMul(a).redISub(f);l=(l=l.redIAdd(l)).redIAdd(l);var h=this.y.redMul(c.redMul(u.redISub(c)).redISub(s.redMul(a)));h=(h=(h=h.redIAdd(h)).redIAdd(h)).redIAdd(h);var d=this.z.redAdd(s).redSqr().redISub(r).redISub(a);return this.curve.jpoint(l,h,d)},f.prototype.mul=function(e,t){return e=new i(e,t),this.curve._wnafMul(this,e)},f.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},f.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},f.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},f.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},jKA9:(e,t,r)=>{"use strict";var n,i=t,o=r("iFUI"),s=r("CHUK"),a=r("3pll").assert;function u(e){"short"===e.type?this.curve=new s.short(e):"edwards"===e.type?this.curve=new s.edwards(e):this.curve=new s.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,a(this.g.validate(),"Invalid curve"),a(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var r=new u(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:r}),r}})}i.PresetCurve=u,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{n=r("e7aP")}catch(f){n=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",n]})},"1+Uz":(e,t,r)=>{"use strict";var n=r("ych1"),i=r("SdAz"),o=r("3pll"),s=r("jKA9"),a=r("Ik2E"),u=o.assert,c=r("GAiI"),f=r("3csZ");function l(e){if(!(this instanceof l))return new l(e);"string"===typeof e&&(u(Object.prototype.hasOwnProperty.call(s,e),"Unknown curve "+e),e=s[e]),e instanceof s.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=l,l.prototype.keyPair=function(e){return new c(this,e)},l.prototype.keyFromPrivate=function(e,t){return c.fromPrivate(this,e,t)},l.prototype.keyFromPublic=function(e,t){return c.fromPublic(this,e,t)},l.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||a(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),r=this.n.byteLength(),o=this.n.sub(new n(2));;){var s=new n(t.generate(r));if(!(s.cmp(o)>0))return s.iaddn(1),this.keyFromPrivate(s)}},l.prototype._truncateToN=function(e,t,r){var i;if(n.isBN(e)||"number"===typeof e)i=(e=new n(e,16)).byteLength();else if("object"===typeof e)i=e.length,e=new n(e,16);else{var o=e.toString();i=o.length+1>>>1,e=new n(o,16)}"number"!==typeof r&&(r=8*i);var s=r-this.n.bitLength();return s>0&&(e=e.ushrn(s)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},l.prototype.sign=function(e,t,r,o){if("object"===typeof r&&(o=r,r=null),o||(o={}),"string"!==typeof e&&"number"!==typeof e&&!n.isBN(e)){u("object"===typeof e&&e&&"number"===typeof e.length,"Expected message to be an array-like, a hex string, or a BN instance"),u(e.length>>>0===e.length);for(var s=0;s<e.length;s++)u((255&e[s])===e[s])}t=this.keyFromPrivate(t,r),e=this._truncateToN(e,!1,o.msgBitLength),u(!e.isNeg(),"Can not sign a negative message");var a=this.n.byteLength(),c=t.getPrivate().toArray("be",a),l=e.toArray("be",a);u(new n(l).eq(e),"Can not sign message");for(var h=new i({hash:this.hash,entropy:c,nonce:l,pers:o.pers,persEnc:o.persEnc||"utf8"}),d=this.n.sub(new n(1)),p=0;;p++){var g=o.k?o.k(p):new n(h.generate(this.n.byteLength()));if(!((g=this._truncateToN(g,!0)).cmpn(1)<=0||g.cmp(d)>=0)){var y=this.g.mul(g);if(!y.isInfinity()){var m=y.getX(),b=m.umod(this.n);if(0!==b.cmpn(0)){var w=g.invm(this.n).mul(b.mul(t.getPrivate()).iadd(e));if(0!==(w=w.umod(this.n)).cmpn(0)){var v=(y.getY().isOdd()?1:0)|(0!==m.cmp(b)?2:0);return o.canonical&&w.cmp(this.nh)>0&&(w=this.n.sub(w),v^=1),new f({r:b,s:w,recoveryParam:v})}}}}}},l.prototype.verify=function(e,t,r,n,i){i||(i={}),e=this._truncateToN(e,!1,i.msgBitLength),r=this.keyFromPublic(r,n);var o=(t=new f(t,"hex")).r,s=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a,u=s.invm(this.n),c=u.mul(e).umod(this.n),l=u.mul(o).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(c,r.getPublic(),l)).isInfinity()&&a.eqXToP(o):!(a=this.g.mulAdd(c,r.getPublic(),l)).isInfinity()&&0===a.getX().umod(this.n).cmp(o)},l.prototype.recoverPubKey=function(e,t,r,i){u((3&r)===r,"The recovery param is more than two bits"),t=new f(t,i);var o=this.n,s=new n(e),a=t.r,c=t.s,l=1&r,h=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&h)throw new Error("Unable to find sencond key candinate");a=h?this.curve.pointFromX(a.add(this.curve.n),l):this.curve.pointFromX(a,l);var d=t.r.invm(o),p=o.sub(s).mul(d).umod(o),g=c.mul(d).umod(o);return this.g.mulAdd(p,a,g)},l.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new f(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(r))return i}throw new Error("Unable to find valid recovery factor")}},GAiI:(e,t,r)=>{"use strict";var n=r("ych1"),i=r("3pll").assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=o,o.fromPublic=function(e,t,r){return t instanceof o?t:new o(e,{pub:t,pubEnc:r})},o.fromPrivate=function(e,t,r){return t instanceof o?t:new o(e,{priv:t,privEnc:r})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return"string"===typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new n(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.validate()||i(e.validate(),"public point not validated"),e.mul(this.priv).getX()},o.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},o.prototype.verify=function(e,t,r){return this.ec.verify(e,t,this,void 0,r)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},"3csZ":(e,t,r)=>{"use strict";var n=r("ych1"),i=r("3pll"),o=i.assert;function s(e,t){if(e instanceof s)return e;this._importDER(e,t)||(o(e.r&&e.s,"Signature without r or s"),this.r=new n(e.r,16),this.s=new n(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function a(){this.place=0}function u(e,t){var r=e[t.place++];if(!(128&r))return r;var n=15&r;if(0===n||n>4)return!1;if(0===e[t.place])return!1;for(var i=0,o=0,s=t.place;o<n;o++,s++)i<<=8,i|=e[s],i>>>=0;return!(i<=127)&&(t.place=s,i)}function c(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function f(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}e.exports=s,s.prototype._importDER=function(e,t){e=i.toArray(e,t);var r=new a;if(48!==e[r.place++])return!1;var o=u(e,r);if(!1===o)return!1;if(o+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var s=u(e,r);if(!1===s)return!1;if(0!==(128&e[r.place]))return!1;var c=e.slice(r.place,s+r.place);if(r.place+=s,2!==e[r.place++])return!1;var f=u(e,r);if(!1===f)return!1;if(e.length!==f+r.place)return!1;if(0!==(128&e[r.place]))return!1;var l=e.slice(r.place,f+r.place);if(0===c[0]){if(!(128&c[1]))return!1;c=c.slice(1)}if(0===l[0]){if(!(128&l[1]))return!1;l=l.slice(1)}return this.r=new n(c),this.s=new n(l),this.recoveryParam=null,!0},s.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=c(t),r=c(r);!r[0]&&!(128&r[1]);)r=r.slice(1);var n=[2];f(n,t.length),(n=n.concat(t)).push(2),f(n,r.length);var o=n.concat(r),s=[48];return f(s,o.length),s=s.concat(o),i.encode(s,e)}},aqDV:(e,t,r)=>{"use strict";var n=r("iFUI"),i=r("jKA9"),o=r("3pll"),s=o.assert,a=o.parseBytes,u=r("w3/z"),c=r("4NCF");function f(e){if(s("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof f))return new f(e);e=i[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=n.sha512}e.exports=f,f.prototype.sign=function(e,t){e=a(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),o=this.encodePoint(i),s=this.hashInt(o,r.pubBytes(),e).mul(r.priv()),u=n.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:u,Rencoded:o})},f.prototype.verify=function(e,t,r){if(e=a(e),(t=this.makeSignature(t)).S().gte(t.eddsa.curve.n)||t.S().isNeg())return!1;var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(o)},f.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},f.prototype.keyFromPublic=function(e){return u.fromPublic(this,e)},f.prototype.keyFromSecret=function(e){return u.fromSecret(this,e)},f.prototype.makeSignature=function(e){return e instanceof c?e:new c(this,e)},f.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},f.prototype.decodePoint=function(e){var t=(e=o.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=0!==(128&e[t]),i=o.intFromLE(r);return this.curve.pointFromY(i,n)},f.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},f.prototype.decodeInt=function(e){return o.intFromLE(e)},f.prototype.isPoint=function(e){return e instanceof this.pointClass}},"w3/z":(e,t,r)=>{"use strict";var n=r("3pll"),i=n.assert,o=n.parseBytes,s=n.cachedProperty;function a(e,t){this.eddsa=e,this._secret=o(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=o(t.pub)}a.fromPublic=function(e,t){return t instanceof a?t:new a(e,{pub:t})},a.fromSecret=function(e,t){return t instanceof a?t:new a(e,{secret:t})},a.prototype.secret=function(){return this._secret},s(a,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),s(a,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),s(a,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),s(a,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),s(a,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),s(a,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),a.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},a.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},a.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),n.encode(this.secret(),e)},a.prototype.getPublic=function(e){return n.encode(this.pubBytes(),e)},e.exports=a},"4NCF":(e,t,r)=>{"use strict";var n=r("ych1"),i=r("3pll"),o=i.assert,s=i.cachedProperty,a=i.parseBytes;function u(e,t){this.eddsa=e,"object"!==typeof t&&(t=a(t)),Array.isArray(t)&&(o(t.length===2*e.encodingLength,"Signature has invalid size"),t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),o(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof n&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}s(u,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),s(u,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),s(u,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),s(u,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=u},e7aP:e=>{e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},"3pll":(e,t,r)=>{"use strict";var n=t,i=r("ych1"),o=r("oeHn"),s=r("oWan");n.assert=o,n.toArray=s.toArray,n.zero2=s.zero2,n.toHex=s.toHex,n.encode=s.encode,n.getNAF=function(e,t,r){var n,i=new Array(Math.max(e.bitLength(),r)+1);for(n=0;n<i.length;n+=1)i[n]=0;var o=1<<t+1,s=e.clone();for(n=0;n<i.length;n++){var a,u=s.andln(o-1);s.isOdd()?(a=u>(o>>1)-1?(o>>1)-u:u,s.isubn(a)):a=0,i[n]=a,s.iushrn(1)}return i},n.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n,i=0,o=0;e.cmpn(-i)>0||t.cmpn(-o)>0;){var s,a,u=e.andln(3)+i&3,c=t.andln(3)+o&3;3===u&&(u=-1),3===c&&(c=-1),s=0===(1&u)?0:3!==(n=e.andln(7)+i&7)&&5!==n||2!==c?u:-u,r[0].push(s),a=0===(1&c)?0:3!==(n=t.andln(7)+o&7)&&5!==n||2!==u?c:-c,r[1].push(a),2*i===s+1&&(i=1-i),2*o===a+1&&(o=1-o),e.iushrn(1),t.iushrn(1)}return r},n.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},n.parseBytes=function(e){return"string"===typeof e?n.toArray(e,"hex"):e},n.intFromLE=function(e){return new i(e,"hex","le")}},"q+2T":e=>{"use strict";var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch(r){t=!1}e.exports=t},"64Lr":e=>{"use strict";e.exports=EvalError},VmBS:e=>{"use strict";e.exports=Error},tH1R:e=>{"use strict";e.exports=RangeError},cnJy:e=>{"use strict";e.exports=ReferenceError},dDPE:e=>{"use strict";e.exports=SyntaxError},"51A+":e=>{"use strict";e.exports=TypeError},"8S0i":e=>{"use strict";e.exports=URIError},"dK+u":e=>{"use strict";e.exports=Object},tBzj:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.createHashFunction=function(e){return function(t){var r=e();return r.update(t),n.from(r.digest())}}},z474:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("tBzj"),i=r("SaDX");t.keccak224=n.createHashFunction((function(){return i("keccak224")})),t.keccak256=n.createHashFunction((function(){return i("keccak256")})),t.keccak384=n.createHashFunction((function(){return i("keccak384")})),t.keccak512=n.createHashFunction((function(){return i("keccak512")}))},"6CI4":(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("O66I");t.getRandomBytes=function(e){return new Promise((function(t,r){n(e,(function(e,n){e?r(e):t(n)}))}))},t.getRandomBytesSync=function(e){return n(e)}},vfh3:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(t){o(t)}}function a(e){try{u(n.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=r("F4ci"),s=r("6CI4");t.createPrivateKey=function(){return n(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:return[4,s.getRandomBytes(32)];case 1:return e=t.sent(),o.privateKeyVerify(e)?[2,e]:[3,0];case 2:return[2]}}))}))},t.createPrivateKeySync=function(){for(;;){var e=s.getRandomBytesSync(32);if(o.privateKeyVerify(e))return e}},function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r("F4ci"))},lg2E:(e,t,r)=>{e.exports=r("PtGi")},PtGi:(e,t,r)=>{var n=r("Dp+g").Buffer;const i=r("ydGz"),o=r("kFT3");var s=function(){};function a(e){return e.startsWith("int[")?"int256"+e.slice(3):"int"===e?"int256":e.startsWith("uint[")?"uint256"+e.slice(4):"uint"===e?"uint256":e.startsWith("fixed[")?"fixed128x128"+e.slice(5):"fixed"===e?"fixed128x128":e.startsWith("ufixed[")?"ufixed128x128"+e.slice(6):"ufixed"===e?"ufixed128x128":e}function u(e){return parseInt(/^\D+(\d+)$/.exec(e)[1],10)}function c(e){var t=/^\D+(\d+)x(\d+)$/.exec(e);return[parseInt(t[1],10),parseInt(t[2],10)]}function f(e){var t=e.match(/(.*)\[(.*?)\]$/);return t?""===t[2]?"dynamic":parseInt(t[2],10):null}function l(e){var t=typeof e;if("string"===t)return i.isHexPrefixed(e)?new o(i.stripHexPrefix(e),16):new o(e,10);if("number"===t)return new o(e);if(e.toArray)return e;throw new Error("Argument is not a number")}function h(e){var t=/^(\w+)\((.*)\)$/.exec(e);if(3!==t.length)throw new Error("Invalid method signature");var r=/^(.+)\):\((.+)$/.exec(t[2]);if(null!==r&&3===r.length)return{method:t[1],args:r[1].split(","),retargs:r[2].split(",")};var n=t[2].split(",");return 1===n.length&&""===n[0]&&(n=[]),{method:t[1],args:n}}function d(e,t){var r,s,a,h;if("address"===e)return d("uint160",l(t));if("bool"===e)return d("uint8",t?1:0);if("string"===e)return d("bytes",n.from(t,"utf8"));if(m(e)){if("undefined"===typeof t.length)throw new Error("Not an array?");if("dynamic"!==(r=f(e))&&0!==r&&t.length>r)throw new Error("Elements exceed array size: "+r);for(h in a=[],e=e.slice(0,e.lastIndexOf("[")),"string"===typeof t&&(t=JSON.parse(t)),t)a.push(d(e,t[h]));if("dynamic"===r){var p=d("uint256",t.length);a.unshift(p)}return n.concat(a)}if("bytes"===e)return t=n.from(t),a=n.concat([d("uint256",t.length),t]),t.length%32!==0&&(a=n.concat([a,i.zeros(32-t.length%32)])),a;if(e.startsWith("bytes")){if((r=u(e))<1||r>32)throw new Error("Invalid bytes<N> width: "+r);return i.setLengthRight(t,32)}if(e.startsWith("uint")){if((r=u(e))%8||r<8||r>256)throw new Error("Invalid uint<N> width: "+r);if((s=l(t)).bitLength()>r)throw new Error("Supplied uint exceeds width: "+r+" vs "+s.bitLength());if(s<0)throw new Error("Supplied uint is negative");return s.toArrayLike(n,"be",32)}if(e.startsWith("int")){if((r=u(e))%8||r<8||r>256)throw new Error("Invalid int<N> width: "+r);if((s=l(t)).bitLength()>r)throw new Error("Supplied int exceeds width: "+r+" vs "+s.bitLength());return s.toTwos(256).toArrayLike(n,"be",32)}if(e.startsWith("ufixed")){if(r=c(e),(s=l(t))<0)throw new Error("Supplied ufixed is negative");return d("uint256",s.mul(new o(2).pow(new o(r[1]))))}if(e.startsWith("fixed"))return r=c(e),d("int256",l(t).mul(new o(2).pow(new o(r[1]))));throw new Error("Unsupported or invalid type: "+e)}function p(e,t,r){var i,s,a,u;if("string"===typeof e&&(e=g(e)),"address"===e.name)return p(e.rawType,t,r).toArrayLike(n,"be",20).toString("hex");if("bool"===e.name)return p(e.rawType,t,r).toString()===new o(1).toString();if("string"===e.name){var c=p(e.rawType,t,r);return n.from(c,"utf8").toString()}if(e.isArray){for(a=[],i=e.size,"dynamic"===e.size&&(r=p("uint256",t,r).toNumber(),i=p("uint256",t,r).toNumber(),r+=32),u=0;u<i;u++){var f=p(e.subArray,t,r);a.push(f),r+=e.subArray.memoryUsage}return a}if("bytes"===e.name)return r=p("uint256",t,r).toNumber(),i=p("uint256",t,r).toNumber(),t.slice(r+32,r+32+i);if(e.name.startsWith("bytes"))return t.slice(r,r+e.size);if(e.name.startsWith("uint")){if((s=new o(t.slice(r,r+32),16,"be")).bitLength()>e.size)throw new Error("Decoded int exceeds width: "+e.size+" vs "+s.bitLength());return s}if(e.name.startsWith("int")){if((s=new o(t.slice(r,r+32),16,"be").fromTwos(256)).bitLength()>e.size)throw new Error("Decoded uint exceeds width: "+e.size+" vs "+s.bitLength());return s}if(e.name.startsWith("ufixed")){if(i=new o(2).pow(new o(e.size[1])),!(s=p("uint256",t,r)).mod(i).isZero())throw new Error("Decimals not supported yet");return s.div(i)}if(e.name.startsWith("fixed")){if(i=new o(2).pow(new o(e.size[1])),!(s=p("int256",t,r)).mod(i).isZero())throw new Error("Decimals not supported yet");return s.div(i)}throw new Error("Unsupported or invalid type: "+e.name)}function g(e){var t,r,n;if(m(e)){t=f(e);var i=e.slice(0,e.lastIndexOf("["));return i=g(i),r={isArray:!0,name:e,size:t,memoryUsage:"dynamic"===t?32:i.memoryUsage*t,subArray:i}}switch(e){case"address":n="uint160";break;case"bool":n="uint8";break;case"string":n="bytes"}if(r={rawType:n,name:e,memoryUsage:32},e.startsWith("bytes")&&"bytes"!==e||e.startsWith("uint")||e.startsWith("int")?r.size=u(e):(e.startsWith("ufixed")||e.startsWith("fixed"))&&(r.size=c(e)),e.startsWith("bytes")&&"bytes"!==e&&(r.size<1||r.size>32))throw new Error("Invalid bytes<N> width: "+r.size);if((e.startsWith("uint")||e.startsWith("int"))&&(r.size%8||r.size<8||r.size>256))throw new Error("Invalid int/uint<N> width: "+r.size);return r}function y(e){return"string"===e||"bytes"===e||"dynamic"===f(e)}function m(e){return e.lastIndexOf("]")===e.length-1}function b(e,t){return e.startsWith("address")||e.startsWith("bytes")?"0x"+t.toString("hex"):t.toString()}function w(e){return e>="0"&&e<="9"}s.eventID=function(e,t){var r=e+"("+t.map(a).join(",")+")";return i.keccak256(n.from(r))},s.methodID=function(e,t){return s.eventID(e,t).slice(0,4)},s.rawEncode=function(e,t){var r=[],i=[],o=0;e.forEach((function(e){if(m(e)){var t=f(e);o+="dynamic"!==t?32*t:32}else o+=32}));for(var s=0;s<e.length;s++){var u=a(e[s]),c=d(u,t[s]);y(u)?(r.push(d("uint256",o)),i.push(c),o+=c.length):r.push(c)}return n.concat(r.concat(i))},s.rawDecode=function(e,t){var r=[];t=n.from(t);for(var i=0,o=0;o<e.length;o++){var s=g(a(e[o])),u=p(s,t,i);i+=s.memoryUsage,r.push(u)}return r},s.simpleEncode=function(e){var t=Array.prototype.slice.call(arguments).slice(1),r=h(e);if(t.length!==r.args.length)throw new Error("Argument count mismatch");return n.concat([s.methodID(r.method,r.args),s.rawEncode(r.args,t)])},s.simpleDecode=function(e,t){var r=h(e);if(!r.retargs)throw new Error("No return values in method");return s.rawDecode(r.retargs,t)},s.stringify=function(e,t){var r=[];for(var n in e){var i=e[n],o=t[n];o=/^[^\[]+\[.*\]$/.test(i)?o.map((function(e){return b(i,e)})).join(", "):b(i,o),r.push(o)}return r},s.solidityHexValue=function(e,t,r){var o,a;if(m(e)){var c=e.replace(/\[.*?\]/,"");if(!m(c)){var h=f(e);if("dynamic"!==h&&0!==h&&t.length>h)throw new Error("Elements exceed array size: "+h)}var d=t.map((function(e){return s.solidityHexValue(c,e,256)}));return n.concat(d)}if("bytes"===e)return t;if("string"===e)return n.from(t,"utf8");if("bool"===e){r=r||8;var p=Array(r/4).join("0");return n.from(t?p+"1":p+"0","hex")}if("address"===e){var g=20;return r&&(g=r/8),i.setLengthLeft(t,g)}if(e.startsWith("bytes")){if((o=u(e))<1||o>32)throw new Error("Invalid bytes<N> width: "+o);return i.setLengthRight(t,o)}if(e.startsWith("uint")){if((o=u(e))%8||o<8||o>256)throw new Error("Invalid uint<N> width: "+o);if((a=l(t)).bitLength()>o)throw new Error("Supplied uint exceeds width: "+o+" vs "+a.bitLength());return r=r||o,a.toArrayLike(n,"be",r/8)}if(e.startsWith("int")){if((o=u(e))%8||o<8||o>256)throw new Error("Invalid int<N> width: "+o);if((a=l(t)).bitLength()>o)throw new Error("Supplied int exceeds width: "+o+" vs "+a.bitLength());return r=r||o,a.toTwos(o).toArrayLike(n,"be",r/8)}throw new Error("Unsupported or invalid type: "+e)},s.solidityPack=function(e,t){if(e.length!==t.length)throw new Error("Number of types are not matching the values");for(var r=[],i=0;i<e.length;i++){var o=a(e[i]),u=t[i];r.push(s.solidityHexValue(o,u,null))}return n.concat(r)},s.soliditySHA3=function(e,t){return i.keccak256(s.solidityPack(e,t))},s.soliditySHA256=function(e,t){return i.sha256(s.solidityPack(e,t))},s.solidityRIPEMD160=function(e,t){return i.ripemd160(s.solidityPack(e,t),!0)},s.fromSerpent=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];if("s"===n)t.push("bytes");else if("b"===n){for(var i="bytes",o=r+1;o<e.length&&w(e[o]);)i+=e[o]-"0",o++;r=o-1,t.push(i)}else if("i"===n)t.push("int256");else{if("a"!==n)throw new Error("Unsupported or invalid type: "+n);t.push("int256[]")}}return t},s.toSerpent=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];if("bytes"===n)t.push("s");else if(n.startsWith("bytes"))t.push("b"+u(n));else if("int256"===n)t.push("i");else{if("int256[]"!==n)throw new Error("Unsupported or invalid type: "+n);t.push("a")}}return t.join("")},e.exports=s},"h/58":(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.importPublic=t.privateToPublic=t.privateToAddress=t.publicToAddress=t.pubToAddress=t.isValidPublic=t.isValidPrivate=t.isPrecompiled=t.generateAddress2=t.generateAddress=t.isValidChecksumAddress=t.toChecksumAddress=t.isZeroAddress=t.isValidAddress=t.zeroAddress=void 0;var i=r("6eCo"),o=r("1mN/"),s=r("yGmA"),a=r("kFT3"),u=r("IHXb"),c=r("de62");t.zeroAddress=function(){var e=u.zeros(20);return u.bufferToHex(e)},t.isValidAddress=function(e){return/^0x[0-9a-fA-F]{40}$/.test(e)},t.isZeroAddress=function(e){return t.zeroAddress()===u.addHexPrefix(e)},t.toChecksumAddress=function(e,t){e=o.stripHexPrefix(e).toLowerCase();for(var r=void 0!==t?t.toString()+"0x":"",n=c.keccak(r+e).toString("hex"),i="0x",s=0;s<e.length;s++)parseInt(n[s],16)>=8?i+=e[s].toUpperCase():i+=e[s];return i},t.isValidChecksumAddress=function(e,r){return t.isValidAddress(e)&&t.toChecksumAddress(e,r)===e},t.generateAddress=function(e,t){e=u.toBuffer(e);var r=new a(t);return r.isZero()?c.rlphash([e,null]).slice(-20):c.rlphash([e,n.from(r.toArray())]).slice(-20)},t.generateAddress2=function(e,t,r){var o=u.toBuffer(e),s=u.toBuffer(t),a=u.toBuffer(r);return i(20===o.length),i(32===s.length),c.keccak256(n.concat([n.from("ff","hex"),o,s,c.keccak256(a)])).slice(-20)},t.isPrecompiled=function(e){var t=u.unpad(e);return 1===t.length&&t[0]>=1&&t[0]<=8},t.isValidPrivate=function(e){return s.privateKeyVerify(e)},t.isValidPublic=function(e,t){return void 0===t&&(t=!1),64===e.length?s.publicKeyVerify(n.concat([n.from([4]),e])):!!t&&s.publicKeyVerify(e)},t.pubToAddress=function(e,t){return void 0===t&&(t=!1),e=u.toBuffer(e),t&&64!==e.length&&(e=s.publicKeyConvert(e,!1).slice(1)),i(64===e.length),c.keccak(e).slice(-20)},t.publicToAddress=t.pubToAddress,t.privateToAddress=function(e){return t.publicToAddress(t.privateToPublic(e))},t.privateToPublic=function(e){return e=u.toBuffer(e),s.publicKeyCreate(e,!1).slice(1)},t.importPublic=function(e){return 64!==(e=u.toBuffer(e)).length&&(e=s.publicKeyConvert(e,!1).slice(1)),e}},IHXb:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.baToJSON=t.addHexPrefix=t.toUnsigned=t.fromSigned=t.bufferToHex=t.bufferToInt=t.toBuffer=t.stripZeros=t.unpad=t.setLengthRight=t.setLength=t.setLengthLeft=t.zeros=void 0;var i=r("1mN/"),o=r("kFT3");t.zeros=function(e){return n.allocUnsafe(e).fill(0)},t.setLengthLeft=function(e,r,n){void 0===n&&(n=!1);var i=t.zeros(r);return e=t.toBuffer(e),n?e.length<r?(e.copy(i),i):e.slice(0,r):e.length<r?(e.copy(i,r-e.length),i):e.slice(-r)},t.setLength=t.setLengthLeft,t.setLengthRight=function(e,r){return t.setLength(e,r,!0)},t.unpad=function(e){for(var t=(e=i.stripHexPrefix(e))[0];e.length>0&&"0"===t.toString();)t=(e=e.slice(1))[0];return e},t.stripZeros=t.unpad,t.toBuffer=function(e){if(!n.isBuffer(e))if(Array.isArray(e))e=n.from(e);else if("string"===typeof e){if(!i.isHexString(e))throw new Error("Cannot convert string to buffer. toBuffer only supports 0x-prefixed hex strings and this string was given: "+e);e=n.from(i.padToEven(i.stripHexPrefix(e)),"hex")}else if("number"===typeof e)e=i.intToBuffer(e);else if(null===e||void 0===e)e=n.allocUnsafe(0);else if(o.isBN(e))e=e.toArrayLike(n);else{if(!e.toArray)throw new Error("invalid type");e=n.from(e.toArray())}return e},t.bufferToInt=function(e){return new o(t.toBuffer(e)).toNumber()},t.bufferToHex=function(e){return"0x"+(e=t.toBuffer(e)).toString("hex")},t.fromSigned=function(e){return new o(e).fromTwos(256)},t.toUnsigned=function(e){return n.from(e.toTwos(256).toArray())},t.addHexPrefix=function(e){return"string"!==typeof e||i.isHexPrefixed(e)?e:"0x"+e},t.baToJSON=function(e){if(n.isBuffer(e))return"0x"+e.toString("hex");if(e instanceof Array){for(var r=[],i=0;i<e.length;i++)r.push(t.baToJSON(e[i]));return r}}},CIXy:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.KECCAK256_RLP=t.KECCAK256_RLP_S=t.KECCAK256_RLP_ARRAY=t.KECCAK256_RLP_ARRAY_S=t.KECCAK256_NULL=t.KECCAK256_NULL_S=t.TWO_POW256=t.MAX_INTEGER=void 0;var i=r("kFT3");t.MAX_INTEGER=new i("ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff",16),t.TWO_POW256=new i("10000000000000000000000000000000000000000000000000000000000000000",16),t.KECCAK256_NULL_S="c5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470",t.KECCAK256_NULL=n.from(t.KECCAK256_NULL_S,"hex"),t.KECCAK256_RLP_ARRAY_S="1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347",t.KECCAK256_RLP_ARRAY=n.from(t.KECCAK256_RLP_ARRAY_S,"hex"),t.KECCAK256_RLP_S="56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421",t.KECCAK256_RLP=n.from(t.KECCAK256_RLP_S,"hex")},de62:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.rlphash=t.ripemd160=t.sha256=t.keccak256=t.keccak=void 0;var i=r("z474"),o=i.keccak224,s=i.keccak384,a=i.keccak256,u=i.keccak512,c=r("m1hl"),f=r("1mN/"),l=r("0OOA"),h=r("IHXb");t.keccak=function(e,t){switch(void 0===t&&(t=256),e="string"!==typeof e||f.isHexString(e)?h.toBuffer(e):n.from(e,"utf8"),t||(t=256),t){case 224:return o(e);case 256:return a(e);case 384:return s(e);case 512:return u(e);default:throw new Error("Invald algorithm: keccak"+t)}},t.keccak256=function(e){return t.keccak(e)},t.sha256=function(e){return e=h.toBuffer(e),c("sha256").update(e).digest()},t.ripemd160=function(e,t){e=h.toBuffer(e);var r=c("rmd160").update(e).digest();return!0===t?h.setLength(r,32):r},t.rlphash=function(e){return t.keccak(l.encode(e))}},ydGz:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.secp256k1=t.rlp=t.BN=void 0;var o=r("yGmA");t.secp256k1=o;var s=r("1mN/"),a=r("kFT3");t.BN=a;var u=r("0OOA");t.rlp=u,Object.assign(t,s),i(r("CIXy"),t),i(r("h/58"),t),i(r("de62"),t),i(r("sT0k"),t),i(r("IHXb"),t),i(r("VYAz"),t)},VYAz:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.defineProperties=void 0;var i=r("6eCo"),o=r("1mN/"),s=r("0OOA"),a=r("IHXb");t.defineProperties=function(e,t,r){if(e.raw=[],e._fields=[],e.toJSON=function(t){if(void 0===t&&(t=!1),t){var r={};return e._fields.forEach((function(t){r[t]="0x"+e[t].toString("hex")})),r}return a.baToJSON(e.raw)},e.serialize=function(){return s.encode(e.raw)},t.forEach((function(t,r){function o(){return e.raw[r]}function s(o){"00"!==(o=a.toBuffer(o)).toString("hex")||t.allowZero||(o=n.allocUnsafe(0)),t.allowLess&&t.length?(o=a.stripZeros(o),i(t.length>=o.length,"The field "+t.name+" must not have more "+t.length+" bytes")):t.allowZero&&0===o.length||!t.length||i(t.length===o.length,"The field "+t.name+" must have byte length of "+t.length),e.raw[r]=o}e._fields.push(t.name),Object.defineProperty(e,t.name,{enumerable:!0,configurable:!0,get:o,set:s}),t.default&&(e[t.name]=t.default),t.alias&&Object.defineProperty(e,t.alias,{enumerable:!1,configurable:!0,set:s,get:o})})),r)if("string"===typeof r&&(r=n.from(o.stripHexPrefix(r),"hex")),n.isBuffer(r)&&(r=s.decode(r)),Array.isArray(r)){if(r.length>e._fields.length)throw new Error("wrong number of fields in data");r.forEach((function(t,r){e[e._fields[r]]=a.toBuffer(t)}))}else{if("object"!==typeof r)throw new Error("invalid data");var u=Object.keys(r);t.forEach((function(t){-1!==u.indexOf(t.name)&&(e[t.name]=r[t.name]),-1!==u.indexOf(t.alias)&&(e[t.alias]=r[t.alias])}))}}},yGmA:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.ecdhUnsafe=t.ecdh=t.recover=t.verify=t.sign=t.signatureImportLax=t.signatureImport=t.signatureExport=t.signatureNormalize=t.publicKeyCombine=t.publicKeyTweakMul=t.publicKeyTweakAdd=t.publicKeyVerify=t.publicKeyConvert=t.publicKeyCreate=t.privateKeyTweakMul=t.privateKeyTweakAdd=t.privateKeyModInverse=t.privateKeyNegate=t.privateKeyImport=t.privateKeyExport=t.privateKeyVerify=void 0;var i=r("vfh3"),o=r("jgCh"),s=r("Dycb");t.privateKeyVerify=function(e){return 32===e.length&&i.privateKeyVerify(Uint8Array.from(e))},t.privateKeyExport=function(e,t){if(32!==e.length)throw new RangeError("private key length is invalid");var r=o.privateKeyExport(e,t);return s.privateKeyExport(e,r,t)},t.privateKeyImport=function(e){if(null!==(e=s.privateKeyImport(e))&&32===e.length&&t.privateKeyVerify(e))return e;throw new Error("couldn't import from DER format")},t.privateKeyNegate=function(e){return n.from(i.privateKeyNegate(Uint8Array.from(e)))},t.privateKeyModInverse=function(e){if(32!==e.length)throw new Error("private key length is invalid");return n.from(o.privateKeyModInverse(Uint8Array.from(e)))},t.privateKeyTweakAdd=function(e,t){return n.from(i.privateKeyTweakAdd(Uint8Array.from(e),t))},t.privateKeyTweakMul=function(e,t){return n.from(i.privateKeyTweakMul(Uint8Array.from(e),Uint8Array.from(t)))},t.publicKeyCreate=function(e,t){return n.from(i.publicKeyCreate(Uint8Array.from(e),t))},t.publicKeyConvert=function(e,t){return n.from(i.publicKeyConvert(Uint8Array.from(e),t))},t.publicKeyVerify=function(e){return(33===e.length||65===e.length)&&i.publicKeyVerify(Uint8Array.from(e))},t.publicKeyTweakAdd=function(e,t,r){return n.from(i.publicKeyTweakAdd(Uint8Array.from(e),Uint8Array.from(t),r))},t.publicKeyTweakMul=function(e,t,r){return n.from(i.publicKeyTweakMul(Uint8Array.from(e),Uint8Array.from(t),r))},t.publicKeyCombine=function(e,t){var r=[];return e.forEach((function(e){r.push(Uint8Array.from(e))})),n.from(i.publicKeyCombine(r,t))},t.signatureNormalize=function(e){return n.from(i.signatureNormalize(Uint8Array.from(e)))},t.signatureExport=function(e){return n.from(i.signatureExport(Uint8Array.from(e)))},t.signatureImport=function(e){return n.from(i.signatureImport(Uint8Array.from(e)))},t.signatureImportLax=function(e){if(0===e.length)throw new RangeError("signature length is invalid");var t=s.signatureImportLax(e);if(null===t)throw new Error("couldn't parse DER signature");return o.signatureImport(t)},t.sign=function(e,t,r){if(null===r)throw new TypeError("options should be an Object");var o=void 0;if(r){if(o={},null===r.data)throw new TypeError("options.data should be a Buffer");if(r.data){if(32!=r.data.length)throw new RangeError("options.data length is invalid");o.data=new Uint8Array(r.data)}if(null===r.noncefn)throw new TypeError("options.noncefn should be a Function");r.noncefn&&(o.noncefn=function(e,t,i,o,s){var a=null!=i?n.from(i):null,u=null!=o?n.from(o):null,c=n.from("");return r.noncefn&&(c=r.noncefn(n.from(e),n.from(t),a,u,s)),new Uint8Array(c)})}var s=i.ecdsaSign(Uint8Array.from(e),Uint8Array.from(t),o);return{signature:n.from(s.signature),recovery:s.recid}},t.verify=function(e,t,r){return i.ecdsaVerify(Uint8Array.from(t),Uint8Array.from(e),r)},t.recover=function(e,t,r,o){return n.from(i.ecdsaRecover(Uint8Array.from(t),r,Uint8Array.from(e),o))},t.ecdh=function(e,t){return n.from(i.ecdh(Uint8Array.from(e),Uint8Array.from(t),{}))},t.ecdhUnsafe=function(e,t,r){if(33!==e.length&&65!==e.length)throw new RangeError("public key length is invalid");if(32!==t.length)throw new RangeError("private key length is invalid");return n.from(o.ecdhUnsafe(Uint8Array.from(e),Uint8Array.from(t),r))}},Dycb:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0});var i=n.from([48,129,211,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,133,48,129,130,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,33,2,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,36,3,34,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),o=n.from([48,130,1,19,2,1,1,4,32,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,160,129,165,48,129,162,2,1,1,48,44,6,7,42,134,72,206,61,1,1,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,255,255,252,47,48,6,4,1,0,4,1,7,4,65,4,121,190,102,126,249,220,187,172,85,160,98,149,206,135,11,7,2,155,252,219,45,206,40,217,89,242,129,91,22,248,23,152,72,58,218,119,38,163,196,101,93,164,251,252,14,17,8,168,253,23,180,72,166,133,84,25,156,71,208,143,251,16,212,184,2,33,0,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,254,186,174,220,230,175,72,160,59,191,210,94,140,208,54,65,65,2,1,1,161,68,3,66,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);t.privateKeyExport=function(e,t,r){void 0===r&&(r=!0);var s=n.from(r?i:o);return e.copy(s,r?8:9),t.copy(s,r?181:214),s},t.privateKeyImport=function(e){var t=e.length,r=0;if(t<r+1||48!==e[r])return null;if(t<(r+=1)+1||!(128&e[r]))return null;var n=127&e[r];if(n<1||n>2)return null;if(t<(r+=1)+n)return null;var i=e[r+n-1]|(n>1?e[r+n-2]<<8:0);return t<(r+=n)+i||t<r+3||2!==e[r]||1!==e[r+1]||1!==e[r+2]||t<(r+=3)+2||4!==e[r]||e[r+1]>32||t<r+2+e[r+1]?null:e.slice(r+2,r+2+e[r+1])},t.signatureImportLax=function(e){var t=n.alloc(32,0),r=n.alloc(32,0),i=e.length,o=0;if(48!==e[o++])return null;var s=e[o++];if(128&s&&(o+=s-128)>i)return null;if(2!==e[o++])return null;var a=e[o++];if(128&a){if(o+(s=a-128)>i)return null;for(;s>0&&0===e[o];o+=1,s-=1);for(a=0;s>0;o+=1,s-=1)a=(a<<8)+e[o]}if(a>i-o)return null;var u=o;if(o+=a,2!==e[o++])return null;var c=e[o++];if(128&c){if(o+(s=c-128)>i)return null;for(;s>0&&0===e[o];o+=1,s-=1);for(c=0;s>0;o+=1,s-=1)c=(c<<8)+e[o]}if(c>i-o)return null;var f=o;for(o+=c;a>0&&0===e[u];a-=1,u+=1);if(a>32)return null;var l=e.slice(u,u+a);for(l.copy(t,32-l.length);c>0&&0===e[f];c-=1,f+=1);if(c>32)return null;var h=e.slice(f,f+c);return h.copy(r,32-h.length),{r:t,s:r}}},jgCh:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0});var i=r("kFT3"),o=new(0,r("iwBn").ec)("secp256k1"),s=o.curve;t.privateKeyExport=function(e,t){void 0===t&&(t=!0);var r=new i(e);if(r.ucmp(s.n)>=0)throw new Error("couldn't export to DER format");var n=o.g.mul(r);return a(n.getX(),n.getY(),t)},t.privateKeyModInverse=function(e){var t=new i(e);if(t.ucmp(s.n)>=0||t.isZero())throw new Error("private key range is invalid");return t.invm(s.n).toArrayLike(n,"be",32)},t.signatureImport=function(e){var t=new i(e.r);t.ucmp(s.n)>=0&&(t=new i(0));var r=new i(e.s);return r.ucmp(s.n)>=0&&(r=new i(0)),n.concat([t.toArrayLike(n,"be",32),r.toArrayLike(n,"be",32)])},t.ecdhUnsafe=function(e,t,r){void 0===r&&(r=!0);var n=o.keyFromPublic(e),u=new i(t);if(u.ucmp(s.n)>=0||u.isZero())throw new Error("scalar was invalid (zero or overflow)");var c=n.pub.mul(u);return a(c.getX(),c.getY(),r)};var a=function(e,t,r){var i;return r?((i=n.alloc(33))[0]=t.isOdd()?3:2,e.toArrayLike(n,"be",32).copy(i,1)):((i=n.alloc(65))[0]=4,e.toArrayLike(n,"be",32).copy(i,1),t.toArrayLike(n,"be",32).copy(i,33)),i}},sT0k:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer;Object.defineProperty(t,"__esModule",{value:!0}),t.hashPersonalMessage=t.isValidSignature=t.fromRpcSig=t.toRpcSig=t.ecrecover=t.ecsign=void 0;var i=r("yGmA"),o=r("kFT3"),s=r("IHXb"),a=r("de62");function u(e,t){return t?e-(2*t+35):e-27}function c(e){return 0===e||1===e}t.ecsign=function(e,t,r){var n=i.sign(e,t),o=n.recovery;return{r:n.signature.slice(0,32),s:n.signature.slice(32,64),v:r?o+(2*r+35):o+27}},t.ecrecover=function(e,t,r,o,a){var f=n.concat([s.setLength(r,32),s.setLength(o,32)],64),l=u(t,a);if(!c(l))throw new Error("Invalid signature v value");var h=i.recover(e,f,l);return i.publicKeyConvert(h,!1).slice(1)},t.toRpcSig=function(e,t,r,i){if(!c(u(e,i)))throw new Error("Invalid signature v value");return s.bufferToHex(n.concat([s.setLengthLeft(t,32),s.setLengthLeft(r,32),s.toBuffer(e)]))},t.fromRpcSig=function(e){var t=s.toBuffer(e);if(65!==t.length)throw new Error("Invalid signature length");var r=t[64];return r<27&&(r+=27),{v:r,r:t.slice(0,32),s:t.slice(32,64)}},t.isValidSignature=function(e,t,r,n,i){void 0===n&&(n=!0);var s=new o("7fffffffffffffffffffffffffffffff5d576e7357a4501ddfe92f46681b20a0",16),a=new o("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141",16);if(32!==t.length||32!==r.length)return!1;if(!c(u(e,i)))return!1;var f=new o(t),l=new o(r);return!(f.isZero()||f.gt(a)||l.isZero()||l.gt(a))&&(!n||1!==l.cmp(s))},t.hashPersonalMessage=function(e){var t=n.from("\x19Ethereum Signed Message:\n"+e.length.toString(),"utf-8");return a.keccak(n.concat([t,e]))}},"1mN/":(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer,i=r("4NT3"),o=r("BaDN");function s(e){var t=e;if("string"!==typeof t)throw new Error("[ethjs-util] while padding to even, value must be string, is currently "+typeof t+", while padToEven.");return t.length%2&&(t="0"+t),t}function a(e){return"0x"+e.toString(16)}e.exports={arrayContainsArray:function(e,t,r){if(!0!==Array.isArray(e))throw new Error("[ethjs-util] method arrayContainsArray requires input 'superset' to be an array got type '"+typeof e+"'");if(!0!==Array.isArray(t))throw new Error("[ethjs-util] method arrayContainsArray requires input 'subset' to be an array got type '"+typeof t+"'");return t[Boolean(r)?"some":"every"]((function(t){return e.indexOf(t)>=0}))},intToBuffer:function(e){var t=a(e);return new n(s(t.slice(2)),"hex")},getBinarySize:function(e){if("string"!==typeof e)throw new Error("[ethjs-util] while getting binary size, method getBinarySize requires input 'str' to be type String, got '"+typeof e+"'.");return n.byteLength(e,"utf8")},isHexPrefixed:i,stripHexPrefix:o,padToEven:s,intToHex:a,fromAscii:function(e){for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r).toString(16);t+=n.length<2?"0"+n:n}return"0x"+t},fromUtf8:function(e){return"0x"+s(new n(e,"utf8").toString("hex")).replace(/^0+|0+$/g,"")},toAscii:function(e){var t="",r=0,n=e.length;for("0x"===e.substring(0,2)&&(r=2);r<n;r+=2){var i=parseInt(e.substr(r,2),16);t+=String.fromCharCode(i)}return t},toUtf8:function(e){return new n(s(o(e).replace(/^0+|0+$/g,"")),"hex").toString("utf8")},getKeys:function(e,t,r){if(!Array.isArray(e))throw new Error("[ethjs-util] method getKeys expecting type Array as 'params' input, got '"+typeof e+"'");if("string"!==typeof t)throw new Error("[ethjs-util] method getKeys expecting type String for input 'key' got '"+typeof t+"'.");for(var n=[],i=0;i<e.length;i++){var o=e[i][t];if(r&&!o)o="";else if("string"!==typeof o)throw new Error("invalid abi");n.push(o)}return n},isHexString:function(e,t){return!("string"!==typeof e||!e.match(/^0x[0-9A-Fa-f]*$/))&&(!t||e.length===2+2*t)}}},o9uE:e=>{"use strict";var t=Object.prototype.hasOwnProperty,r="~";function n(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function o(e,t,n,o,s){if("function"!==typeof n)throw new TypeError("The listener must be a function");var a=new i(n,o||e,s),u=r?r+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],a]:e._events[u].push(a):(e._events[u]=a,e._eventsCount++),e}function s(e,t){0===--e._eventsCount?e._events=new n:delete e._events[t]}function a(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(r=!1)),a.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(r?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},a.prototype.listeners=function(e){var t=r?r+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,o=n.length,s=new Array(o);i<o;i++)s[i]=n[i].fn;return s},a.prototype.listenerCount=function(e){var t=r?r+e:e,n=this._events[t];return n?n.fn?1:n.length:0},a.prototype.emit=function(e,t,n,i,o,s){var a=r?r+e:e;if(!this._events[a])return!1;var u,c,f=this._events[a],l=arguments.length;if(f.fn){switch(f.once&&this.removeListener(e,f.fn,void 0,!0),l){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,t),!0;case 3:return f.fn.call(f.context,t,n),!0;case 4:return f.fn.call(f.context,t,n,i),!0;case 5:return f.fn.call(f.context,t,n,i,o),!0;case 6:return f.fn.call(f.context,t,n,i,o,s),!0}for(c=1,u=new Array(l-1);c<l;c++)u[c-1]=arguments[c];f.fn.apply(f.context,u)}else{var h,d=f.length;for(c=0;c<d;c++)switch(f[c].once&&this.removeListener(e,f[c].fn,void 0,!0),l){case 1:f[c].fn.call(f[c].context);break;case 2:f[c].fn.call(f[c].context,t);break;case 3:f[c].fn.call(f[c].context,t,n);break;case 4:f[c].fn.call(f[c].context,t,n,i);break;default:if(!u)for(h=1,u=new Array(l-1);h<l;h++)u[h-1]=arguments[h];f[c].fn.apply(f[c].context,u)}}return!0},a.prototype.on=function(e,t,r){return o(this,e,t,r,!1)},a.prototype.once=function(e,t,r){return o(this,e,t,r,!0)},a.prototype.removeListener=function(e,t,n,i){var o=r?r+e:e;if(!this._events[o])return this;if(!t)return s(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||i&&!a.once||n&&a.context!==n||s(this,o);else{for(var u=0,c=[],f=a.length;u<f;u++)(a[u].fn!==t||i&&!a[u].once||n&&a[u].context!==n)&&c.push(a[u]);c.length?this._events[o]=1===c.length?c[0]:c:s(this,o)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&s(this,t)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a},UnLv:e=>{"use strict";var t,r="object"===typeof Reflect?Reflect:null,n=r&&"function"===typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"===typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!==e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,o),n(r)}function o(){"function"===typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}g(e,t,o,{once:!0}),"error"!==t&&function(e,t,r){"function"===typeof e.on&&g(e,"error",t,r)}(e,i,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,r,n){var i,o,s,c;if(a(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if("function"===typeof s?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=u(e))>0&&s.length>i&&!s.warned){s.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=e,f.type=t,f.count=s.length,c=f,console&&console.warn&&console.warn(c)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=f.bind(n);return i.listener=r,n.wrapFn=i,i}function h(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"===typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):p(i,i.length)}function d(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"===typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function g(e,t,r,n){if("function"===typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){n.once&&e.removeEventListener(t,i),r(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=o[e];if(void 0===u)return!1;if("function"===typeof u)n(u,this,t);else{var c=u.length,f=p(u,c);for(r=0;r<c;++r)n(f[r],this,t)}return!0},o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,l(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,l(this,e,t)),this},o.prototype.removeListener=function(e,t){var r,n,i,o,s;if(a(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!==typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},o.prototype.listeners=function(e){return h(this,e,!0)},o.prototype.rawListeners=function(e){return h(this,e,!1)},o.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},o.prototype.listenerCount=d,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},MtRF:(e,t,r)=>{"use strict";var n=r("rKIh"),i=Object.prototype.toString,o=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){if(!n(t))throw new TypeError("iterator must be a function");var s,a;arguments.length>=3&&(s=r),a=e,"[object Array]"===i.call(a)?function(e,t,r){for(var n=0,i=e.length;n<i;n++)o.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))}(e,t,s):"string"===typeof e?function(e,t,r){for(var n=0,i=e.length;n<i;n++)null==r?t(e.charAt(n),n,e):t.call(r,e.charAt(n),n,e)}(e,t,s):function(e,t,r){for(var n in e)o.call(e,n)&&(null==r?t(e[n],n,e):t.call(r,e[n],n,e))}(e,t,s)}},"9cAR":e=>{"use strict";var t=Object.prototype.toString,r=Math.max,n=function(e,t){for(var r=[],n=0;n<e.length;n+=1)r[n]=e[n];for(var i=0;i<t.length;i+=1)r[i+e.length]=t[i];return r};e.exports=function(e){var i=this;if("function"!==typeof i||"[object Function]"!==t.apply(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var o,s=function(e,t){for(var r=[],n=t||0,i=0;n<e.length;n+=1,i+=1)r[i]=e[n];return r}(arguments,1),a=r(0,i.length-s.length),u=[],c=0;c<a;c++)u[c]="$"+c;if(o=Function("binder","return function ("+function(e,t){for(var r="",n=0;n<e.length;n+=1)r+=e[n],n+1<e.length&&(r+=t);return r}(u,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var t=i.apply(this,n(s,arguments));return Object(t)===t?t:this}return i.apply(e,n(s,arguments))})),i.prototype){var f=function(){};f.prototype=i.prototype,o.prototype=new f,f.prototype=null}return o}},vDKV:(e,t,r)=>{"use strict";var n=r("9cAR");e.exports=Function.prototype.bind||n},vcUE:(e,t,r)=>{"use strict";var n,i=r("dK+u"),o=r("VmBS"),s=r("64Lr"),a=r("tH1R"),u=r("cnJy"),c=r("dDPE"),f=r("51A+"),l=r("8S0i"),h=r("Zk0+"),d=r("EmxW"),p=r("mMzn"),g=r("edxg"),y=r("kKgk"),m=r("lvRJ"),b=r("X6JL"),w=Function,v=function(e){try{return w('"use strict"; return ('+e+").constructor;")()}catch(t){}},_=r("PtCN"),S=r("q+2T"),E=function(){throw new f},A=_?function(){try{return E}catch(e){try{return _(arguments,"callee").get}catch(t){return E}}}():E,x=r("WebC")(),k=r("+65A"),T=r("8LUX"),I=r("+Ctx"),M=r("k/Rp"),P=r("QqiK"),B={},O="undefined"!==typeof Uint8Array&&k?k(Uint8Array):n,C={__proto__:null,"%AggregateError%":"undefined"===typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":x&&k?k([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":B,"%AsyncGenerator%":B,"%AsyncGeneratorFunction%":B,"%AsyncIteratorPrototype%":B,"%Atomics%":"undefined"===typeof Atomics?n:Atomics,"%BigInt%":"undefined"===typeof BigInt?n:BigInt,"%BigInt64Array%":"undefined"===typeof BigInt64Array?n:BigInt64Array,"%BigUint64Array%":"undefined"===typeof BigUint64Array?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":o,"%eval%":eval,"%EvalError%":s,"%Float16Array%":"undefined"===typeof Float16Array?n:Float16Array,"%Float32Array%":"undefined"===typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":w,"%GeneratorFunction%":B,"%Int8Array%":"undefined"===typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":x&&k?k(k([][Symbol.iterator]())):n,"%JSON%":"object"===typeof JSON?JSON:n,"%Map%":"undefined"===typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&x&&k?k((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":i,"%Object.getOwnPropertyDescriptor%":_,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?n:Promise,"%Proxy%":"undefined"===typeof Proxy?n:Proxy,"%RangeError%":a,"%ReferenceError%":u,"%Reflect%":"undefined"===typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&x&&k?k((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":x&&k?k(""[Symbol.iterator]()):n,"%Symbol%":x?Symbol:n,"%SyntaxError%":c,"%ThrowTypeError%":A,"%TypedArray%":O,"%TypeError%":f,"%Uint8Array%":"undefined"===typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?n:Uint32Array,"%URIError%":l,"%WeakMap%":"undefined"===typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?n:WeakSet,"%Function.prototype.call%":P,"%Function.prototype.apply%":M,"%Object.defineProperty%":S,"%Object.getPrototypeOf%":T,"%Math.abs%":h,"%Math.floor%":d,"%Math.max%":p,"%Math.min%":g,"%Math.pow%":y,"%Math.round%":m,"%Math.sign%":b,"%Reflect.getPrototypeOf%":I};if(k)try{null.error}catch(V){var U=k(k(V));C["%Error.prototype%"]=U}var N=function e(t){var r;if("%AsyncFunction%"===t)r=v("async function () {}");else if("%GeneratorFunction%"===t)r=v("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=v("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&k&&(r=k(i.prototype))}return C[t]=r,r},R={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},L=r("vDKV"),z=r("zfYl"),j=L.call(P,Array.prototype.concat),D=L.call(M,Array.prototype.splice),q=L.call(P,String.prototype.replace),K=L.call(P,String.prototype.slice),H=L.call(P,RegExp.prototype.exec),F=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,W=/\\(\\)?/g,$=function(e,t){var r,n=e;if(z(R,n)&&(n="%"+(r=R[n])[0]+"%"),z(C,n)){var i=C[n];if(i===B&&(i=N(n)),"undefined"===typeof i&&!t)throw new f("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new c("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!==typeof e||0===e.length)throw new f("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof t)throw new f('"allowMissing" argument must be a boolean');if(null===H(/^%?[^%]*%?$/,e))throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=K(e,0,1),r=K(e,-1);if("%"===t&&"%"!==r)throw new c("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new c("invalid intrinsic syntax, expected opening `%`");var n=[];return q(e,F,(function(e,t,r,i){n[n.length]=r?q(i,W,"$1"):t||e})),n}(e),n=r.length>0?r[0]:"",i=$("%"+n+"%",t),o=i.name,s=i.value,a=!1,u=i.alias;u&&(n=u[0],D(r,j([0,1],u)));for(var l=1,h=!0;l<r.length;l+=1){var d=r[l],p=K(d,0,1),g=K(d,-1);if(('"'===p||"'"===p||"`"===p||'"'===g||"'"===g||"`"===g)&&p!==g)throw new c("property names with quotes must have matching quotes");if("constructor"!==d&&h||(a=!0),z(C,o="%"+(n+="."+d)+"%"))s=C[o];else if(null!=s){if(!(d in s)){if(!t)throw new f("base intrinsic for "+e+" exists, but the property is not available.");return}if(_&&l+1>=r.length){var y=_(s,d);s=(h=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:s[d]}else h=z(s,d),s=s[d];h&&!a&&(C[o]=s)}}return s}},"8LUX":(e,t,r)=>{"use strict";var n=r("dK+u");e.exports=n.getPrototypeOf||null},"+Ctx":e=>{"use strict";e.exports="undefined"!==typeof Reflect&&Reflect.getPrototypeOf||null},"+65A":(e,t,r)=>{"use strict";var n=r("+Ctx"),i=r("8LUX"),o=r("bjIn");e.exports=n?function(e){return n(e)}:i?function(e){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new TypeError("getProto: not an object");return i(e)}:o?function(e){return o(e)}:null},SEzd:e=>{"use strict";e.exports=Object.getOwnPropertyDescriptor},PtCN:(e,t,r)=>{"use strict";var n=r("SEzd");if(n)try{n([],"length")}catch(i){n=null}e.exports=n},"6PnD":(e,t,r)=>{"use strict";var n=r("q+2T"),i=function(){return!!n};i.hasArrayLengthDefineBug=function(){if(!n)return null;try{return 1!==n([],"length",{value:1}).length}catch(e){return!0}},e.exports=i},WebC:(e,t,r)=>{"use strict";var n="undefined"!==typeof Symbol&&Symbol,i=r("5xe0");e.exports=function(){return"function"===typeof n&&("function"===typeof Symbol&&("symbol"===typeof n("foo")&&("symbol"===typeof Symbol("bar")&&i())))}},"5xe0":e=>{"use strict";e.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(var n in e[t]=42,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},W5hG:(e,t,r)=>{"use strict";var n=r("5xe0");e.exports=function(){return n()&&!!Symbol.toStringTag}},OXp5:(e,t,r)=>{"use strict";var n=r("vhZ9").Buffer,i=r("dpwk").Transform;function o(e){i.call(this),this._block=n.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}r("f9x7")(o,i),o.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(i){n=i}r(n)},o.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(r){t=r}e(t)},o.prototype.update=function(e,t){if(function(e,t){if(!n.isBuffer(e)&&"string"!==typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");n.isBuffer(e)||(e=n.from(e,t));for(var r=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)r[o++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)r[this._blockOffset++]=e[i++];for(var s=0,a=8*e.length;a>0;++s)this._length[s]+=a,(a=this._length[s]/4294967296|0)>0&&(this._length[s]-=4294967296*a);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t},o.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=o},iFUI:(e,t,r)=>{var n=t;n.utils=r("IeH1"),n.common=r("ihYM"),n.sha=r("Y68Q"),n.ripemd=r("g19f"),n.hmac=r("RKP4"),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},ihYM:(e,t,r)=>{"use strict";var n=r("IeH1"),i=r("oeHn");function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=o,o.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n}},RKP4:(e,t,r)=>{"use strict";var n=r("IeH1"),i=r("oeHn");function o(e,t,r){if(!(this instanceof o))return new o(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}e.exports=o,o.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},g19f:(e,t,r)=>{"use strict";var n=r("IeH1"),i=r("ihYM"),o=n.rotl32,s=n.sum32,a=n.sum32_3,u=n.sum32_4,c=i.BlockHash;function f(){if(!(this instanceof f))return new f;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function l(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function h(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function d(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}n.inherits(f,c),t.ripemd160=f,f.blockSize=512,f.outSize=160,f.hmacStrength=192,f.padLength=64,f.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],c=this.h[3],f=this.h[4],b=r,w=n,v=i,_=c,S=f,E=0;E<80;E++){var A=s(o(u(r,l(E,n,i,c),e[p[E]+t],h(E)),y[E]),f);r=f,f=c,c=o(i,10),i=n,n=A,A=s(o(u(b,l(79-E,w,v,_),e[g[E]+t],d(E)),m[E]),S),b=S,S=_,_=o(v,10),v=w,w=A}A=a(this.h[1],i,_),this.h[1]=a(this.h[2],c,S),this.h[2]=a(this.h[3],f,b),this.h[3]=a(this.h[4],r,w),this.h[4]=a(this.h[0],n,v),this.h[0]=A},f.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},Y68Q:(e,t,r)=>{"use strict";t.sha1=r("zgtO"),t.sha224=r("gw4+"),t.sha256=r("0RXY"),t.sha384=r("AS8G"),t.sha512=r("cMWS")},zgtO:(e,t,r)=>{"use strict";var n=r("IeH1"),i=r("ihYM"),o=r("ommr"),s=n.rotl32,a=n.sum32,u=n.sum32_5,c=o.ft_1,f=i.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(h,f),e.exports=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=s(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],o=this.h[1],f=this.h[2],h=this.h[3],d=this.h[4];for(n=0;n<r.length;n++){var p=~~(n/20),g=u(s(i,5),c(p,o,f,h),d,r[n],l[p]);d=h,h=f,f=s(o,30),o=i,i=g}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],f),this.h[3]=a(this.h[3],h),this.h[4]=a(this.h[4],d)},h.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},"gw4+":(e,t,r)=>{"use strict";var n=r("IeH1"),i=r("0RXY");function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(o,i),e.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},"0RXY":(e,t,r)=>{"use strict";var n=r("IeH1"),i=r("ihYM"),o=r("ommr"),s=r("oeHn"),a=n.sum32,u=n.sum32_4,c=n.sum32_5,f=o.ch32,l=o.maj32,h=o.s0_256,d=o.s1_256,p=o.g0_256,g=o.g1_256,y=i.BlockHash,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function b(){if(!(this instanceof b))return new b;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=m,this.W=new Array(64)}n.inherits(b,y),e.exports=b,b.blockSize=512,b.outSize=256,b.hmacStrength=192,b.padLength=64,b.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=u(g(r[n-2]),r[n-7],p(r[n-15]),r[n-16]);var i=this.h[0],o=this.h[1],y=this.h[2],m=this.h[3],b=this.h[4],w=this.h[5],v=this.h[6],_=this.h[7];for(s(this.k.length===r.length),n=0;n<r.length;n++){var S=c(_,d(b),f(b,w,v),this.k[n],r[n]),E=a(h(i),l(i,o,y));_=v,v=w,w=b,b=a(m,S),m=y,y=o,o=i,i=a(S,E)}this.h[0]=a(this.h[0],i),this.h[1]=a(this.h[1],o),this.h[2]=a(this.h[2],y),this.h[3]=a(this.h[3],m),this.h[4]=a(this.h[4],b),this.h[5]=a(this.h[5],w),this.h[6]=a(this.h[6],v),this.h[7]=a(this.h[7],_)},b.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},AS8G:(e,t,r)=>{"use strict";var n=r("IeH1"),i=r("cMWS");function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(o,i),e.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},cMWS:(e,t,r)=>{"use strict";var n=r("IeH1"),i=r("ihYM"),o=r("oeHn"),s=n.rotr64_hi,a=n.rotr64_lo,u=n.shr64_hi,c=n.shr64_lo,f=n.sum64,l=n.sum64_hi,h=n.sum64_lo,d=n.sum64_4_hi,p=n.sum64_4_lo,g=n.sum64_5_hi,y=n.sum64_5_lo,m=i.BlockHash,b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function w(){if(!(this instanceof w))return new w;m.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=b,this.W=new Array(160)}function v(e,t,r,n,i){var o=e&r^~e&i;return o<0&&(o+=4294967296),o}function _(e,t,r,n,i,o){var s=t&n^~t&o;return s<0&&(s+=4294967296),s}function S(e,t,r,n,i){var o=e&r^e&i^r&i;return o<0&&(o+=4294967296),o}function E(e,t,r,n,i,o){var s=t&n^t&o^n&o;return s<0&&(s+=4294967296),s}function A(e,t){var r=s(e,t,28)^s(t,e,2)^s(t,e,7);return r<0&&(r+=4294967296),r}function x(e,t){var r=a(e,t,28)^a(t,e,2)^a(t,e,7);return r<0&&(r+=4294967296),r}function k(e,t){var r=s(e,t,14)^s(e,t,18)^s(t,e,9);return r<0&&(r+=4294967296),r}function T(e,t){var r=a(e,t,14)^a(e,t,18)^a(t,e,9);return r<0&&(r+=4294967296),r}function I(e,t){var r=s(e,t,1)^s(e,t,8)^u(e,t,7);return r<0&&(r+=4294967296),r}function M(e,t){var r=a(e,t,1)^a(e,t,8)^c(e,t,7);return r<0&&(r+=4294967296),r}function P(e,t){var r=s(e,t,19)^s(t,e,29)^u(e,t,6);return r<0&&(r+=4294967296),r}function B(e,t){var r=a(e,t,19)^a(t,e,29)^c(e,t,6);return r<0&&(r+=4294967296),r}n.inherits(w,m),e.exports=w,w.blockSize=1024,w.outSize=512,w.hmacStrength=192,w.padLength=128,w.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=P(r[n-4],r[n-3]),o=B(r[n-4],r[n-3]),s=r[n-14],a=r[n-13],u=I(r[n-30],r[n-29]),c=M(r[n-30],r[n-29]),f=r[n-32],l=r[n-31];r[n]=d(i,o,s,a,u,c,f,l),r[n+1]=p(i,o,s,a,u,c,f,l)}},w.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],u=this.h[4],c=this.h[5],d=this.h[6],p=this.h[7],m=this.h[8],b=this.h[9],w=this.h[10],I=this.h[11],M=this.h[12],P=this.h[13],B=this.h[14],O=this.h[15];o(this.k.length===r.length);for(var C=0;C<r.length;C+=2){var U=B,N=O,R=k(m,b),L=T(m,b),z=v(m,b,w,I,M),j=_(m,b,w,I,M,P),D=this.k[C],q=this.k[C+1],K=r[C],H=r[C+1],F=g(U,N,R,L,z,j,D,q,K,H),W=y(U,N,R,L,z,j,D,q,K,H);U=A(n,i),N=x(n,i),R=S(n,i,s,a,u),L=E(n,i,s,a,u,c);var $=l(U,N,R,L),V=h(U,N,R,L);B=M,O=P,M=w,P=I,w=m,I=b,m=l(d,p,F,W),b=h(p,p,F,W),d=u,p=c,u=s,c=a,s=n,a=i,n=l(F,W,$,V),i=h(F,W,$,V)}f(this.h,0,n,i),f(this.h,2,s,a),f(this.h,4,u,c),f(this.h,6,d,p),f(this.h,8,m,b),f(this.h,10,w,I),f(this.h,12,M,P),f(this.h,14,B,O)},w.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},ommr:(e,t,r)=>{"use strict";var n=r("IeH1").rotr32;function i(e,t,r){return e&t^~e&r}function o(e,t,r){return e&t^e&r^t&r}function s(e,t,r){return e^t^r}t.ft_1=function(e,t,r,n){return 0===e?i(t,r,n):1===e||3===e?s(t,r,n):2===e?o(t,r,n):void 0},t.ch32=i,t.maj32=o,t.p32=s,t.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},t.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},t.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},t.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},IeH1:(e,t,r)=>{"use strict";var n=r("oeHn"),i=r("f9x7");function o(e,t){return 55296===(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320===(64512&e.charCodeAt(t+1)))}function s(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function a(e){return 1===e.length?"0"+e:e}function u(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"===typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var s=e.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=63&s|128):o(e,i)?(s=65536+((1023&s)<<10)+(1023&e.charCodeAt(++i)),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=63&s|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=63&s|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},t.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=a(e[r].toString(16));return t},t.htonl=s,t.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=s(i)),r+=u(i.toString(16))}return r},t.zero2=a,t.zero8=u,t.join32=function(e,t,r,i){var o=r-t;n(o%4===0);for(var s=new Array(o/4),a=0,u=t;a<s.length;a++,u+=4){var c;c="big"===i?e[u]<<24|e[u+1]<<16|e[u+2]<<8|e[u+3]:e[u+3]<<24|e[u+2]<<16|e[u+1]<<8|e[u],s[a]=c>>>0}return s},t.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var o=e[n];"big"===t?(r[i]=o>>>24,r[i+1]=o>>>16&255,r[i+2]=o>>>8&255,r[i+3]=255&o):(r[i+3]=o>>>24,r[i+2]=o>>>16&255,r[i+1]=o>>>8&255,r[i]=255&o)}return r},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,r){return e+t+r>>>0},t.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},t.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},t.sum64=function(e,t,r,n){var i=e[t],o=n+e[t+1]>>>0,s=(o<n?1:0)+r+i;e[t]=s>>>0,e[t+1]=o},t.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},t.sum64_lo=function(e,t,r,n){return t+n>>>0},t.sum64_4_hi=function(e,t,r,n,i,o,s,a){var u=0,c=t;return u+=(c=c+n>>>0)<t?1:0,u+=(c=c+o>>>0)<o?1:0,e+r+i+s+(u+=(c=c+a>>>0)<a?1:0)>>>0},t.sum64_4_lo=function(e,t,r,n,i,o,s,a){return t+n+o+a>>>0},t.sum64_5_hi=function(e,t,r,n,i,o,s,a,u,c){var f=0,l=t;return f+=(l=l+n>>>0)<t?1:0,f+=(l=l+o>>>0)<o?1:0,f+=(l=l+a>>>0)<a?1:0,e+r+i+s+u+(f+=(l=l+c>>>0)<c?1:0)>>>0},t.sum64_5_lo=function(e,t,r,n,i,o,s,a,u,c){return t+n+o+a+c>>>0},t.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},t.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},t.shr64_hi=function(e,t,r){return e>>>r},t.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},zfYl:(e,t,r)=>{"use strict";var n=Function.prototype.call,i=Object.prototype.hasOwnProperty,o=r("vDKV");e.exports=o.call(n,i)},SdAz:(e,t,r)=>{"use strict";var n=r("iFUI"),i=r("oWan"),o=r("oeHn");function s(e){if(!(this instanceof s))return new s(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=i.toArray(e.entropy,e.entropyEnc||"hex"),r=i.toArray(e.nonce,e.nonceEnc||"hex"),n=i.toArray(e.pers,e.persEnc||"hex");o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}e.exports=s,s.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},s.prototype._hmac=function(){return new n.hmac(this.hash,this.K)},s.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},s.prototype.reseed=function(e,t,r,n){"string"!==typeof t&&(n=r,r=t,t=null),e=i.toArray(e,t),r=i.toArray(r,n),o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},s.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof t&&(n=r,r=t,t=null),r&&(r=i.toArray(r,n||"hex"),this._update(r));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var s=o.slice(0,e);return this._update(r),this._reseed++,i.encode(s,t)}},"L/pz":(e,t)=>{t.read=function(e,t,r,n,i){var o,s,a=8*i-n-1,u=(1<<a)-1,c=u>>1,f=-7,l=r?i-1:0,h=r?-1:1,d=e[t+l];for(l+=h,o=d&(1<<-f)-1,d>>=-f,f+=a;f>0;o=256*o+e[t+l],l+=h,f-=8);for(s=o&(1<<-f)-1,o>>=-f,f+=n;f>0;s=256*s+e[t+l],l+=h,f-=8);if(0===o)o=1-c;else{if(o===u)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),o-=c}return(d?-1:1)*s*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var s,a,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),(t+=s+l>=1?h/u:h*Math.pow(2,1-l))*u>=2&&(s++,u/=2),s+l>=f?(a=0,s=f):s+l>=1?(a=(t*u-1)*Math.pow(2,i),s+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,i),s=0));i>=8;e[r+d]=255&a,d+=p,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[r+d]=255&s,d+=p,s/=256,c-=8);e[r+d-p]|=128*g}},f9x7:e=>{"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},pZgO:(e,t,r)=>{"use strict";var n=r("W5hG")(),i=r("szUr")("Object.prototype.toString"),o=function(e){return!(n&&e&&"object"===typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===i(e)},s=function(e){return!!o(e)||null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Array]"!==i(e)&&"[object Function]"===i(e.callee)},a=function(){return o(arguments)}();o.isLegacyArguments=s,e.exports=a?o:s},rKIh:e=>{"use strict";var t,r,n=Function.prototype.toString,i="object"===typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"===typeof i&&"function"===typeof Object.defineProperty)try{t=Object.defineProperty({},"length",{get:function(){throw r}}),r={},i((function(){throw 42}),null,t)}catch(d){d!==r&&(i=null)}else i=null;var o=/^\s*class\b/,s=function(e){try{var t=n.call(e);return o.test(t)}catch(r){return!1}},a=function(e){try{return!s(e)&&(n.call(e),!0)}catch(t){return!1}},u=Object.prototype.toString,c="function"===typeof Symbol&&!!Symbol.toStringTag,f=!(0 in[,]),l=function(){return!1};if("object"===typeof document){var h=document.all;u.call(h)===u.call(document.all)&&(l=function(e){if((f||!e)&&("undefined"===typeof e||"object"===typeof e))try{var t=u.call(e);return("[object HTMLAllCollection]"===t||"[object HTML document.all class]"===t||"[object HTMLCollection]"===t||"[object Object]"===t)&&null==e("")}catch(r){}return!1})}e.exports=i?function(e){if(l(e))return!0;if(!e)return!1;if("function"!==typeof e&&"object"!==typeof e)return!1;try{i(e,null,t)}catch(n){if(n!==r)return!1}return!s(e)&&a(e)}:function(e){if(l(e))return!0;if(!e)return!1;if("function"!==typeof e&&"object"!==typeof e)return!1;if(c)return a(e);if(s(e))return!1;var t=u.call(e);return!("[object Function]"!==t&&"[object GeneratorFunction]"!==t&&!/^\[object HTML/.test(t))&&a(e)}},Xcey:(e,t,r)=>{"use strict";var n,i=r("ydUC"),o=r("PJbW")(/^\s*(?:function)?\*/),s=r("W5hG")(),a=r("+65A"),u=i("Object.prototype.toString"),c=i("Function.prototype.toString");e.exports=function(e){if("function"!==typeof e)return!1;if(o(c(e)))return!0;if(!s)return"[object GeneratorFunction]"===u(e);if(!a)return!1;if("undefined"===typeof n){var t=function(){if(!s)return!1;try{return Function("return function*() {}")()}catch(e){}}();n=!!t&&a(t)}return a(e)===n}},"4NT3":e=>{e.exports=function(e){if("string"!==typeof e)throw new Error("[is-hex-prefixed] value must be type 'string', is currently type "+typeof e+", while checking isHexPrefixed.");return"0x"===e.slice(0,2)}},t8u0:e=>{"use strict";e.exports=function(e){return e!==e}},EGwq:(e,t,r)=>{"use strict";var n=r("5KZJ"),i=r("RKVt"),o=r("t8u0"),s=r("ch6X"),a=r("2SRo"),u=n(s(),Number);i(u,{getPolyfill:s,implementation:o,shim:a}),e.exports=u},ch6X:(e,t,r)=>{"use strict";var n=r("t8u0");e.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:n}},"2SRo":(e,t,r)=>{"use strict";var n=r("RKVt"),i=r("ch6X");e.exports=function(){var e=i();return n(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}},"/Kwe":(e,t,r)=>{"use strict";var n,i=r("ydUC"),o=r("W5hG")(),s=r("zfYl"),a=r("PtCN");if(o){var u=i("RegExp.prototype.exec"),c={},f=function(){throw c},l={toString:f,valueOf:f};"symbol"===typeof Symbol.toPrimitive&&(l[Symbol.toPrimitive]=f),n=function(e){if(!e||"object"!==typeof e)return!1;var t=a(e,"lastIndex");if(!(t&&s(t,"value")))return!1;try{u(e,l)}catch(r){return r===c}}}else{var h=i("Object.prototype.toString");n=function(e){return!(!e||"object"!==typeof e&&"function"!==typeof e)&&"[object RegExp]"===h(e)}}e.exports=n},xFOQ:(e,t,r)=>{"use strict";var n=r("urtZ");e.exports=function(e){return!!n(e)}},xUCB:(e,t,r)=>{"use strict";const n=r("1tl4").v4,i=r("UWZ9"),o=function(e,t){if(!(this instanceof o))return new o(e,t);t||(t={}),this.options={reviver:"undefined"!==typeof t.reviver?t.reviver:null,replacer:"undefined"!==typeof t.replacer?t.replacer:null,generator:"undefined"!==typeof t.generator?t.generator:function(){return n()},version:"undefined"!==typeof t.version?t.version:2,notificationIdNull:"boolean"===typeof t.notificationIdNull&&t.notificationIdNull},this.callServer=e};e.exports=o,o.prototype.request=function(e,t,r,n){const o=this;let s=null;const a=Array.isArray(e)&&"function"===typeof t;if(1===this.options.version&&a)throw new TypeError("JSON-RPC 1.0 does not support batching");if(a||!a&&e&&"object"===typeof e&&"function"===typeof t)n=t,s=e;else{"function"===typeof r&&(n=r,r=void 0);const o="function"===typeof n;try{s=i(e,t,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(c){if(o)return n(c);throw c}if(!o)return s}let u;try{u=JSON.stringify(s,this.options.replacer)}catch(c){return n(c)}return this.callServer(u,(function(e,t){o._parseResponse(e,t,n)})),s},o.prototype._parseResponse=function(e,t,r){if(e)return void r(e);if(!t)return r();let n;try{n=JSON.parse(t,this.options.reviver)}catch(e){return r(e)}if(3===r.length){if(Array.isArray(n)){const e=function(e){return"undefined"!==typeof e.error},t=function(t){return!e(t)};return r(null,n.filter(e),n.filter(t))}return r(null,n.error,n.result)}r(null,n)}},UWZ9:(e,t,r)=>{"use strict";const n=r("1tl4").v4;e.exports=function(e,t,r,i){if("string"!==typeof e)throw new TypeError(e+" must be a string");const o="number"===typeof(i=i||{}).version?i.version:2;if(1!==o&&2!==o)throw new TypeError(o+" must be 1 or 2");const s={method:e};if(2===o&&(s.jsonrpc="2.0"),t){if("object"!==typeof t&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");s.params=t}if("undefined"===typeof r){const e="function"===typeof i.generator?i.generator:function(){return n()};s.id=e(s,i)}else 2===o&&null===r?i.notificationIdNull&&(s.id=null):s.id=r;return s}},SaDX:(e,t,r)=>{e.exports=r("LdkT")(r("af1a"))},LdkT:(e,t,r)=>{const n=r("GtlA"),i=r("c6TS");e.exports=function(e){const t=n(e),r=i(e);return function(e,n){switch("string"===typeof e?e.toLowerCase():e){case"keccak224":return new t(1152,448,null,224,n);case"keccak256":return new t(1088,512,null,256,n);case"keccak384":return new t(832,768,null,384,n);case"keccak512":return new t(576,1024,null,512,n);case"sha3-224":return new t(1152,448,6,224,n);case"sha3-256":return new t(1088,512,6,256,n);case"sha3-384":return new t(832,768,6,384,n);case"sha3-512":return new t(576,1024,6,512,n);case"shake128":return new r(1344,256,31,n);case"shake256":return new r(1088,512,31,n);default:throw new Error("Invald algorithm: "+e)}}}},GtlA:(e,t,r)=>{var n=r("Dp+g").Buffer;const{Transform:i}=r("dpwk");e.exports=e=>class t extends i{constructor(t,r,n,i,o){super(o),this._rate=t,this._capacity=r,this._delimitedSuffix=n,this._hashBitLength=i,this._options=o,this._state=new e,this._state.initialize(t,r),this._finalized=!1}_transform(e,t,r){let n=null;try{this.update(e,t)}catch(i){n=i}r(n)}_flush(e){let t=null;try{this.push(this.digest())}catch(r){t=r}e(t)}update(e,t){if(!n.isBuffer(e)&&"string"!==typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Digest already called");return n.isBuffer(e)||(e=n.from(e,t)),this._state.absorb(e),this}digest(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0,this._delimitedSuffix&&this._state.absorbLastFewBits(this._delimitedSuffix);let t=this._state.squeeze(this._hashBitLength/8);return void 0!==e&&(t=t.toString(e)),this._resetState(),t}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const e=new t(this._rate,this._capacity,this._delimitedSuffix,this._hashBitLength,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e}}},c6TS:(e,t,r)=>{var n=r("Dp+g").Buffer;const{Transform:i}=r("dpwk");e.exports=e=>class t extends i{constructor(t,r,n,i){super(i),this._rate=t,this._capacity=r,this._delimitedSuffix=n,this._options=i,this._state=new e,this._state.initialize(t,r),this._finalized=!1}_transform(e,t,r){let n=null;try{this.update(e,t)}catch(i){n=i}r(n)}_flush(){}_read(e){this.push(this.squeeze(e))}update(e,t){if(!n.isBuffer(e)&&"string"!==typeof e)throw new TypeError("Data must be a string or a buffer");if(this._finalized)throw new Error("Squeeze already called");return n.isBuffer(e)||(e=n.from(e,t)),this._state.absorb(e),this}squeeze(e,t){this._finalized||(this._finalized=!0,this._state.absorbLastFewBits(this._delimitedSuffix));let r=this._state.squeeze(e);return void 0!==t&&(r=r.toString(t)),r}_resetState(){return this._state.initialize(this._rate,this._capacity),this}_clone(){const e=new t(this._rate,this._capacity,this._delimitedSuffix,this._options);return this._state.copy(e._state),e._finalized=this._finalized,e}}},tJOd:(e,t)=>{const r=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648];t.p1600=function(e){for(let t=0;t<24;++t){const n=e[0]^e[10]^e[20]^e[30]^e[40],i=e[1]^e[11]^e[21]^e[31]^e[41],o=e[2]^e[12]^e[22]^e[32]^e[42],s=e[3]^e[13]^e[23]^e[33]^e[43],a=e[4]^e[14]^e[24]^e[34]^e[44],u=e[5]^e[15]^e[25]^e[35]^e[45],c=e[6]^e[16]^e[26]^e[36]^e[46],f=e[7]^e[17]^e[27]^e[37]^e[47],l=e[8]^e[18]^e[28]^e[38]^e[48],h=e[9]^e[19]^e[29]^e[39]^e[49];let d=l^(o<<1|s>>>31),p=h^(s<<1|o>>>31);const g=e[0]^d,y=e[1]^p,m=e[10]^d,b=e[11]^p,w=e[20]^d,v=e[21]^p,_=e[30]^d,S=e[31]^p,E=e[40]^d,A=e[41]^p;d=n^(a<<1|u>>>31),p=i^(u<<1|a>>>31);const x=e[2]^d,k=e[3]^p,T=e[12]^d,I=e[13]^p,M=e[22]^d,P=e[23]^p,B=e[32]^d,O=e[33]^p,C=e[42]^d,U=e[43]^p;d=o^(c<<1|f>>>31),p=s^(f<<1|c>>>31);const N=e[4]^d,R=e[5]^p,L=e[14]^d,z=e[15]^p,j=e[24]^d,D=e[25]^p,q=e[34]^d,K=e[35]^p,H=e[44]^d,F=e[45]^p;d=a^(l<<1|h>>>31),p=u^(h<<1|l>>>31);const W=e[6]^d,$=e[7]^p,V=e[16]^d,G=e[17]^p,Z=e[26]^d,J=e[27]^p,X=e[36]^d,Y=e[37]^p,Q=e[46]^d,ee=e[47]^p;d=c^(n<<1|i>>>31),p=f^(i<<1|n>>>31);const te=e[8]^d,re=e[9]^p,ne=e[18]^d,ie=e[19]^p,oe=e[28]^d,se=e[29]^p,ae=e[38]^d,ue=e[39]^p,ce=e[48]^d,fe=e[49]^p,le=g,he=y,de=b<<4|m>>>28,pe=m<<4|b>>>28,ge=w<<3|v>>>29,ye=v<<3|w>>>29,me=S<<9|_>>>23,be=_<<9|S>>>23,we=E<<18|A>>>14,ve=A<<18|E>>>14,_e=x<<1|k>>>31,Se=k<<1|x>>>31,Ee=I<<12|T>>>20,Ae=T<<12|I>>>20,xe=M<<10|P>>>22,ke=P<<10|M>>>22,Te=O<<13|B>>>19,Ie=B<<13|O>>>19,Me=C<<2|U>>>30,Pe=U<<2|C>>>30,Be=R<<30|N>>>2,Oe=N<<30|R>>>2,Ce=L<<6|z>>>26,Ue=z<<6|L>>>26,Ne=D<<11|j>>>21,Re=j<<11|D>>>21,Le=q<<15|K>>>17,ze=K<<15|q>>>17,je=F<<29|H>>>3,De=H<<29|F>>>3,qe=W<<28|$>>>4,Ke=$<<28|W>>>4,He=G<<23|V>>>9,Fe=V<<23|G>>>9,We=Z<<25|J>>>7,$e=J<<25|Z>>>7,Ve=X<<21|Y>>>11,Ge=Y<<21|X>>>11,Ze=ee<<24|Q>>>8,Je=Q<<24|ee>>>8,Xe=te<<27|re>>>5,Ye=re<<27|te>>>5,Qe=ne<<20|ie>>>12,et=ie<<20|ne>>>12,tt=se<<7|oe>>>25,rt=oe<<7|se>>>25,nt=ae<<8|ue>>>24,it=ue<<8|ae>>>24,ot=ce<<14|fe>>>18,st=fe<<14|ce>>>18;e[0]=le^~Ee&Ne,e[1]=he^~Ae&Re,e[10]=qe^~Qe&ge,e[11]=Ke^~et&ye,e[20]=_e^~Ce&We,e[21]=Se^~Ue&$e,e[30]=Xe^~de&xe,e[31]=Ye^~pe&ke,e[40]=Be^~He&tt,e[41]=Oe^~Fe&rt,e[2]=Ee^~Ne&Ve,e[3]=Ae^~Re&Ge,e[12]=Qe^~ge&Te,e[13]=et^~ye&Ie,e[22]=Ce^~We&nt,e[23]=Ue^~$e&it,e[32]=de^~xe&Le,e[33]=pe^~ke&ze,e[42]=He^~tt&me,e[43]=Fe^~rt&be,e[4]=Ne^~Ve&ot,e[5]=Re^~Ge&st,e[14]=ge^~Te&je,e[15]=ye^~Ie&De,e[24]=We^~nt&we,e[25]=$e^~it&ve,e[34]=xe^~Le&Ze,e[35]=ke^~ze&Je,e[44]=tt^~me&Me,e[45]=rt^~be&Pe,e[6]=Ve^~ot&le,e[7]=Ge^~st&he,e[16]=Te^~je&qe,e[17]=Ie^~De&Ke,e[26]=nt^~we&_e,e[27]=it^~ve&Se,e[36]=Le^~Ze&Xe,e[37]=ze^~Je&Ye,e[46]=me^~Me&Be,e[47]=be^~Pe&Oe,e[8]=ot^~le&Ee,e[9]=st^~he&Ae,e[18]=je^~qe&Qe,e[19]=De^~Ke&et,e[28]=we^~_e&Ce,e[29]=ve^~Se&Ue,e[38]=Ze^~Xe&de,e[39]=Je^~Ye&pe,e[48]=Me^~Be&He,e[49]=Pe^~Oe&Fe,e[0]^=r[2*t],e[1]^=r[2*t+1]}}},af1a:(e,t,r)=>{var n=r("Dp+g").Buffer;const i=r("tJOd");function o(){this.state=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.blockSize=null,this.count=0,this.squeezing=!1}o.prototype.initialize=function(e,t){for(let r=0;r<50;++r)this.state[r]=0;this.blockSize=e/8,this.count=0,this.squeezing=!1},o.prototype.absorb=function(e){for(let t=0;t<e.length;++t)this.state[~~(this.count/4)]^=e[t]<<this.count%4*8,this.count+=1,this.count===this.blockSize&&(i.p1600(this.state),this.count=0)},o.prototype.absorbLastFewBits=function(e){this.state[~~(this.count/4)]^=e<<this.count%4*8,0!==(128&e)&&this.count===this.blockSize-1&&i.p1600(this.state),this.state[~~((this.blockSize-1)/4)]^=128<<(this.blockSize-1)%4*8,i.p1600(this.state),this.count=0,this.squeezing=!0},o.prototype.squeeze=function(e){this.squeezing||this.absorbLastFewBits(1);const t=n.alloc(e);for(let r=0;r<e;++r)t[r]=this.state[~~(this.count/4)]>>>this.count%4*8&255,this.count+=1,this.count===this.blockSize&&(i.p1600(this.state),this.count=0);return t},o.prototype.copy=function(e){for(let t=0;t<50;++t)e.state[t]=this.state[t];e.blockSize=this.blockSize,e.count=this.count,e.squeezing=this.squeezing},e.exports=o},"5L7L":function(e,t,r){var n;e=r.nmd(e),function(){var i,o="Expected a function",s="__lodash_hash_undefined__",a="__lodash_placeholder__",u=16,c=32,f=64,l=128,h=256,d=1/0,p=9007199254740991,g=NaN,y=4294967295,m=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",c],["partialRight",f],["rearg",h]],b="[object Arguments]",w="[object Array]",v="[object Boolean]",_="[object Date]",S="[object Error]",E="[object Function]",A="[object GeneratorFunction]",x="[object Map]",k="[object Number]",T="[object Object]",I="[object Promise]",M="[object RegExp]",P="[object Set]",B="[object String]",O="[object Symbol]",C="[object WeakMap]",U="[object ArrayBuffer]",N="[object DataView]",R="[object Float32Array]",L="[object Float64Array]",z="[object Int8Array]",j="[object Int16Array]",D="[object Int32Array]",q="[object Uint8Array]",K="[object Uint8ClampedArray]",H="[object Uint16Array]",F="[object Uint32Array]",W=/\b__p \+= '';/g,$=/\b(__p \+=) '' \+/g,V=/(__e\(.*?\)|\b__t\)) \+\n'';/g,G=/&(?:amp|lt|gt|quot|#39);/g,Z=/[&<>"']/g,J=RegExp(G.source),X=RegExp(Z.source),Y=/<%-([\s\S]+?)%>/g,Q=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,re=/^\w*$/,ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ie.source),se=/^\s+/,ae=/\s/,ue=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,fe=/,? & /,le=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/[()=,{}\[\]\/\s]/,de=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ge=/\w*$/,ye=/^[-+]0x[0-9a-f]+$/i,me=/^0b[01]+$/i,be=/^\[object .+?Constructor\]$/,we=/^0o[0-7]+$/i,ve=/^(?:0|[1-9]\d*)$/,_e=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Se=/($^)/,Ee=/['\n\r\u2028\u2029\\]/g,Ae="\\ud800-\\udfff",xe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ke="\\u2700-\\u27bf",Te="a-z\\xdf-\\xf6\\xf8-\\xff",Ie="A-Z\\xc0-\\xd6\\xd8-\\xde",Me="\\ufe0e\\ufe0f",Pe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Be="['\u2019]",Oe="["+Ae+"]",Ce="["+Pe+"]",Ue="["+xe+"]",Ne="\\d+",Re="["+ke+"]",Le="["+Te+"]",ze="[^"+Ae+Pe+Ne+ke+Te+Ie+"]",je="\\ud83c[\\udffb-\\udfff]",De="[^"+Ae+"]",qe="(?:\\ud83c[\\udde6-\\uddff]){2}",Ke="[\\ud800-\\udbff][\\udc00-\\udfff]",He="["+Ie+"]",Fe="\\u200d",We="(?:"+Le+"|"+ze+")",$e="(?:"+He+"|"+ze+")",Ve="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ge="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ze="(?:"+Ue+"|"+je+")"+"?",Je="["+Me+"]?",Xe=Je+Ze+("(?:"+Fe+"(?:"+[De,qe,Ke].join("|")+")"+Je+Ze+")*"),Ye="(?:"+[Re,qe,Ke].join("|")+")"+Xe,Qe="(?:"+[De+Ue+"?",Ue,qe,Ke,Oe].join("|")+")",et=RegExp(Be,"g"),tt=RegExp(Ue,"g"),rt=RegExp(je+"(?="+je+")|"+Qe+Xe,"g"),nt=RegExp([He+"?"+Le+"+"+Ve+"(?="+[Ce,He,"$"].join("|")+")",$e+"+"+Ge+"(?="+[Ce,He+We,"$"].join("|")+")",He+"?"+We+"+"+Ve,He+"+"+Ge,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ne,Ye].join("|"),"g"),it=RegExp("["+Fe+Ae+xe+Me+"]"),ot=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,st=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],at=-1,ut={};ut[R]=ut[L]=ut[z]=ut[j]=ut[D]=ut[q]=ut[K]=ut[H]=ut[F]=!0,ut[b]=ut[w]=ut[U]=ut[v]=ut[N]=ut[_]=ut[S]=ut[E]=ut[x]=ut[k]=ut[T]=ut[M]=ut[P]=ut[B]=ut[C]=!1;var ct={};ct[b]=ct[w]=ct[U]=ct[N]=ct[v]=ct[_]=ct[R]=ct[L]=ct[z]=ct[j]=ct[D]=ct[x]=ct[k]=ct[T]=ct[M]=ct[P]=ct[B]=ct[O]=ct[q]=ct[K]=ct[H]=ct[F]=!0,ct[S]=ct[E]=ct[C]=!1;var ft={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lt=parseFloat,ht=parseInt,dt="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,pt="object"==typeof self&&self&&self.Object===Object&&self,gt=dt||pt||Function("return this")(),yt=t&&!t.nodeType&&t,mt=yt&&e&&!e.nodeType&&e,bt=mt&&mt.exports===yt,wt=bt&&dt.process,vt=function(){try{var e=mt&&mt.require&&mt.require("util").types;return e||wt&&wt.binding&&wt.binding("util")}catch(t){}}(),_t=vt&&vt.isArrayBuffer,St=vt&&vt.isDate,Et=vt&&vt.isMap,At=vt&&vt.isRegExp,xt=vt&&vt.isSet,kt=vt&&vt.isTypedArray;function Tt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function It(e,t,r,n){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(n,s,r(s),e)}return n}function Mt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function Pt(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function Bt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function Ot(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[i++]=s)}return o}function Ct(e,t){return!!(null==e?0:e.length)&&Ht(e,t,0)>-1}function Ut(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function Nt(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function Rt(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function Lt(e,t,r,n){var i=-1,o=null==e?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}function zt(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function jt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Dt=Vt("length");function qt(e,t,r){var n;return r(e,(function(e,r,i){if(t(e,r,i))return n=r,!1})),n}function Kt(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Ht(e,t,r){return t===t?function(e,t,r){var n=r-1,i=e.length;for(;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):Kt(e,Wt,r)}function Ft(e,t,r,n){for(var i=r-1,o=e.length;++i<o;)if(n(e[i],t))return i;return-1}function Wt(e){return e!==e}function $t(e,t){var r=null==e?0:e.length;return r?Jt(e,t)/r:g}function Vt(e){return function(t){return null==t?i:t[e]}}function Gt(e){return function(t){return null==e?i:e[t]}}function Zt(e,t,r,n,i){return i(e,(function(e,i,o){r=n?(n=!1,e):t(r,e,i,o)})),r}function Jt(e,t){for(var r,n=-1,o=e.length;++n<o;){var s=t(e[n]);s!==i&&(r=r===i?s:r+s)}return r}function Xt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function Yt(e){return e?e.slice(0,gr(e)+1).replace(se,""):e}function Qt(e){return function(t){return e(t)}}function er(e,t){return Nt(t,(function(t){return e[t]}))}function tr(e,t){return e.has(t)}function rr(e,t){for(var r=-1,n=e.length;++r<n&&Ht(t,e[r],0)>-1;);return r}function nr(e,t){for(var r=e.length;r--&&Ht(t,e[r],0)>-1;);return r}var ir=Gt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),or=Gt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function sr(e){return"\\"+ft[e]}function ar(e){return it.test(e)}function ur(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function cr(e,t){return function(r){return e(t(r))}}function fr(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var s=e[r];s!==t&&s!==a||(e[r]=a,o[i++]=r)}return o}function lr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function hr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}function dr(e){return ar(e)?function(e){var t=rt.lastIndex=0;for(;rt.test(e);)++t;return t}(e):Dt(e)}function pr(e){return ar(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.split("")}(e)}function gr(e){for(var t=e.length;t--&&ae.test(e.charAt(t)););return t}var yr=Gt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var mr=function e(t){var r=(t=null==t?gt:mr.defaults(gt.Object(),t,mr.pick(gt,st))).Array,n=t.Date,ae=t.Error,Ae=t.Function,xe=t.Math,ke=t.Object,Te=t.RegExp,Ie=t.String,Me=t.TypeError,Pe=r.prototype,Be=Ae.prototype,Oe=ke.prototype,Ce=t["__core-js_shared__"],Ue=Be.toString,Ne=Oe.hasOwnProperty,Re=0,Le=function(){var e=/[^.]+$/.exec(Ce&&Ce.keys&&Ce.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ze=Oe.toString,je=Ue.call(ke),De=gt._,qe=Te("^"+Ue.call(Ne).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ke=bt?t.Buffer:i,He=t.Symbol,Fe=t.Uint8Array,We=Ke?Ke.allocUnsafe:i,$e=cr(ke.getPrototypeOf,ke),Ve=ke.create,Ge=Oe.propertyIsEnumerable,Ze=Pe.splice,Je=He?He.isConcatSpreadable:i,Xe=He?He.iterator:i,Ye=He?He.toStringTag:i,Qe=function(){try{var e=lo(ke,"defineProperty");return e({},"",{}),e}catch(t){}}(),rt=t.clearTimeout!==gt.clearTimeout&&t.clearTimeout,it=n&&n.now!==gt.Date.now&&n.now,ft=t.setTimeout!==gt.setTimeout&&t.setTimeout,dt=xe.ceil,pt=xe.floor,yt=ke.getOwnPropertySymbols,mt=Ke?Ke.isBuffer:i,wt=t.isFinite,vt=Pe.join,Dt=cr(ke.keys,ke),Gt=xe.max,br=xe.min,wr=n.now,vr=t.parseInt,_r=xe.random,Sr=Pe.reverse,Er=lo(t,"DataView"),Ar=lo(t,"Map"),xr=lo(t,"Promise"),kr=lo(t,"Set"),Tr=lo(t,"WeakMap"),Ir=lo(ke,"create"),Mr=Tr&&new Tr,Pr={},Br=zo(Er),Or=zo(Ar),Cr=zo(xr),Ur=zo(kr),Nr=zo(Tr),Rr=He?He.prototype:i,Lr=Rr?Rr.valueOf:i,zr=Rr?Rr.toString:i;function jr(e){if(ta(e)&&!Fs(e)&&!(e instanceof Hr)){if(e instanceof Kr)return e;if(Ne.call(e,"__wrapped__"))return jo(e)}return new Kr(e)}var Dr=function(){function e(){}return function(t){if(!ea(t))return{};if(Ve)return Ve(t);e.prototype=t;var r=new e;return e.prototype=i,r}}();function qr(){}function Kr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Hr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=y,this.__views__=[]}function Fr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Wr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function $r(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Vr(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new $r;++t<r;)this.add(e[t])}function Gr(e){var t=this.__data__=new Wr(e);this.size=t.size}function Zr(e,t){var r=Fs(e),n=!r&&Hs(e),i=!r&&!n&&Gs(e),o=!r&&!n&&!i&&ca(e),s=r||n||i||o,a=s?Xt(e.length,Ie):[],u=a.length;for(var c in e)!t&&!Ne.call(e,c)||s&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||wo(c,u))||a.push(c);return a}function Jr(e){var t=e.length;return t?e[Gn(0,t-1)]:i}function Xr(e,t){return No(Mi(e),an(t,0,e.length))}function Yr(e){return No(Mi(e))}function Qr(e,t,r){(r!==i&&!Ds(e[t],r)||r===i&&!(t in e))&&on(e,t,r)}function en(e,t,r){var n=e[t];Ne.call(e,t)&&Ds(n,r)&&(r!==i||t in e)||on(e,t,r)}function tn(e,t){for(var r=e.length;r--;)if(Ds(e[r][0],t))return r;return-1}function rn(e,t,r,n){return hn(e,(function(e,i,o){t(n,e,r(e),o)})),n}function nn(e,t){return e&&Pi(t,Ba(t),e)}function on(e,t,r){"__proto__"==t&&Qe?Qe(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function sn(e,t){for(var n=-1,o=t.length,s=r(o),a=null==e;++n<o;)s[n]=a?i:ka(e,t[n]);return s}function an(e,t,r){return e===e&&(r!==i&&(e=e<=r?e:r),t!==i&&(e=e>=t?e:t)),e}function un(e,t,r,n,o,s){var a,u=1&t,c=2&t,f=4&t;if(r&&(a=o?r(e,n,o,s):r(e)),a!==i)return a;if(!ea(e))return e;var l=Fs(e);if(l){if(a=function(e){var t=e.length,r=new e.constructor(t);t&&"string"==typeof e[0]&&Ne.call(e,"index")&&(r.index=e.index,r.input=e.input);return r}(e),!u)return Mi(e,a)}else{var h=go(e),d=h==E||h==A;if(Gs(e))return Ei(e,u);if(h==T||h==b||d&&!o){if(a=c||d?{}:mo(e),!u)return c?function(e,t){return Pi(e,po(e),t)}(e,function(e,t){return e&&Pi(t,Oa(t),e)}(a,e)):function(e,t){return Pi(e,ho(e),t)}(e,nn(a,e))}else{if(!ct[h])return o?e:{};a=function(e,t,r){var n=e.constructor;switch(t){case U:return Ai(e);case v:case _:return new n(+e);case N:return function(e,t){var r=t?Ai(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case R:case L:case z:case j:case D:case q:case K:case H:case F:return xi(e,r);case x:return new n;case k:case B:return new n(e);case M:return function(e){var t=new e.constructor(e.source,ge.exec(e));return t.lastIndex=e.lastIndex,t}(e);case P:return new n;case O:return i=e,Lr?ke(Lr.call(i)):{}}var i}(e,h,u)}}s||(s=new Gr);var p=s.get(e);if(p)return p;s.set(e,a),sa(e)?e.forEach((function(n){a.add(un(n,t,r,n,e,s))})):ra(e)&&e.forEach((function(n,i){a.set(i,un(n,t,r,i,e,s))}));var g=l?i:(f?c?io:no:c?Oa:Ba)(e);return Mt(g||e,(function(n,i){g&&(n=e[i=n]),en(a,i,un(n,t,r,i,e,s))})),a}function cn(e,t,r){var n=r.length;if(null==e)return!n;for(e=ke(e);n--;){var o=r[n],s=t[o],a=e[o];if(a===i&&!(o in e)||!s(a))return!1}return!0}function fn(e,t,r){if("function"!=typeof e)throw new Me(o);return Bo((function(){e.apply(i,r)}),t)}function ln(e,t,r,n){var i=-1,o=Ct,s=!0,a=e.length,u=[],c=t.length;if(!a)return u;r&&(t=Nt(t,Qt(r))),n?(o=Ut,s=!1):t.length>=200&&(o=tr,s=!1,t=new Vr(t));e:for(;++i<a;){var f=e[i],l=null==r?f:r(f);if(f=n||0!==f?f:0,s&&l===l){for(var h=c;h--;)if(t[h]===l)continue e;u.push(f)}else o(t,l,n)||u.push(f)}return u}jr.templateSettings={escape:Y,evaluate:Q,interpolate:ee,variable:"",imports:{_:jr}},jr.prototype=qr.prototype,jr.prototype.constructor=jr,Kr.prototype=Dr(qr.prototype),Kr.prototype.constructor=Kr,Hr.prototype=Dr(qr.prototype),Hr.prototype.constructor=Hr,Fr.prototype.clear=function(){this.__data__=Ir?Ir(null):{},this.size=0},Fr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Fr.prototype.get=function(e){var t=this.__data__;if(Ir){var r=t[e];return r===s?i:r}return Ne.call(t,e)?t[e]:i},Fr.prototype.has=function(e){var t=this.__data__;return Ir?t[e]!==i:Ne.call(t,e)},Fr.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Ir&&t===i?s:t,this},Wr.prototype.clear=function(){this.__data__=[],this.size=0},Wr.prototype.delete=function(e){var t=this.__data__,r=tn(t,e);return!(r<0)&&(r==t.length-1?t.pop():Ze.call(t,r,1),--this.size,!0)},Wr.prototype.get=function(e){var t=this.__data__,r=tn(t,e);return r<0?i:t[r][1]},Wr.prototype.has=function(e){return tn(this.__data__,e)>-1},Wr.prototype.set=function(e,t){var r=this.__data__,n=tn(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},$r.prototype.clear=function(){this.size=0,this.__data__={hash:new Fr,map:new(Ar||Wr),string:new Fr}},$r.prototype.delete=function(e){var t=co(this,e).delete(e);return this.size-=t?1:0,t},$r.prototype.get=function(e){return co(this,e).get(e)},$r.prototype.has=function(e){return co(this,e).has(e)},$r.prototype.set=function(e,t){var r=co(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},Vr.prototype.add=Vr.prototype.push=function(e){return this.__data__.set(e,s),this},Vr.prototype.has=function(e){return this.__data__.has(e)},Gr.prototype.clear=function(){this.__data__=new Wr,this.size=0},Gr.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Gr.prototype.get=function(e){return this.__data__.get(e)},Gr.prototype.has=function(e){return this.__data__.has(e)},Gr.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Wr){var n=r.__data__;if(!Ar||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new $r(n)}return r.set(e,t),this.size=r.size,this};var hn=Ci(vn),dn=Ci(_n,!0);function pn(e,t){var r=!0;return hn(e,(function(e,n,i){return r=!!t(e,n,i)})),r}function gn(e,t,r){for(var n=-1,o=e.length;++n<o;){var s=e[n],a=t(s);if(null!=a&&(u===i?a===a&&!ua(a):r(a,u)))var u=a,c=s}return c}function yn(e,t){var r=[];return hn(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function mn(e,t,r,n,i){var o=-1,s=e.length;for(r||(r=bo),i||(i=[]);++o<s;){var a=e[o];t>0&&r(a)?t>1?mn(a,t-1,r,n,i):Rt(i,a):n||(i[i.length]=a)}return i}var bn=Ui(),wn=Ui(!0);function vn(e,t){return e&&bn(e,t,Ba)}function _n(e,t){return e&&wn(e,t,Ba)}function Sn(e,t){return Ot(t,(function(t){return Xs(e[t])}))}function En(e,t){for(var r=0,n=(t=wi(t,e)).length;null!=e&&r<n;)e=e[Lo(t[r++])];return r&&r==n?e:i}function An(e,t,r){var n=t(e);return Fs(e)?n:Rt(n,r(e))}function xn(e){return null==e?e===i?"[object Undefined]":"[object Null]":Ye&&Ye in ke(e)?function(e){var t=Ne.call(e,Ye),r=e[Ye];try{e[Ye]=i;var n=!0}catch(s){}var o=ze.call(e);n&&(t?e[Ye]=r:delete e[Ye]);return o}(e):function(e){return ze.call(e)}(e)}function kn(e,t){return e>t}function Tn(e,t){return null!=e&&Ne.call(e,t)}function In(e,t){return null!=e&&t in ke(e)}function Mn(e,t,n){for(var o=n?Ut:Ct,s=e[0].length,a=e.length,u=a,c=r(a),f=1/0,l=[];u--;){var h=e[u];u&&t&&(h=Nt(h,Qt(t))),f=br(h.length,f),c[u]=!n&&(t||s>=120&&h.length>=120)?new Vr(u&&h):i}h=e[0];var d=-1,p=c[0];e:for(;++d<s&&l.length<f;){var g=h[d],y=t?t(g):g;if(g=n||0!==g?g:0,!(p?tr(p,y):o(l,y,n))){for(u=a;--u;){var m=c[u];if(!(m?tr(m,y):o(e[u],y,n)))continue e}p&&p.push(y),l.push(g)}}return l}function Pn(e,t,r){var n=null==(e=Io(e,t=wi(t,e)))?e:e[Lo(Jo(t))];return null==n?i:Tt(n,e,r)}function Bn(e){return ta(e)&&xn(e)==b}function On(e,t,r,n,o){return e===t||(null==e||null==t||!ta(e)&&!ta(t)?e!==e&&t!==t:function(e,t,r,n,o,s){var a=Fs(e),u=Fs(t),c=a?w:go(e),f=u?w:go(t),l=(c=c==b?T:c)==T,h=(f=f==b?T:f)==T,d=c==f;if(d&&Gs(e)){if(!Gs(t))return!1;a=!0,l=!1}if(d&&!l)return s||(s=new Gr),a||ca(e)?to(e,t,r,n,o,s):function(e,t,r,n,i,o,s){switch(r){case N:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case U:return!(e.byteLength!=t.byteLength||!o(new Fe(e),new Fe(t)));case v:case _:case k:return Ds(+e,+t);case S:return e.name==t.name&&e.message==t.message;case M:case B:return e==t+"";case x:var a=ur;case P:var u=1&n;if(a||(a=lr),e.size!=t.size&&!u)return!1;var c=s.get(e);if(c)return c==t;n|=2,s.set(e,t);var f=to(a(e),a(t),n,i,o,s);return s.delete(e),f;case O:if(Lr)return Lr.call(e)==Lr.call(t)}return!1}(e,t,c,r,n,o,s);if(!(1&r)){var p=l&&Ne.call(e,"__wrapped__"),g=h&&Ne.call(t,"__wrapped__");if(p||g){var y=p?e.value():e,m=g?t.value():t;return s||(s=new Gr),o(y,m,r,n,s)}}if(!d)return!1;return s||(s=new Gr),function(e,t,r,n,o,s){var a=1&r,u=no(e),c=u.length,f=no(t),l=f.length;if(c!=l&&!a)return!1;var h=c;for(;h--;){var d=u[h];if(!(a?d in t:Ne.call(t,d)))return!1}var p=s.get(e),g=s.get(t);if(p&&g)return p==t&&g==e;var y=!0;s.set(e,t),s.set(t,e);var m=a;for(;++h<c;){var b=e[d=u[h]],w=t[d];if(n)var v=a?n(w,b,d,t,e,s):n(b,w,d,e,t,s);if(!(v===i?b===w||o(b,w,r,n,s):v)){y=!1;break}m||(m="constructor"==d)}if(y&&!m){var _=e.constructor,S=t.constructor;_==S||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof S&&S instanceof S||(y=!1)}return s.delete(e),s.delete(t),y}(e,t,r,n,o,s)}(e,t,r,n,On,o))}function Cn(e,t,r,n){var o=r.length,s=o,a=!n;if(null==e)return!s;for(e=ke(e);o--;){var u=r[o];if(a&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<s;){var c=(u=r[o])[0],f=e[c],l=u[1];if(a&&u[2]){if(f===i&&!(c in e))return!1}else{var h=new Gr;if(n)var d=n(f,l,c,e,t,h);if(!(d===i?On(l,f,3,n,h):d))return!1}}return!0}function Un(e){return!(!ea(e)||(t=e,Le&&Le in t))&&(Xs(e)?qe:be).test(zo(e));var t}function Nn(e){return"function"==typeof e?e:null==e?nu:"object"==typeof e?Fs(e)?qn(e[0],e[1]):Dn(e):hu(e)}function Rn(e){if(!Ao(e))return Dt(e);var t=[];for(var r in ke(e))Ne.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Ln(e){if(!ea(e))return function(e){var t=[];if(null!=e)for(var r in ke(e))t.push(r);return t}(e);var t=Ao(e),r=[];for(var n in e)("constructor"!=n||!t&&Ne.call(e,n))&&r.push(n);return r}function zn(e,t){return e<t}function jn(e,t){var n=-1,i=$s(e)?r(e.length):[];return hn(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function Dn(e){var t=fo(e);return 1==t.length&&t[0][2]?ko(t[0][0],t[0][1]):function(r){return r===e||Cn(r,e,t)}}function qn(e,t){return _o(e)&&xo(t)?ko(Lo(e),t):function(r){var n=ka(r,e);return n===i&&n===t?Ta(r,e):On(t,n,3)}}function Kn(e,t,r,n,o){e!==t&&bn(t,(function(s,a){if(o||(o=new Gr),ea(s))!function(e,t,r,n,o,s,a){var u=Mo(e,r),c=Mo(t,r),f=a.get(c);if(f)return void Qr(e,r,f);var l=s?s(u,c,r+"",e,t,a):i,h=l===i;if(h){var d=Fs(c),p=!d&&Gs(c),g=!d&&!p&&ca(c);l=c,d||p||g?Fs(u)?l=u:Vs(u)?l=Mi(u):p?(h=!1,l=Ei(c,!0)):g?(h=!1,l=xi(c,!0)):l=[]:ia(c)||Hs(c)?(l=u,Hs(u)?l=ma(u):ea(u)&&!Xs(u)||(l=mo(c))):h=!1}h&&(a.set(c,l),o(l,c,n,s,a),a.delete(c));Qr(e,r,l)}(e,t,a,r,Kn,n,o);else{var u=n?n(Mo(e,a),s,a+"",e,t,o):i;u===i&&(u=s),Qr(e,a,u)}}),Oa)}function Hn(e,t){var r=e.length;if(r)return wo(t+=t<0?r:0,r)?e[t]:i}function Fn(e,t,r){t=t.length?Nt(t,(function(e){return Fs(e)?function(t){return En(t,1===e.length?e[0]:e)}:e})):[nu];var n=-1;t=Nt(t,Qt(uo()));var i=jn(e,(function(e,r,i){var o=Nt(t,(function(t){return t(e)}));return{criteria:o,index:++n,value:e}}));return function(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}(i,(function(e,t){return function(e,t,r){var n=-1,i=e.criteria,o=t.criteria,s=i.length,a=r.length;for(;++n<s;){var u=ki(i[n],o[n]);if(u)return n>=a?u:u*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)}))}function Wn(e,t,r){for(var n=-1,i=t.length,o={};++n<i;){var s=t[n],a=En(e,s);r(a,s)&&Qn(o,wi(s,e),a)}return o}function $n(e,t,r,n){var i=n?Ft:Ht,o=-1,s=t.length,a=e;for(e===t&&(t=Mi(t)),r&&(a=Nt(e,Qt(r)));++o<s;)for(var u=0,c=t[o],f=r?r(c):c;(u=i(a,f,u,n))>-1;)a!==e&&Ze.call(a,u,1),Ze.call(e,u,1);return e}function Vn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==o){var o=i;wo(i)?Ze.call(e,i,1):li(e,i)}}return e}function Gn(e,t){return e+pt(_r()*(t-e+1))}function Zn(e,t){var r="";if(!e||t<1||t>p)return r;do{t%2&&(r+=e),(t=pt(t/2))&&(e+=e)}while(t);return r}function Jn(e,t){return Oo(To(e,t,nu),e+"")}function Xn(e){return Jr(Da(e))}function Yn(e,t){var r=Da(e);return No(r,an(t,0,r.length))}function Qn(e,t,r,n){if(!ea(e))return e;for(var o=-1,s=(t=wi(t,e)).length,a=s-1,u=e;null!=u&&++o<s;){var c=Lo(t[o]),f=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=a){var l=u[c];(f=n?n(l,c,u):i)===i&&(f=ea(l)?l:wo(t[o+1])?[]:{})}en(u,c,f),u=u[c]}return e}var ei=Mr?function(e,t){return Mr.set(e,t),e}:nu,ti=Qe?function(e,t){return Qe(e,"toString",{configurable:!0,enumerable:!1,value:eu(t),writable:!0})}:nu;function ri(e){return No(Da(e))}function ni(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=r(o);++i<o;)s[i]=e[i+t];return s}function ii(e,t){var r;return hn(e,(function(e,n,i){return!(r=t(e,n,i))})),!!r}function oi(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;n<i;){var o=n+i>>>1,s=e[o];null!==s&&!ua(s)&&(r?s<=t:s<t)?n=o+1:i=o}return i}return si(e,t,nu,r)}function si(e,t,r,n){var o=0,s=null==e?0:e.length;if(0===s)return 0;for(var a=(t=r(t))!==t,u=null===t,c=ua(t),f=t===i;o<s;){var l=pt((o+s)/2),h=r(e[l]),d=h!==i,p=null===h,g=h===h,y=ua(h);if(a)var m=n||g;else m=f?g&&(n||d):u?g&&d&&(n||!p):c?g&&d&&!p&&(n||!y):!p&&!y&&(n?h<=t:h<t);m?o=l+1:s=l}return br(s,4294967294)}function ai(e,t){for(var r=-1,n=e.length,i=0,o=[];++r<n;){var s=e[r],a=t?t(s):s;if(!r||!Ds(a,u)){var u=a;o[i++]=0===s?0:s}}return o}function ui(e){return"number"==typeof e?e:ua(e)?g:+e}function ci(e){if("string"==typeof e)return e;if(Fs(e))return Nt(e,ci)+"";if(ua(e))return zr?zr.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function fi(e,t,r){var n=-1,i=Ct,o=e.length,s=!0,a=[],u=a;if(r)s=!1,i=Ut;else if(o>=200){var c=t?null:Zi(e);if(c)return lr(c);s=!1,i=tr,u=new Vr}else u=t?[]:a;e:for(;++n<o;){var f=e[n],l=t?t(f):f;if(f=r||0!==f?f:0,s&&l===l){for(var h=u.length;h--;)if(u[h]===l)continue e;t&&u.push(l),a.push(f)}else i(u,l,r)||(u!==a&&u.push(l),a.push(f))}return a}function li(e,t){return null==(e=Io(e,t=wi(t,e)))||delete e[Lo(Jo(t))]}function hi(e,t,r,n){return Qn(e,t,r(En(e,t)),n)}function di(e,t,r,n){for(var i=e.length,o=n?i:-1;(n?o--:++o<i)&&t(e[o],o,e););return r?ni(e,n?0:o,n?o+1:i):ni(e,n?o+1:0,n?i:o)}function pi(e,t){var r=e;return r instanceof Hr&&(r=r.value()),Lt(t,(function(e,t){return t.func.apply(t.thisArg,Rt([e],t.args))}),r)}function gi(e,t,n){var i=e.length;if(i<2)return i?fi(e[0]):[];for(var o=-1,s=r(i);++o<i;)for(var a=e[o],u=-1;++u<i;)u!=o&&(s[o]=ln(s[o]||a,e[u],t,n));return fi(mn(s,1),t,n)}function yi(e,t,r){for(var n=-1,o=e.length,s=t.length,a={};++n<o;){var u=n<s?t[n]:i;r(a,e[n],u)}return a}function mi(e){return Vs(e)?e:[]}function bi(e){return"function"==typeof e?e:nu}function wi(e,t){return Fs(e)?e:_o(e,t)?[e]:Ro(ba(e))}var vi=Jn;function _i(e,t,r){var n=e.length;return r=r===i?n:r,!t&&r>=n?e:ni(e,t,r)}var Si=rt||function(e){return gt.clearTimeout(e)};function Ei(e,t){if(t)return e.slice();var r=e.length,n=We?We(r):new e.constructor(r);return e.copy(n),n}function Ai(e){var t=new e.constructor(e.byteLength);return new Fe(t).set(new Fe(e)),t}function xi(e,t){var r=t?Ai(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function ki(e,t){if(e!==t){var r=e!==i,n=null===e,o=e===e,s=ua(e),a=t!==i,u=null===t,c=t===t,f=ua(t);if(!u&&!f&&!s&&e>t||s&&a&&c&&!u&&!f||n&&a&&c||!r&&c||!o)return 1;if(!n&&!s&&!f&&e<t||f&&r&&o&&!n&&!s||u&&r&&o||!a&&o||!c)return-1}return 0}function Ti(e,t,n,i){for(var o=-1,s=e.length,a=n.length,u=-1,c=t.length,f=Gt(s-a,0),l=r(c+f),h=!i;++u<c;)l[u]=t[u];for(;++o<a;)(h||o<s)&&(l[n[o]]=e[o]);for(;f--;)l[u++]=e[o++];return l}function Ii(e,t,n,i){for(var o=-1,s=e.length,a=-1,u=n.length,c=-1,f=t.length,l=Gt(s-u,0),h=r(l+f),d=!i;++o<l;)h[o]=e[o];for(var p=o;++c<f;)h[p+c]=t[c];for(;++a<u;)(d||o<s)&&(h[p+n[a]]=e[o++]);return h}function Mi(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function Pi(e,t,r,n){var o=!r;r||(r={});for(var s=-1,a=t.length;++s<a;){var u=t[s],c=n?n(r[u],e[u],u,r,e):i;c===i&&(c=e[u]),o?on(r,u,c):en(r,u,c)}return r}function Bi(e,t){return function(r,n){var i=Fs(r)?It:rn,o=t?t():{};return i(r,e,uo(n,2),o)}}function Oi(e){return Jn((function(t,r){var n=-1,o=r.length,s=o>1?r[o-1]:i,a=o>2?r[2]:i;for(s=e.length>3&&"function"==typeof s?(o--,s):i,a&&vo(r[0],r[1],a)&&(s=o<3?i:s,o=1),t=ke(t);++n<o;){var u=r[n];u&&e(t,u,n,s)}return t}))}function Ci(e,t){return function(r,n){if(null==r)return r;if(!$s(r))return e(r,n);for(var i=r.length,o=t?i:-1,s=ke(r);(t?o--:++o<i)&&!1!==n(s[o],o,s););return r}}function Ui(e){return function(t,r,n){for(var i=-1,o=ke(t),s=n(t),a=s.length;a--;){var u=s[e?a:++i];if(!1===r(o[u],u,o))break}return t}}function Ni(e){return function(t){var r=ar(t=ba(t))?pr(t):i,n=r?r[0]:t.charAt(0),o=r?_i(r,1).join(""):t.slice(1);return n[e]()+o}}function Ri(e){return function(t){return Lt(Xa(Ha(t).replace(et,"")),e,"")}}function Li(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Dr(e.prototype),n=e.apply(r,t);return ea(n)?n:r}}function zi(e){return function(t,r,n){var o=ke(t);if(!$s(t)){var s=uo(r,3);t=Ba(t),r=function(e){return s(o[e],e,o)}}var a=e(t,r,n);return a>-1?o[s?t[a]:a]:i}}function ji(e){return ro((function(t){var r=t.length,n=r,s=Kr.prototype.thru;for(e&&t.reverse();n--;){var a=t[n];if("function"!=typeof a)throw new Me(o);if(s&&!u&&"wrapper"==so(a))var u=new Kr([],!0)}for(n=u?n:r;++n<r;){var c=so(a=t[n]),f="wrapper"==c?oo(a):i;u=f&&So(f[0])&&424==f[1]&&!f[4].length&&1==f[9]?u[so(f[0])].apply(u,f[3]):1==a.length&&So(a)?u[c]():u.thru(a)}return function(){var e=arguments,n=e[0];if(u&&1==e.length&&Fs(n))return u.plant(n).value();for(var i=0,o=r?t[i].apply(this,e):n;++i<r;)o=t[i].call(this,o);return o}}))}function Di(e,t,n,o,s,a,u,c,f,h){var d=t&l,p=1&t,g=2&t,y=24&t,m=512&t,b=g?i:Li(e);return function l(){for(var w=arguments.length,v=r(w),_=w;_--;)v[_]=arguments[_];if(y)var S=ao(l),E=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}(v,S);if(o&&(v=Ti(v,o,s,y)),a&&(v=Ii(v,a,u,y)),w-=E,y&&w<h){var A=fr(v,S);return Vi(e,t,Di,l.placeholder,n,v,A,c,f,h-w)}var x=p?n:this,k=g?x[e]:e;return w=v.length,c?v=function(e,t){var r=e.length,n=br(t.length,r),o=Mi(e);for(;n--;){var s=t[n];e[n]=wo(s,r)?o[s]:i}return e}(v,c):m&&w>1&&v.reverse(),d&&f<w&&(v.length=f),this&&this!==gt&&this instanceof l&&(k=b||Li(k)),k.apply(x,v)}}function qi(e,t){return function(r,n){return function(e,t,r,n){return vn(e,(function(e,i,o){t(n,r(e),i,o)})),n}(r,e,t(n),{})}}function Ki(e,t){return function(r,n){var o;if(r===i&&n===i)return t;if(r!==i&&(o=r),n!==i){if(o===i)return n;"string"==typeof r||"string"==typeof n?(r=ci(r),n=ci(n)):(r=ui(r),n=ui(n)),o=e(r,n)}return o}}function Hi(e){return ro((function(t){return t=Nt(t,Qt(uo())),Jn((function(r){var n=this;return e(t,(function(e){return Tt(e,n,r)}))}))}))}function Fi(e,t){var r=(t=t===i?" ":ci(t)).length;if(r<2)return r?Zn(t,e):t;var n=Zn(t,dt(e/dr(t)));return ar(t)?_i(pr(n),0,e).join(""):n.slice(0,e)}function Wi(e){return function(t,n,o){return o&&"number"!=typeof o&&vo(t,n,o)&&(n=o=i),t=da(t),n===i?(n=t,t=0):n=da(n),function(e,t,n,i){for(var o=-1,s=Gt(dt((t-e)/(n||1)),0),a=r(s);s--;)a[i?s:++o]=e,e+=n;return a}(t,n,o=o===i?t<n?1:-1:da(o),e)}}function $i(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=ya(t),r=ya(r)),e(t,r)}}function Vi(e,t,r,n,o,s,a,u,l,h){var d=8&t;t|=d?c:f,4&(t&=~(d?f:c))||(t&=-4);var p=[e,t,o,d?s:i,d?a:i,d?i:s,d?i:a,u,l,h],g=r.apply(i,p);return So(e)&&Po(g,p),g.placeholder=n,Co(g,e,t)}function Gi(e){var t=xe[e];return function(e,r){if(e=ya(e),(r=null==r?0:br(pa(r),292))&&wt(e)){var n=(ba(e)+"e").split("e");return+((n=(ba(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var Zi=kr&&1/lr(new kr([,-0]))[1]==d?function(e){return new kr(e)}:uu;function Ji(e){return function(t){var r=go(t);return r==x?ur(t):r==P?hr(t):function(e,t){return Nt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Xi(e,t,n,s,d,p,g,y){var m=2&t;if(!m&&"function"!=typeof e)throw new Me(o);var b=s?s.length:0;if(b||(t&=-97,s=d=i),g=g===i?g:Gt(pa(g),0),y=y===i?y:pa(y),b-=d?d.length:0,t&f){var w=s,v=d;s=d=i}var _=m?i:oo(e),S=[e,t,n,s,d,w,v,p,g,y];if(_&&function(e,t){var r=e[1],n=t[1],i=r|n,o=i<131,s=n==l&&8==r||n==l&&r==h&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!o&&!s)return e;1&n&&(e[2]=t[2],i|=1&r?0:4);var u=t[3];if(u){var c=e[3];e[3]=c?Ti(c,u,t[4]):u,e[4]=c?fr(e[3],a):t[4]}(u=t[5])&&(c=e[5],e[5]=c?Ii(c,u,t[6]):u,e[6]=c?fr(e[5],a):t[6]);(u=t[7])&&(e[7]=u);n&l&&(e[8]=null==e[8]?t[8]:br(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(S,_),e=S[0],t=S[1],n=S[2],s=S[3],d=S[4],!(y=S[9]=S[9]===i?m?0:e.length:Gt(S[9]-b,0))&&24&t&&(t&=-25),t&&1!=t)E=8==t||t==u?function(e,t,n){var o=Li(e);return function s(){for(var a=arguments.length,u=r(a),c=a,f=ao(s);c--;)u[c]=arguments[c];var l=a<3&&u[0]!==f&&u[a-1]!==f?[]:fr(u,f);return(a-=l.length)<n?Vi(e,t,Di,s.placeholder,i,u,l,i,i,n-a):Tt(this&&this!==gt&&this instanceof s?o:e,this,u)}}(e,t,y):t!=c&&33!=t||d.length?Di.apply(i,S):function(e,t,n,i){var o=1&t,s=Li(e);return function t(){for(var a=-1,u=arguments.length,c=-1,f=i.length,l=r(f+u),h=this&&this!==gt&&this instanceof t?s:e;++c<f;)l[c]=i[c];for(;u--;)l[c++]=arguments[++a];return Tt(h,o?n:this,l)}}(e,t,n,s);else var E=function(e,t,r){var n=1&t,i=Li(e);return function t(){return(this&&this!==gt&&this instanceof t?i:e).apply(n?r:this,arguments)}}(e,t,n);return Co((_?ei:Po)(E,S),e,t)}function Yi(e,t,r,n){return e===i||Ds(e,Oe[r])&&!Ne.call(n,r)?t:e}function Qi(e,t,r,n,o,s){return ea(e)&&ea(t)&&(s.set(t,e),Kn(e,t,i,Qi,s),s.delete(t)),e}function eo(e){return ia(e)?i:e}function to(e,t,r,n,o,s){var a=1&r,u=e.length,c=t.length;if(u!=c&&!(a&&c>u))return!1;var f=s.get(e),l=s.get(t);if(f&&l)return f==t&&l==e;var h=-1,d=!0,p=2&r?new Vr:i;for(s.set(e,t),s.set(t,e);++h<u;){var g=e[h],y=t[h];if(n)var m=a?n(y,g,h,t,e,s):n(g,y,h,e,t,s);if(m!==i){if(m)continue;d=!1;break}if(p){if(!jt(t,(function(e,t){if(!tr(p,t)&&(g===e||o(g,e,r,n,s)))return p.push(t)}))){d=!1;break}}else if(g!==y&&!o(g,y,r,n,s)){d=!1;break}}return s.delete(e),s.delete(t),d}function ro(e){return Oo(To(e,i,Wo),e+"")}function no(e){return An(e,Ba,ho)}function io(e){return An(e,Oa,po)}var oo=Mr?function(e){return Mr.get(e)}:uu;function so(e){for(var t=e.name+"",r=Pr[t],n=Ne.call(Pr,t)?r.length:0;n--;){var i=r[n],o=i.func;if(null==o||o==e)return i.name}return t}function ao(e){return(Ne.call(jr,"placeholder")?jr:e).placeholder}function uo(){var e=jr.iteratee||iu;return e=e===iu?Nn:e,arguments.length?e(arguments[0],arguments[1]):e}function co(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function fo(e){for(var t=Ba(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,xo(i)]}return t}function lo(e,t){var r=function(e,t){return null==e?i:e[t]}(e,t);return Un(r)?r:i}var ho=yt?function(e){return null==e?[]:(e=ke(e),Ot(yt(e),(function(t){return Ge.call(e,t)})))}:gu,po=yt?function(e){for(var t=[];e;)Rt(t,ho(e)),e=$e(e);return t}:gu,go=xn;function yo(e,t,r){for(var n=-1,i=(t=wi(t,e)).length,o=!1;++n<i;){var s=Lo(t[n]);if(!(o=null!=e&&r(e,s)))break;e=e[s]}return o||++n!=i?o:!!(i=null==e?0:e.length)&&Qs(i)&&wo(s,i)&&(Fs(e)||Hs(e))}function mo(e){return"function"!=typeof e.constructor||Ao(e)?{}:Dr($e(e))}function bo(e){return Fs(e)||Hs(e)||!!(Je&&e&&e[Je])}function wo(e,t){var r=typeof e;return!!(t=null==t?p:t)&&("number"==r||"symbol"!=r&&ve.test(e))&&e>-1&&e%1==0&&e<t}function vo(e,t,r){if(!ea(r))return!1;var n=typeof t;return!!("number"==n?$s(r)&&wo(t,r.length):"string"==n&&t in r)&&Ds(r[t],e)}function _o(e,t){if(Fs(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!ua(e))||(re.test(e)||!te.test(e)||null!=t&&e in ke(t))}function So(e){var t=so(e),r=jr[t];if("function"!=typeof r||!(t in Hr.prototype))return!1;if(e===r)return!0;var n=oo(r);return!!n&&e===n[0]}(Er&&go(new Er(new ArrayBuffer(1)))!=N||Ar&&go(new Ar)!=x||xr&&go(xr.resolve())!=I||kr&&go(new kr)!=P||Tr&&go(new Tr)!=C)&&(go=function(e){var t=xn(e),r=t==T?e.constructor:i,n=r?zo(r):"";if(n)switch(n){case Br:return N;case Or:return x;case Cr:return I;case Ur:return P;case Nr:return C}return t});var Eo=Ce?Xs:yu;function Ao(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Oe)}function xo(e){return e===e&&!ea(e)}function ko(e,t){return function(r){return null!=r&&(r[e]===t&&(t!==i||e in ke(r)))}}function To(e,t,n){return t=Gt(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=Gt(i.length-t,0),a=r(s);++o<s;)a[o]=i[t+o];o=-1;for(var u=r(t+1);++o<t;)u[o]=i[o];return u[t]=n(a),Tt(e,this,u)}}function Io(e,t){return t.length<2?e:En(e,ni(t,0,-1))}function Mo(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Po=Uo(ei),Bo=ft||function(e,t){return gt.setTimeout(e,t)},Oo=Uo(ti);function Co(e,t,r){var n=t+"";return Oo(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(ue,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return Mt(m,(function(r){var n="_."+r[0];t&r[1]&&!Ct(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(fe):[]}(n),r)))}function Uo(e){var t=0,r=0;return function(){var n=wr(),o=16-(n-r);if(r=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function No(e,t){var r=-1,n=e.length,o=n-1;for(t=t===i?n:t;++r<t;){var s=Gn(r,o),a=e[s];e[s]=e[r],e[r]=a}return e.length=t,e}var Ro=function(e){var t=Us(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ne,(function(e,r,n,i){t.push(n?i.replace(de,"$1"):r||e)})),t}));function Lo(e){if("string"==typeof e||ua(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function zo(e){if(null!=e){try{return Ue.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function jo(e){if(e instanceof Hr)return e.clone();var t=new Kr(e.__wrapped__,e.__chain__);return t.__actions__=Mi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Do=Jn((function(e,t){return Vs(e)?ln(e,mn(t,1,Vs,!0)):[]})),qo=Jn((function(e,t){var r=Jo(t);return Vs(r)&&(r=i),Vs(e)?ln(e,mn(t,1,Vs,!0),uo(r,2)):[]})),Ko=Jn((function(e,t){var r=Jo(t);return Vs(r)&&(r=i),Vs(e)?ln(e,mn(t,1,Vs,!0),i,r):[]}));function Ho(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:pa(r);return i<0&&(i=Gt(n+i,0)),Kt(e,uo(t,3),i)}function Fo(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=n-1;return r!==i&&(o=pa(r),o=r<0?Gt(n+o,0):br(o,n-1)),Kt(e,uo(t,3),o,!0)}function Wo(e){return(null==e?0:e.length)?mn(e,1):[]}function $o(e){return e&&e.length?e[0]:i}var Vo=Jn((function(e){var t=Nt(e,mi);return t.length&&t[0]===e[0]?Mn(t):[]})),Go=Jn((function(e){var t=Jo(e),r=Nt(e,mi);return t===Jo(r)?t=i:r.pop(),r.length&&r[0]===e[0]?Mn(r,uo(t,2)):[]})),Zo=Jn((function(e){var t=Jo(e),r=Nt(e,mi);return(t="function"==typeof t?t:i)&&r.pop(),r.length&&r[0]===e[0]?Mn(r,i,t):[]}));function Jo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Xo=Jn(Yo);function Yo(e,t){return e&&e.length&&t&&t.length?$n(e,t):e}var Qo=ro((function(e,t){var r=null==e?0:e.length,n=sn(e,t);return Vn(e,Nt(t,(function(e){return wo(e,r)?+e:e})).sort(ki)),n}));function es(e){return null==e?e:Sr.call(e)}var ts=Jn((function(e){return fi(mn(e,1,Vs,!0))})),rs=Jn((function(e){var t=Jo(e);return Vs(t)&&(t=i),fi(mn(e,1,Vs,!0),uo(t,2))})),ns=Jn((function(e){var t=Jo(e);return t="function"==typeof t?t:i,fi(mn(e,1,Vs,!0),i,t)}));function is(e){if(!e||!e.length)return[];var t=0;return e=Ot(e,(function(e){if(Vs(e))return t=Gt(e.length,t),!0})),Xt(t,(function(t){return Nt(e,Vt(t))}))}function os(e,t){if(!e||!e.length)return[];var r=is(e);return null==t?r:Nt(r,(function(e){return Tt(t,i,e)}))}var ss=Jn((function(e,t){return Vs(e)?ln(e,t):[]})),as=Jn((function(e){return gi(Ot(e,Vs))})),us=Jn((function(e){var t=Jo(e);return Vs(t)&&(t=i),gi(Ot(e,Vs),uo(t,2))})),cs=Jn((function(e){var t=Jo(e);return t="function"==typeof t?t:i,gi(Ot(e,Vs),i,t)})),fs=Jn(is);var ls=Jn((function(e){var t=e.length,r=t>1?e[t-1]:i;return r="function"==typeof r?(e.pop(),r):i,os(e,r)}));function hs(e){var t=jr(e);return t.__chain__=!0,t}function ds(e,t){return t(e)}var ps=ro((function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,o=function(t){return sn(t,e)};return!(t>1||this.__actions__.length)&&n instanceof Hr&&wo(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:ds,args:[o],thisArg:i}),new Kr(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)}));var gs=Bi((function(e,t,r){Ne.call(e,r)?++e[r]:on(e,r,1)}));var ys=zi(Ho),ms=zi(Fo);function bs(e,t){return(Fs(e)?Mt:hn)(e,uo(t,3))}function ws(e,t){return(Fs(e)?Pt:dn)(e,uo(t,3))}var vs=Bi((function(e,t,r){Ne.call(e,r)?e[r].push(t):on(e,r,[t])}));var _s=Jn((function(e,t,n){var i=-1,o="function"==typeof t,s=$s(e)?r(e.length):[];return hn(e,(function(e){s[++i]=o?Tt(t,e,n):Pn(e,t,n)})),s})),Ss=Bi((function(e,t,r){on(e,r,t)}));function Es(e,t){return(Fs(e)?Nt:jn)(e,uo(t,3))}var As=Bi((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]}));var xs=Jn((function(e,t){if(null==e)return[];var r=t.length;return r>1&&vo(e,t[0],t[1])?t=[]:r>2&&vo(t[0],t[1],t[2])&&(t=[t[0]]),Fn(e,mn(t,1),[])})),ks=it||function(){return gt.Date.now()};function Ts(e,t,r){return t=r?i:t,t=e&&null==t?e.length:t,Xi(e,l,i,i,i,i,t)}function Is(e,t){var r;if("function"!=typeof t)throw new Me(o);return e=pa(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=i),r}}var Ms=Jn((function(e,t,r){var n=1;if(r.length){var i=fr(r,ao(Ms));n|=c}return Xi(e,n,t,r,i)})),Ps=Jn((function(e,t,r){var n=3;if(r.length){var i=fr(r,ao(Ps));n|=c}return Xi(t,n,e,r,i)}));function Bs(e,t,r){var n,s,a,u,c,f,l=0,h=!1,d=!1,p=!0;if("function"!=typeof e)throw new Me(o);function g(t){var r=n,o=s;return n=s=i,l=t,u=e.apply(o,r)}function y(e){var r=e-f;return f===i||r>=t||r<0||d&&e-l>=a}function m(){var e=ks();if(y(e))return b(e);c=Bo(m,function(e){var r=t-(e-f);return d?br(r,a-(e-l)):r}(e))}function b(e){return c=i,p&&n?g(e):(n=s=i,u)}function w(){var e=ks(),r=y(e);if(n=arguments,s=this,f=e,r){if(c===i)return function(e){return l=e,c=Bo(m,t),h?g(e):u}(f);if(d)return Si(c),c=Bo(m,t),g(f)}return c===i&&(c=Bo(m,t)),u}return t=ya(t)||0,ea(r)&&(h=!!r.leading,a=(d="maxWait"in r)?Gt(ya(r.maxWait)||0,t):a,p="trailing"in r?!!r.trailing:p),w.cancel=function(){c!==i&&Si(c),l=0,n=f=s=c=i},w.flush=function(){return c===i?u:b(ks())},w}var Os=Jn((function(e,t){return fn(e,1,t)})),Cs=Jn((function(e,t,r){return fn(e,ya(t)||0,r)}));function Us(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Me(o);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(Us.Cache||$r),r}function Ns(e){if("function"!=typeof e)throw new Me(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Us.Cache=$r;var Rs=vi((function(e,t){var r=(t=1==t.length&&Fs(t[0])?Nt(t[0],Qt(uo())):Nt(mn(t,1),Qt(uo()))).length;return Jn((function(n){for(var i=-1,o=br(n.length,r);++i<o;)n[i]=t[i].call(this,n[i]);return Tt(e,this,n)}))})),Ls=Jn((function(e,t){var r=fr(t,ao(Ls));return Xi(e,c,i,t,r)})),zs=Jn((function(e,t){var r=fr(t,ao(zs));return Xi(e,f,i,t,r)})),js=ro((function(e,t){return Xi(e,h,i,i,i,t)}));function Ds(e,t){return e===t||e!==e&&t!==t}var qs=$i(kn),Ks=$i((function(e,t){return e>=t})),Hs=Bn(function(){return arguments}())?Bn:function(e){return ta(e)&&Ne.call(e,"callee")&&!Ge.call(e,"callee")},Fs=r.isArray,Ws=_t?Qt(_t):function(e){return ta(e)&&xn(e)==U};function $s(e){return null!=e&&Qs(e.length)&&!Xs(e)}function Vs(e){return ta(e)&&$s(e)}var Gs=mt||yu,Zs=St?Qt(St):function(e){return ta(e)&&xn(e)==_};function Js(e){if(!ta(e))return!1;var t=xn(e);return t==S||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!ia(e)}function Xs(e){if(!ea(e))return!1;var t=xn(e);return t==E||t==A||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ys(e){return"number"==typeof e&&e==pa(e)}function Qs(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function ea(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function ta(e){return null!=e&&"object"==typeof e}var ra=Et?Qt(Et):function(e){return ta(e)&&go(e)==x};function na(e){return"number"==typeof e||ta(e)&&xn(e)==k}function ia(e){if(!ta(e)||xn(e)!=T)return!1;var t=$e(e);if(null===t)return!0;var r=Ne.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Ue.call(r)==je}var oa=At?Qt(At):function(e){return ta(e)&&xn(e)==M};var sa=xt?Qt(xt):function(e){return ta(e)&&go(e)==P};function aa(e){return"string"==typeof e||!Fs(e)&&ta(e)&&xn(e)==B}function ua(e){return"symbol"==typeof e||ta(e)&&xn(e)==O}var ca=kt?Qt(kt):function(e){return ta(e)&&Qs(e.length)&&!!ut[xn(e)]};var fa=$i(zn),la=$i((function(e,t){return e<=t}));function ha(e){if(!e)return[];if($s(e))return aa(e)?pr(e):Mi(e);if(Xe&&e[Xe])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[Xe]());var t=go(e);return(t==x?ur:t==P?lr:Da)(e)}function da(e){return e?(e=ya(e))===d||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function pa(e){var t=da(e),r=t%1;return t===t?r?t-r:t:0}function ga(e){return e?an(pa(e),0,y):0}function ya(e){if("number"==typeof e)return e;if(ua(e))return g;if(ea(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ea(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Yt(e);var r=me.test(e);return r||we.test(e)?ht(e.slice(2),r?2:8):ye.test(e)?g:+e}function ma(e){return Pi(e,Oa(e))}function ba(e){return null==e?"":ci(e)}var wa=Oi((function(e,t){if(Ao(t)||$s(t))Pi(t,Ba(t),e);else for(var r in t)Ne.call(t,r)&&en(e,r,t[r])})),va=Oi((function(e,t){Pi(t,Oa(t),e)})),_a=Oi((function(e,t,r,n){Pi(t,Oa(t),e,n)})),Sa=Oi((function(e,t,r,n){Pi(t,Ba(t),e,n)})),Ea=ro(sn);var Aa=Jn((function(e,t){e=ke(e);var r=-1,n=t.length,o=n>2?t[2]:i;for(o&&vo(t[0],t[1],o)&&(n=1);++r<n;)for(var s=t[r],a=Oa(s),u=-1,c=a.length;++u<c;){var f=a[u],l=e[f];(l===i||Ds(l,Oe[f])&&!Ne.call(e,f))&&(e[f]=s[f])}return e})),xa=Jn((function(e){return e.push(i,Qi),Tt(Ua,i,e)}));function ka(e,t,r){var n=null==e?i:En(e,t);return n===i?r:n}function Ta(e,t){return null!=e&&yo(e,t,In)}var Ia=qi((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=ze.call(t)),e[t]=r}),eu(nu)),Ma=qi((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=ze.call(t)),Ne.call(e,t)?e[t].push(r):e[t]=[r]}),uo),Pa=Jn(Pn);function Ba(e){return $s(e)?Zr(e):Rn(e)}function Oa(e){return $s(e)?Zr(e,!0):Ln(e)}var Ca=Oi((function(e,t,r){Kn(e,t,r)})),Ua=Oi((function(e,t,r,n){Kn(e,t,r,n)})),Na=ro((function(e,t){var r={};if(null==e)return r;var n=!1;t=Nt(t,(function(t){return t=wi(t,e),n||(n=t.length>1),t})),Pi(e,io(e),r),n&&(r=un(r,7,eo));for(var i=t.length;i--;)li(r,t[i]);return r}));var Ra=ro((function(e,t){return null==e?{}:function(e,t){return Wn(e,t,(function(t,r){return Ta(e,r)}))}(e,t)}));function La(e,t){if(null==e)return{};var r=Nt(io(e),(function(e){return[e]}));return t=uo(t),Wn(e,r,(function(e,r){return t(e,r[0])}))}var za=Ji(Ba),ja=Ji(Oa);function Da(e){return null==e?[]:er(e,Ba(e))}var qa=Ri((function(e,t,r){return t=t.toLowerCase(),e+(r?Ka(t):t)}));function Ka(e){return Ja(ba(e).toLowerCase())}function Ha(e){return(e=ba(e))&&e.replace(_e,ir).replace(tt,"")}var Fa=Ri((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),Wa=Ri((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),$a=Ni("toLowerCase");var Va=Ri((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()}));var Ga=Ri((function(e,t,r){return e+(r?" ":"")+Ja(t)}));var Za=Ri((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),Ja=Ni("toUpperCase");function Xa(e,t,r){return e=ba(e),(t=r?i:t)===i?function(e){return ot.test(e)}(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.match(le)||[]}(e):e.match(t)||[]}var Ya=Jn((function(e,t){try{return Tt(e,i,t)}catch(r){return Js(r)?r:new ae(r)}})),Qa=ro((function(e,t){return Mt(t,(function(t){t=Lo(t),on(e,t,Ms(e[t],e))})),e}));function eu(e){return function(){return e}}var tu=ji(),ru=ji(!0);function nu(e){return e}function iu(e){return Nn("function"==typeof e?e:un(e,1))}var ou=Jn((function(e,t){return function(r){return Pn(r,e,t)}})),su=Jn((function(e,t){return function(r){return Pn(e,r,t)}}));function au(e,t,r){var n=Ba(t),i=Sn(t,n);null!=r||ea(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=Sn(t,Ba(t)));var o=!(ea(r)&&"chain"in r)||!!r.chain,s=Xs(e);return Mt(i,(function(r){var n=t[r];e[r]=n,s&&(e.prototype[r]=function(){var t=this.__chain__;if(o||t){var r=e(this.__wrapped__);return(r.__actions__=Mi(this.__actions__)).push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,Rt([this.value()],arguments))})})),e}function uu(){}var cu=Hi(Nt),fu=Hi(Bt),lu=Hi(jt);function hu(e){return _o(e)?Vt(Lo(e)):function(e){return function(t){return En(t,e)}}(e)}var du=Wi(),pu=Wi(!0);function gu(){return[]}function yu(){return!1}var mu=Ki((function(e,t){return e+t}),0),bu=Gi("ceil"),wu=Ki((function(e,t){return e/t}),1),vu=Gi("floor");var _u=Ki((function(e,t){return e*t}),1),Su=Gi("round"),Eu=Ki((function(e,t){return e-t}),0);return jr.after=function(e,t){if("function"!=typeof t)throw new Me(o);return e=pa(e),function(){if(--e<1)return t.apply(this,arguments)}},jr.ary=Ts,jr.assign=wa,jr.assignIn=va,jr.assignInWith=_a,jr.assignWith=Sa,jr.at=Ea,jr.before=Is,jr.bind=Ms,jr.bindAll=Qa,jr.bindKey=Ps,jr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Fs(e)?e:[e]},jr.chain=hs,jr.chunk=function(e,t,n){t=(n?vo(e,t,n):t===i)?1:Gt(pa(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var s=0,a=0,u=r(dt(o/t));s<o;)u[a++]=ni(e,s,s+=t);return u},jr.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var o=e[t];o&&(i[n++]=o)}return i},jr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Rt(Fs(n)?Mi(n):[n],mn(t,1))},jr.cond=function(e){var t=null==e?0:e.length,r=uo();return e=t?Nt(e,(function(e){if("function"!=typeof e[1])throw new Me(o);return[r(e[0]),e[1]]})):[],Jn((function(r){for(var n=-1;++n<t;){var i=e[n];if(Tt(i[0],this,r))return Tt(i[1],this,r)}}))},jr.conforms=function(e){return function(e){var t=Ba(e);return function(r){return cn(r,e,t)}}(un(e,1))},jr.constant=eu,jr.countBy=gs,jr.create=function(e,t){var r=Dr(e);return null==t?r:nn(r,t)},jr.curry=function e(t,r,n){var o=Xi(t,8,i,i,i,i,i,r=n?i:r);return o.placeholder=e.placeholder,o},jr.curryRight=function e(t,r,n){var o=Xi(t,u,i,i,i,i,i,r=n?i:r);return o.placeholder=e.placeholder,o},jr.debounce=Bs,jr.defaults=Aa,jr.defaultsDeep=xa,jr.defer=Os,jr.delay=Cs,jr.difference=Do,jr.differenceBy=qo,jr.differenceWith=Ko,jr.drop=function(e,t,r){var n=null==e?0:e.length;return n?ni(e,(t=r||t===i?1:pa(t))<0?0:t,n):[]},jr.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?ni(e,0,(t=n-(t=r||t===i?1:pa(t)))<0?0:t):[]},jr.dropRightWhile=function(e,t){return e&&e.length?di(e,uo(t,3),!0,!0):[]},jr.dropWhile=function(e,t){return e&&e.length?di(e,uo(t,3),!0):[]},jr.fill=function(e,t,r,n){var o=null==e?0:e.length;return o?(r&&"number"!=typeof r&&vo(e,t,r)&&(r=0,n=o),function(e,t,r,n){var o=e.length;for((r=pa(r))<0&&(r=-r>o?0:o+r),(n=n===i||n>o?o:pa(n))<0&&(n+=o),n=r>n?0:ga(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},jr.filter=function(e,t){return(Fs(e)?Ot:yn)(e,uo(t,3))},jr.flatMap=function(e,t){return mn(Es(e,t),1)},jr.flatMapDeep=function(e,t){return mn(Es(e,t),d)},jr.flatMapDepth=function(e,t,r){return r=r===i?1:pa(r),mn(Es(e,t),r)},jr.flatten=Wo,jr.flattenDeep=function(e){return(null==e?0:e.length)?mn(e,d):[]},jr.flattenDepth=function(e,t){return(null==e?0:e.length)?mn(e,t=t===i?1:pa(t)):[]},jr.flip=function(e){return Xi(e,512)},jr.flow=tu,jr.flowRight=ru,jr.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},jr.functions=function(e){return null==e?[]:Sn(e,Ba(e))},jr.functionsIn=function(e){return null==e?[]:Sn(e,Oa(e))},jr.groupBy=vs,jr.initial=function(e){return(null==e?0:e.length)?ni(e,0,-1):[]},jr.intersection=Vo,jr.intersectionBy=Go,jr.intersectionWith=Zo,jr.invert=Ia,jr.invertBy=Ma,jr.invokeMap=_s,jr.iteratee=iu,jr.keyBy=Ss,jr.keys=Ba,jr.keysIn=Oa,jr.map=Es,jr.mapKeys=function(e,t){var r={};return t=uo(t,3),vn(e,(function(e,n,i){on(r,t(e,n,i),e)})),r},jr.mapValues=function(e,t){var r={};return t=uo(t,3),vn(e,(function(e,n,i){on(r,n,t(e,n,i))})),r},jr.matches=function(e){return Dn(un(e,1))},jr.matchesProperty=function(e,t){return qn(e,un(t,1))},jr.memoize=Us,jr.merge=Ca,jr.mergeWith=Ua,jr.method=ou,jr.methodOf=su,jr.mixin=au,jr.negate=Ns,jr.nthArg=function(e){return e=pa(e),Jn((function(t){return Hn(t,e)}))},jr.omit=Na,jr.omitBy=function(e,t){return La(e,Ns(uo(t)))},jr.once=function(e){return Is(2,e)},jr.orderBy=function(e,t,r,n){return null==e?[]:(Fs(t)||(t=null==t?[]:[t]),Fs(r=n?i:r)||(r=null==r?[]:[r]),Fn(e,t,r))},jr.over=cu,jr.overArgs=Rs,jr.overEvery=fu,jr.overSome=lu,jr.partial=Ls,jr.partialRight=zs,jr.partition=As,jr.pick=Ra,jr.pickBy=La,jr.property=hu,jr.propertyOf=function(e){return function(t){return null==e?i:En(e,t)}},jr.pull=Xo,jr.pullAll=Yo,jr.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?$n(e,t,uo(r,2)):e},jr.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?$n(e,t,i,r):e},jr.pullAt=Qo,jr.range=du,jr.rangeRight=pu,jr.rearg=js,jr.reject=function(e,t){return(Fs(e)?Ot:yn)(e,Ns(uo(t,3)))},jr.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],o=e.length;for(t=uo(t,3);++n<o;){var s=e[n];t(s,n,e)&&(r.push(s),i.push(n))}return Vn(e,i),r},jr.rest=function(e,t){if("function"!=typeof e)throw new Me(o);return Jn(e,t=t===i?t:pa(t))},jr.reverse=es,jr.sampleSize=function(e,t,r){return t=(r?vo(e,t,r):t===i)?1:pa(t),(Fs(e)?Xr:Yn)(e,t)},jr.set=function(e,t,r){return null==e?e:Qn(e,t,r)},jr.setWith=function(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:Qn(e,t,r,n)},jr.shuffle=function(e){return(Fs(e)?Yr:ri)(e)},jr.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&vo(e,t,r)?(t=0,r=n):(t=null==t?0:pa(t),r=r===i?n:pa(r)),ni(e,t,r)):[]},jr.sortBy=xs,jr.sortedUniq=function(e){return e&&e.length?ai(e):[]},jr.sortedUniqBy=function(e,t){return e&&e.length?ai(e,uo(t,2)):[]},jr.split=function(e,t,r){return r&&"number"!=typeof r&&vo(e,t,r)&&(t=r=i),(r=r===i?y:r>>>0)?(e=ba(e))&&("string"==typeof t||null!=t&&!oa(t))&&!(t=ci(t))&&ar(e)?_i(pr(e),0,r):e.split(t,r):[]},jr.spread=function(e,t){if("function"!=typeof e)throw new Me(o);return t=null==t?0:Gt(pa(t),0),Jn((function(r){var n=r[t],i=_i(r,0,t);return n&&Rt(i,n),Tt(e,this,i)}))},jr.tail=function(e){var t=null==e?0:e.length;return t?ni(e,1,t):[]},jr.take=function(e,t,r){return e&&e.length?ni(e,0,(t=r||t===i?1:pa(t))<0?0:t):[]},jr.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?ni(e,(t=n-(t=r||t===i?1:pa(t)))<0?0:t,n):[]},jr.takeRightWhile=function(e,t){return e&&e.length?di(e,uo(t,3),!1,!0):[]},jr.takeWhile=function(e,t){return e&&e.length?di(e,uo(t,3)):[]},jr.tap=function(e,t){return t(e),e},jr.throttle=function(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new Me(o);return ea(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Bs(e,t,{leading:n,maxWait:t,trailing:i})},jr.thru=ds,jr.toArray=ha,jr.toPairs=za,jr.toPairsIn=ja,jr.toPath=function(e){return Fs(e)?Nt(e,Lo):ua(e)?[e]:Mi(Ro(ba(e)))},jr.toPlainObject=ma,jr.transform=function(e,t,r){var n=Fs(e),i=n||Gs(e)||ca(e);if(t=uo(t,4),null==r){var o=e&&e.constructor;r=i?n?new o:[]:ea(e)&&Xs(o)?Dr($e(e)):{}}return(i?Mt:vn)(e,(function(e,n,i){return t(r,e,n,i)})),r},jr.unary=function(e){return Ts(e,1)},jr.union=ts,jr.unionBy=rs,jr.unionWith=ns,jr.uniq=function(e){return e&&e.length?fi(e):[]},jr.uniqBy=function(e,t){return e&&e.length?fi(e,uo(t,2)):[]},jr.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?fi(e,i,t):[]},jr.unset=function(e,t){return null==e||li(e,t)},jr.unzip=is,jr.unzipWith=os,jr.update=function(e,t,r){return null==e?e:hi(e,t,bi(r))},jr.updateWith=function(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:hi(e,t,bi(r),n)},jr.values=Da,jr.valuesIn=function(e){return null==e?[]:er(e,Oa(e))},jr.without=ss,jr.words=Xa,jr.wrap=function(e,t){return Ls(bi(t),e)},jr.xor=as,jr.xorBy=us,jr.xorWith=cs,jr.zip=fs,jr.zipObject=function(e,t){return yi(e||[],t||[],en)},jr.zipObjectDeep=function(e,t){return yi(e||[],t||[],Qn)},jr.zipWith=ls,jr.entries=za,jr.entriesIn=ja,jr.extend=va,jr.extendWith=_a,au(jr,jr),jr.add=mu,jr.attempt=Ya,jr.camelCase=qa,jr.capitalize=Ka,jr.ceil=bu,jr.clamp=function(e,t,r){return r===i&&(r=t,t=i),r!==i&&(r=(r=ya(r))===r?r:0),t!==i&&(t=(t=ya(t))===t?t:0),an(ya(e),t,r)},jr.clone=function(e){return un(e,4)},jr.cloneDeep=function(e){return un(e,5)},jr.cloneDeepWith=function(e,t){return un(e,5,t="function"==typeof t?t:i)},jr.cloneWith=function(e,t){return un(e,4,t="function"==typeof t?t:i)},jr.conformsTo=function(e,t){return null==t||cn(e,t,Ba(t))},jr.deburr=Ha,jr.defaultTo=function(e,t){return null==e||e!==e?t:e},jr.divide=wu,jr.endsWith=function(e,t,r){e=ba(e),t=ci(t);var n=e.length,o=r=r===i?n:an(pa(r),0,n);return(r-=t.length)>=0&&e.slice(r,o)==t},jr.eq=Ds,jr.escape=function(e){return(e=ba(e))&&X.test(e)?e.replace(Z,or):e},jr.escapeRegExp=function(e){return(e=ba(e))&&oe.test(e)?e.replace(ie,"\\$&"):e},jr.every=function(e,t,r){var n=Fs(e)?Bt:pn;return r&&vo(e,t,r)&&(t=i),n(e,uo(t,3))},jr.find=ys,jr.findIndex=Ho,jr.findKey=function(e,t){return qt(e,uo(t,3),vn)},jr.findLast=ms,jr.findLastIndex=Fo,jr.findLastKey=function(e,t){return qt(e,uo(t,3),_n)},jr.floor=vu,jr.forEach=bs,jr.forEachRight=ws,jr.forIn=function(e,t){return null==e?e:bn(e,uo(t,3),Oa)},jr.forInRight=function(e,t){return null==e?e:wn(e,uo(t,3),Oa)},jr.forOwn=function(e,t){return e&&vn(e,uo(t,3))},jr.forOwnRight=function(e,t){return e&&_n(e,uo(t,3))},jr.get=ka,jr.gt=qs,jr.gte=Ks,jr.has=function(e,t){return null!=e&&yo(e,t,Tn)},jr.hasIn=Ta,jr.head=$o,jr.identity=nu,jr.includes=function(e,t,r,n){e=$s(e)?e:Da(e),r=r&&!n?pa(r):0;var i=e.length;return r<0&&(r=Gt(i+r,0)),aa(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&Ht(e,t,r)>-1},jr.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:pa(r);return i<0&&(i=Gt(n+i,0)),Ht(e,t,i)},jr.inRange=function(e,t,r){return t=da(t),r===i?(r=t,t=0):r=da(r),function(e,t,r){return e>=br(t,r)&&e<Gt(t,r)}(e=ya(e),t,r)},jr.invoke=Pa,jr.isArguments=Hs,jr.isArray=Fs,jr.isArrayBuffer=Ws,jr.isArrayLike=$s,jr.isArrayLikeObject=Vs,jr.isBoolean=function(e){return!0===e||!1===e||ta(e)&&xn(e)==v},jr.isBuffer=Gs,jr.isDate=Zs,jr.isElement=function(e){return ta(e)&&1===e.nodeType&&!ia(e)},jr.isEmpty=function(e){if(null==e)return!0;if($s(e)&&(Fs(e)||"string"==typeof e||"function"==typeof e.splice||Gs(e)||ca(e)||Hs(e)))return!e.length;var t=go(e);if(t==x||t==P)return!e.size;if(Ao(e))return!Rn(e).length;for(var r in e)if(Ne.call(e,r))return!1;return!0},jr.isEqual=function(e,t){return On(e,t)},jr.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:i)?r(e,t):i;return n===i?On(e,t,i,r):!!n},jr.isError=Js,jr.isFinite=function(e){return"number"==typeof e&&wt(e)},jr.isFunction=Xs,jr.isInteger=Ys,jr.isLength=Qs,jr.isMap=ra,jr.isMatch=function(e,t){return e===t||Cn(e,t,fo(t))},jr.isMatchWith=function(e,t,r){return r="function"==typeof r?r:i,Cn(e,t,fo(t),r)},jr.isNaN=function(e){return na(e)&&e!=+e},jr.isNative=function(e){if(Eo(e))throw new ae("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Un(e)},jr.isNil=function(e){return null==e},jr.isNull=function(e){return null===e},jr.isNumber=na,jr.isObject=ea,jr.isObjectLike=ta,jr.isPlainObject=ia,jr.isRegExp=oa,jr.isSafeInteger=function(e){return Ys(e)&&e>=-9007199254740991&&e<=p},jr.isSet=sa,jr.isString=aa,jr.isSymbol=ua,jr.isTypedArray=ca,jr.isUndefined=function(e){return e===i},jr.isWeakMap=function(e){return ta(e)&&go(e)==C},jr.isWeakSet=function(e){return ta(e)&&"[object WeakSet]"==xn(e)},jr.join=function(e,t){return null==e?"":vt.call(e,t)},jr.kebabCase=Fa,jr.last=Jo,jr.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var o=n;return r!==i&&(o=(o=pa(r))<0?Gt(n+o,0):br(o,n-1)),t===t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,o):Kt(e,Wt,o,!0)},jr.lowerCase=Wa,jr.lowerFirst=$a,jr.lt=fa,jr.lte=la,jr.max=function(e){return e&&e.length?gn(e,nu,kn):i},jr.maxBy=function(e,t){return e&&e.length?gn(e,uo(t,2),kn):i},jr.mean=function(e){return $t(e,nu)},jr.meanBy=function(e,t){return $t(e,uo(t,2))},jr.min=function(e){return e&&e.length?gn(e,nu,zn):i},jr.minBy=function(e,t){return e&&e.length?gn(e,uo(t,2),zn):i},jr.stubArray=gu,jr.stubFalse=yu,jr.stubObject=function(){return{}},jr.stubString=function(){return""},jr.stubTrue=function(){return!0},jr.multiply=_u,jr.nth=function(e,t){return e&&e.length?Hn(e,pa(t)):i},jr.noConflict=function(){return gt._===this&&(gt._=De),this},jr.noop=uu,jr.now=ks,jr.pad=function(e,t,r){e=ba(e);var n=(t=pa(t))?dr(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return Fi(pt(i),r)+e+Fi(dt(i),r)},jr.padEnd=function(e,t,r){e=ba(e);var n=(t=pa(t))?dr(e):0;return t&&n<t?e+Fi(t-n,r):e},jr.padStart=function(e,t,r){e=ba(e);var n=(t=pa(t))?dr(e):0;return t&&n<t?Fi(t-n,r)+e:e},jr.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),vr(ba(e).replace(se,""),t||0)},jr.random=function(e,t,r){if(r&&"boolean"!=typeof r&&vo(e,t,r)&&(t=r=i),r===i&&("boolean"==typeof t?(r=t,t=i):"boolean"==typeof e&&(r=e,e=i)),e===i&&t===i?(e=0,t=1):(e=da(e),t===i?(t=e,e=0):t=da(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var o=_r();return br(e+o*(t-e+lt("1e-"+((o+"").length-1))),t)}return Gn(e,t)},jr.reduce=function(e,t,r){var n=Fs(e)?Lt:Zt,i=arguments.length<3;return n(e,uo(t,4),r,i,hn)},jr.reduceRight=function(e,t,r){var n=Fs(e)?zt:Zt,i=arguments.length<3;return n(e,uo(t,4),r,i,dn)},jr.repeat=function(e,t,r){return t=(r?vo(e,t,r):t===i)?1:pa(t),Zn(ba(e),t)},jr.replace=function(){var e=arguments,t=ba(e[0]);return e.length<3?t:t.replace(e[1],e[2])},jr.result=function(e,t,r){var n=-1,o=(t=wi(t,e)).length;for(o||(o=1,e=i);++n<o;){var s=null==e?i:e[Lo(t[n])];s===i&&(n=o,s=r),e=Xs(s)?s.call(e):s}return e},jr.round=Su,jr.runInContext=e,jr.sample=function(e){return(Fs(e)?Jr:Xn)(e)},jr.size=function(e){if(null==e)return 0;if($s(e))return aa(e)?dr(e):e.length;var t=go(e);return t==x||t==P?e.size:Rn(e).length},jr.snakeCase=Va,jr.some=function(e,t,r){var n=Fs(e)?jt:ii;return r&&vo(e,t,r)&&(t=i),n(e,uo(t,3))},jr.sortedIndex=function(e,t){return oi(e,t)},jr.sortedIndexBy=function(e,t,r){return si(e,t,uo(r,2))},jr.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=oi(e,t);if(n<r&&Ds(e[n],t))return n}return-1},jr.sortedLastIndex=function(e,t){return oi(e,t,!0)},jr.sortedLastIndexBy=function(e,t,r){return si(e,t,uo(r,2),!0)},jr.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var r=oi(e,t,!0)-1;if(Ds(e[r],t))return r}return-1},jr.startCase=Ga,jr.startsWith=function(e,t,r){return e=ba(e),r=null==r?0:an(pa(r),0,e.length),t=ci(t),e.slice(r,r+t.length)==t},jr.subtract=Eu,jr.sum=function(e){return e&&e.length?Jt(e,nu):0},jr.sumBy=function(e,t){return e&&e.length?Jt(e,uo(t,2)):0},jr.template=function(e,t,r){var n=jr.templateSettings;r&&vo(e,t,r)&&(t=i),e=ba(e),t=_a({},t,n,Yi);var o,s,a=_a({},t.imports,n.imports,Yi),u=Ba(a),c=er(a,u),f=0,l=t.interpolate||Se,h="__p += '",d=Te((t.escape||Se).source+"|"+l.source+"|"+(l===ee?pe:Se).source+"|"+(t.evaluate||Se).source+"|$","g"),p="//# sourceURL="+(Ne.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++at+"]")+"\n";e.replace(d,(function(t,r,n,i,a,u){return n||(n=i),h+=e.slice(f,u).replace(Ee,sr),r&&(o=!0,h+="' +\n__e("+r+") +\n'"),a&&(s=!0,h+="';\n"+a+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),f=u+t.length,t})),h+="';\n";var g=Ne.call(t,"variable")&&t.variable;if(g){if(he.test(g))throw new ae("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(s?h.replace(W,""):h).replace($,"$1").replace(V,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var y=Ya((function(){return Ae(u,p+"return "+h).apply(i,c)}));if(y.source=h,Js(y))throw y;return y},jr.times=function(e,t){if((e=pa(e))<1||e>p)return[];var r=y,n=br(e,y);t=uo(t),e-=y;for(var i=Xt(n,t);++r<e;)t(r);return i},jr.toFinite=da,jr.toInteger=pa,jr.toLength=ga,jr.toLower=function(e){return ba(e).toLowerCase()},jr.toNumber=ya,jr.toSafeInteger=function(e){return e?an(pa(e),-9007199254740991,p):0===e?e:0},jr.toString=ba,jr.toUpper=function(e){return ba(e).toUpperCase()},jr.trim=function(e,t,r){if((e=ba(e))&&(r||t===i))return Yt(e);if(!e||!(t=ci(t)))return e;var n=pr(e),o=pr(t);return _i(n,rr(n,o),nr(n,o)+1).join("")},jr.trimEnd=function(e,t,r){if((e=ba(e))&&(r||t===i))return e.slice(0,gr(e)+1);if(!e||!(t=ci(t)))return e;var n=pr(e);return _i(n,0,nr(n,pr(t))+1).join("")},jr.trimStart=function(e,t,r){if((e=ba(e))&&(r||t===i))return e.replace(se,"");if(!e||!(t=ci(t)))return e;var n=pr(e);return _i(n,rr(n,pr(t))).join("")},jr.truncate=function(e,t){var r=30,n="...";if(ea(t)){var o="separator"in t?t.separator:o;r="length"in t?pa(t.length):r,n="omission"in t?ci(t.omission):n}var s=(e=ba(e)).length;if(ar(e)){var a=pr(e);s=a.length}if(r>=s)return e;var u=r-dr(n);if(u<1)return n;var c=a?_i(a,0,u).join(""):e.slice(0,u);if(o===i)return c+n;if(a&&(u+=c.length-u),oa(o)){if(e.slice(u).search(o)){var f,l=c;for(o.global||(o=Te(o.source,ba(ge.exec(o))+"g")),o.lastIndex=0;f=o.exec(l);)var h=f.index;c=c.slice(0,h===i?u:h)}}else if(e.indexOf(ci(o),u)!=u){var d=c.lastIndexOf(o);d>-1&&(c=c.slice(0,d))}return c+n},jr.unescape=function(e){return(e=ba(e))&&J.test(e)?e.replace(G,yr):e},jr.uniqueId=function(e){var t=++Re;return ba(e)+t},jr.upperCase=Za,jr.upperFirst=Ja,jr.each=bs,jr.eachRight=ws,jr.first=$o,au(jr,function(){var e={};return vn(jr,(function(t,r){Ne.call(jr.prototype,r)||(e[r]=t)})),e}(),{chain:!1}),jr.VERSION="4.17.21",Mt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){jr[e].placeholder=jr})),Mt(["drop","take"],(function(e,t){Hr.prototype[e]=function(r){r=r===i?1:Gt(pa(r),0);var n=this.__filtered__&&!t?new Hr(this):this.clone();return n.__filtered__?n.__takeCount__=br(r,n.__takeCount__):n.__views__.push({size:br(r,y),type:e+(n.__dir__<0?"Right":"")}),n},Hr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Mt(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=1==r||3==r;Hr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:uo(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),Mt(["head","last"],(function(e,t){var r="take"+(t?"Right":"");Hr.prototype[e]=function(){return this[r](1).value()[0]}})),Mt(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");Hr.prototype[e]=function(){return this.__filtered__?new Hr(this):this[r](1)}})),Hr.prototype.compact=function(){return this.filter(nu)},Hr.prototype.find=function(e){return this.filter(e).head()},Hr.prototype.findLast=function(e){return this.reverse().find(e)},Hr.prototype.invokeMap=Jn((function(e,t){return"function"==typeof e?new Hr(this):this.map((function(r){return Pn(r,e,t)}))})),Hr.prototype.reject=function(e){return this.filter(Ns(uo(e)))},Hr.prototype.slice=function(e,t){e=pa(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Hr(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==i&&(r=(t=pa(t))<0?r.dropRight(-t):r.take(t-e)),r)},Hr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Hr.prototype.toArray=function(){return this.take(y)},vn(Hr.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),o=jr[n?"take"+("last"==t?"Right":""):t],s=n||/^find/.test(t);o&&(jr.prototype[t]=function(){var t=this.__wrapped__,a=n?[1]:arguments,u=t instanceof Hr,c=a[0],f=u||Fs(t),l=function(e){var t=o.apply(jr,Rt([e],a));return n&&h?t[0]:t};f&&r&&"function"==typeof c&&1!=c.length&&(u=f=!1);var h=this.__chain__,d=!!this.__actions__.length,p=s&&!h,g=u&&!d;if(!s&&f){t=g?t:new Hr(this);var y=e.apply(t,a);return y.__actions__.push({func:ds,args:[l],thisArg:i}),new Kr(y,h)}return p&&g?e.apply(this,a):(y=this.thru(l),p?n?y.value()[0]:y.value():y)})})),Mt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Pe[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);jr.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(Fs(i)?i:[],e)}return this[r]((function(r){return t.apply(Fs(r)?r:[],e)}))}})),vn(Hr.prototype,(function(e,t){var r=jr[t];if(r){var n=r.name+"";Ne.call(Pr,n)||(Pr[n]=[]),Pr[n].push({name:t,func:r})}})),Pr[Di(i,2).name]=[{name:"wrapper",func:i}],Hr.prototype.clone=function(){var e=new Hr(this.__wrapped__);return e.__actions__=Mi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Mi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Mi(this.__views__),e},Hr.prototype.reverse=function(){if(this.__filtered__){var e=new Hr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Hr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=Fs(e),n=t<0,i=r?e.length:0,o=function(e,t,r){var n=-1,i=r.length;for(;++n<i;){var o=r[n],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=br(t,e+s);break;case"takeRight":e=Gt(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,u=a-s,c=n?a:s-1,f=this.__iteratees__,l=f.length,h=0,d=br(u,this.__takeCount__);if(!r||!n&&i==u&&d==u)return pi(e,this.__actions__);var p=[];e:for(;u--&&h<d;){for(var g=-1,y=e[c+=t];++g<l;){var m=f[g],b=m.iteratee,w=m.type,v=b(y);if(2==w)y=v;else if(!v){if(1==w)continue e;break e}}p[h++]=y}return p},jr.prototype.at=ps,jr.prototype.chain=function(){return hs(this)},jr.prototype.commit=function(){return new Kr(this.value(),this.__chain__)},jr.prototype.next=function(){this.__values__===i&&(this.__values__=ha(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},jr.prototype.plant=function(e){for(var t,r=this;r instanceof qr;){var n=jo(r);n.__index__=0,n.__values__=i,t?o.__wrapped__=n:t=n;var o=n;r=r.__wrapped__}return o.__wrapped__=e,t},jr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Hr){var t=e;return this.__actions__.length&&(t=new Hr(this)),(t=t.reverse()).__actions__.push({func:ds,args:[es],thisArg:i}),new Kr(t,this.__chain__)}return this.thru(es)},jr.prototype.toJSON=jr.prototype.valueOf=jr.prototype.value=function(){return pi(this.__wrapped__,this.__actions__)},jr.prototype.first=jr.prototype.head,Xe&&(jr.prototype[Xe]=function(){return this}),jr}();gt._=mr,(n=function(){return mr}.call(t,r,t,e))===i||(e.exports=n)}.call(this)},"Zk0+":e=>{"use strict";e.exports=Math.abs},EmxW:e=>{"use strict";e.exports=Math.floor},O3ZP:e=>{"use strict";e.exports=Number.isNaN||function(e){return e!==e}},mMzn:e=>{"use strict";e.exports=Math.max},edxg:e=>{"use strict";e.exports=Math.min},kKgk:e=>{"use strict";e.exports=Math.pow},lvRJ:e=>{"use strict";e.exports=Math.round},X6JL:(e,t,r)=>{"use strict";var n=r("O3ZP");e.exports=function(e){return n(e)||0===e?e:e<0?-1:1}},"fM9/":(e,t,r)=>{"use strict";var n=r("f9x7"),i=r("OXp5"),o=r("vhZ9").Buffer,s=new Array(16);function a(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(e,t){return e<<t|e>>>32-t}function c(e,t,r,n,i,o,s){return u(e+(t&r|~t&n)+i+o|0,s)+t|0}function f(e,t,r,n,i,o,s){return u(e+(t&n|r&~n)+i+o|0,s)+t|0}function l(e,t,r,n,i,o,s){return u(e+(t^r^n)+i+o|0,s)+t|0}function h(e,t,r,n,i,o,s){return u(e+(r^(t|~n))+i+o|0,s)+t|0}n(a,i),a.prototype._update=function(){for(var e=s,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var r=this._a,n=this._b,i=this._c,o=this._d;r=c(r,n,i,o,e[0],3614090360,7),o=c(o,r,n,i,e[1],3905402710,12),i=c(i,o,r,n,e[2],606105819,17),n=c(n,i,o,r,e[3],3250441966,22),r=c(r,n,i,o,e[4],4118548399,7),o=c(o,r,n,i,e[5],1200080426,12),i=c(i,o,r,n,e[6],2821735955,17),n=c(n,i,o,r,e[7],4249261313,22),r=c(r,n,i,o,e[8],1770035416,7),o=c(o,r,n,i,e[9],2336552879,12),i=c(i,o,r,n,e[10],4294925233,17),n=c(n,i,o,r,e[11],2304563134,22),r=c(r,n,i,o,e[12],1804603682,7),o=c(o,r,n,i,e[13],4254626195,12),i=c(i,o,r,n,e[14],2792965006,17),r=f(r,n=c(n,i,o,r,e[15],1236535329,22),i,o,e[1],4129170786,5),o=f(o,r,n,i,e[6],3225465664,9),i=f(i,o,r,n,e[11],643717713,14),n=f(n,i,o,r,e[0],3921069994,20),r=f(r,n,i,o,e[5],3593408605,5),o=f(o,r,n,i,e[10],38016083,9),i=f(i,o,r,n,e[15],3634488961,14),n=f(n,i,o,r,e[4],3889429448,20),r=f(r,n,i,o,e[9],568446438,5),o=f(o,r,n,i,e[14],3275163606,9),i=f(i,o,r,n,e[3],4107603335,14),n=f(n,i,o,r,e[8],1163531501,20),r=f(r,n,i,o,e[13],2850285829,5),o=f(o,r,n,i,e[2],4243563512,9),i=f(i,o,r,n,e[7],1735328473,14),r=l(r,n=f(n,i,o,r,e[12],2368359562,20),i,o,e[5],4294588738,4),o=l(o,r,n,i,e[8],2272392833,11),i=l(i,o,r,n,e[11],1839030562,16),n=l(n,i,o,r,e[14],4259657740,23),r=l(r,n,i,o,e[1],2763975236,4),o=l(o,r,n,i,e[4],1272893353,11),i=l(i,o,r,n,e[7],4139469664,16),n=l(n,i,o,r,e[10],3200236656,23),r=l(r,n,i,o,e[13],681279174,4),o=l(o,r,n,i,e[0],3936430074,11),i=l(i,o,r,n,e[3],3572445317,16),n=l(n,i,o,r,e[6],76029189,23),r=l(r,n,i,o,e[9],3654602809,4),o=l(o,r,n,i,e[12],3873151461,11),i=l(i,o,r,n,e[15],530742520,16),r=h(r,n=l(n,i,o,r,e[2],3299628645,23),i,o,e[0],4096336452,6),o=h(o,r,n,i,e[7],1126891415,10),i=h(i,o,r,n,e[14],2878612391,15),n=h(n,i,o,r,e[5],4237533241,21),r=h(r,n,i,o,e[12],1700485571,6),o=h(o,r,n,i,e[3],2399980690,10),i=h(i,o,r,n,e[10],4293915773,15),n=h(n,i,o,r,e[1],2240044497,21),r=h(r,n,i,o,e[8],1873313359,6),o=h(o,r,n,i,e[15],4264355552,10),i=h(i,o,r,n,e[6],2734768916,15),n=h(n,i,o,r,e[13],1309151649,21),r=h(r,n,i,o,e[4],4149444226,6),o=h(o,r,n,i,e[11],3174756917,10),i=h(i,o,r,n,e[2],718787259,15),n=h(n,i,o,r,e[9],3951481745,21),this._a=this._a+r|0,this._b=this._b+n|0,this._c=this._c+i|0,this._d=this._d+o|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=o.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=a},oeHn:e=>{function t(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}},oWan:(e,t)=>{"use strict";var r=t;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!==typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),o=i>>8,s=255&i;o?r.push(o,s):r.push(s)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}},Qe3B:e=>{"use strict";var t=function(e){return e!==e};e.exports=function(e,r){return 0===e&&0===r?1/e===1/r:e===r||!(!t(e)||!t(r))}},s3p8:(e,t,r)=>{"use strict";var n=r("RKVt"),i=r("5KZJ"),o=r("Qe3B"),s=r("9Fc8"),a=r("zIai"),u=i(s(),Object);n(u,{getPolyfill:s,implementation:o,shim:a}),e.exports=u},"9Fc8":(e,t,r)=>{"use strict";var n=r("Qe3B");e.exports=function(){return"function"===typeof Object.is?Object.is:n}},zIai:(e,t,r)=>{"use strict";var n=r("9Fc8"),i=r("RKVt");e.exports=function(){var e=n();return i(Object,{is:e},{is:function(){return Object.is!==e}}),e}},ku6j:(e,t,r)=>{"use strict";var n;if(!Object.keys){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=r("qDFC"),a=Object.prototype.propertyIsEnumerable,u=!a.call({toString:null},"toString"),c=a.call((function(){}),"prototype"),f=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(e){var t=e.constructor;return t&&t.prototype===e},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){for(var e in window)try{if(!h["$"+e]&&i.call(window,e)&&null!==window[e]&&"object"===typeof window[e])try{l(window[e])}catch(t){return!0}}catch(t){return!0}return!1}();n=function(e){var t=null!==e&&"object"===typeof e,r="[object Function]"===o.call(e),n=s(e),a=t&&"[object String]"===o.call(e),h=[];if(!t&&!r&&!n)throw new TypeError("Object.keys called on a non-object");var p=c&&r;if(a&&e.length>0&&!i.call(e,0))for(var g=0;g<e.length;++g)h.push(String(g));if(n&&e.length>0)for(var y=0;y<e.length;++y)h.push(String(y));else for(var m in e)p&&"prototype"===m||!i.call(e,m)||h.push(String(m));if(u)for(var b=function(e){if(!d)return l(e);try{return l(e)}catch(t){return!1}}(e),w=0;w<f.length;++w)b&&"constructor"===f[w]||!i.call(e,f[w])||h.push(f[w]);return h}}e.exports=n},qKnM:(e,t,r)=>{"use strict";var n=Array.prototype.slice,i=r("qDFC"),o=Object.keys,s=o?function(e){return o(e)}:r("ku6j"),a=Object.keys;s.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return i(e)?a(n.call(e)):a(e)})}else Object.keys=s;return Object.keys||s},e.exports=s},qDFC:e=>{"use strict";var t=Object.prototype.toString;e.exports=function(e){var r=t.call(e),n="[object Arguments]"===r;return n||(n="[object Array]"!==r&&null!==e&&"object"===typeof e&&"number"===typeof e.length&&e.length>=0&&"[object Function]"===t.call(e.callee)),n}},Dm5g:(e,t,r)=>{"use strict";var n=r("qKnM"),i=r("5xe0")(),o=r("ydUC"),s=r("dK+u"),a=o("Array.prototype.push"),u=o("Object.prototype.propertyIsEnumerable"),c=i?s.getOwnPropertySymbols:null;e.exports=function(e,t){if(null==e)throw new TypeError("target must be an object");var r=s(e);if(1===arguments.length)return r;for(var o=1;o<arguments.length;++o){var f=s(arguments[o]),l=n(f),h=i&&(s.getOwnPropertySymbols||c);if(h)for(var d=h(f),p=0;p<d.length;++p){var g=d[p];u(f,g)&&a(l,g)}for(var y=0;y<l.length;++y){var m=l[y];if(u(f,m)){var b=f[m];r[m]=b}}}return r}},o9Fo:(e,t,r)=>{"use strict";var n=r("Dm5g");e.exports=function(){return Object.assign?function(){if(!Object.assign)return!1;for(var e="abcdefghijklmnopqrst",t=e.split(""),r={},n=0;n<t.length;++n)r[t[n]]=t[n];var i=Object.assign({},r),o="";for(var s in i)o+=s;return e!==o}()||function(){if(!Object.assign||!Object.preventExtensions)return!1;var e=Object.preventExtensions({1:2});try{Object.assign(e,"xy")}catch(t){return"y"===e[1]}return!1}()?n:Object.assign:n}},irP8:e=>{"use strict";e.exports=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},E0jC:e=>{var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var a,u=[],c=!1,f=-1;function l(){c&&a&&(c=!1,a.length?u=a.concat(u):f=-1,u.length&&h())}function h(){if(!c){var e=s(l);c=!0;for(var t=u.length;t;){for(a=u,u=[];++f<t;)a&&a[f].run();f=-1,t=u.length}a=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function p(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new d(e,t)),1!==u.length||c||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},O66I:(e,t,r)=>{"use strict";var n=r("E0jC"),i=65536,o=4294967295;var s=r("vhZ9").Buffer,a=r.g.crypto||r.g.msCrypto;a&&a.getRandomValues?e.exports=function(e,t){if(e>o)throw new RangeError("requested too many random bytes");var r=s.allocUnsafe(e);if(e>0)if(e>i)for(var u=0;u<e;u+=i)a.getRandomValues(r.slice(u,u+i));else a.getRandomValues(r);if("function"===typeof t)return n.nextTick((function(){t(null,r)}));return r}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},F7su:e=>{"use strict";var t={};function r(e,r,n){n||(n=Error);var i=function(e){var t,n;function i(t,n,i){return e.call(this,function(e,t,n){return"string"===typeof r?r:r(e,t,n)}(t,n,i))||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i}(n);i.prototype.name=n.name,i.prototype.code=e,t[e]=i}function n(e,t){if(Array.isArray(e)){var r=e.length;return e=e.map((function(e){return String(e)})),r>2?"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]:2===r?"one of ".concat(t," ").concat(e[0]," or ").concat(e[1]):"of ".concat(t," ").concat(e[0])}return"of ".concat(t," ").concat(String(e))}r("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),r("ERR_INVALID_ARG_TYPE",(function(e,t,r){var i,o,s,a;if("string"===typeof t&&(o="not ",t.substr(!s||s<0?0:+s,o.length)===o)?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,r){return(void 0===r||r>e.length)&&(r=e.length),e.substring(r-t.length,r)===t}(e," argument"))a="The ".concat(e," ").concat(i," ").concat(n(t,"type"));else{var u=function(e,t,r){return"number"!==typeof r&&(r=0),!(r+t.length>e.length)&&-1!==e.indexOf(t,r)}(e,".")?"property":"argument";a='The "'.concat(e,'" ').concat(u," ").concat(i," ").concat(n(t,"type"))}return a+=". Received type ".concat(typeof r)}),TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},zK65:(e,t,r)=>{"use strict";var n=r("E0jC"),i=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};e.exports=f;var o=r("iuKO"),s=r("GWH4");r("f9x7")(f,o);for(var a=i(s.prototype),u=0;u<a.length;u++){var c=a[u];f.prototype[c]||(f.prototype[c]=s.prototype[c])}function f(e){if(!(this instanceof f))return new f(e);o.call(this,e),s.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",l)))}function l(){this._writableState.ended||n.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(f.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(f.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(f.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},NWnk:(e,t,r)=>{"use strict";e.exports=i;var n=r("cQa0");function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}r("f9x7")(i,n),i.prototype._transform=function(e,t,r){r(null,e)}},iuKO:(e,t,r)=>{"use strict";var n,i=r("E0jC");e.exports=x,x.ReadableState=A;r("UnLv").EventEmitter;var o=function(e,t){return e.listeners(t).length},s=r("HcLt"),a=r("Dp+g").Buffer,u=("undefined"!==typeof r.g?r.g:window).Uint8Array||function(){};var c,f=r("BoV2");c=f&&f.debuglog?f.debuglog("stream"):function(){};var l,h,d,p=r("NSLR"),g=r("yegZ"),y=r("5uS7").getHighWaterMark,m=r("F7su").q,b=m.ERR_INVALID_ARG_TYPE,w=m.ERR_STREAM_PUSH_AFTER_EOF,v=m.ERR_METHOD_NOT_IMPLEMENTED,_=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r("f9x7")(x,s);var S=g.errorOrDestroy,E=["error","close","destroy","pause","resume"];function A(e,t,i){n=n||r("zK65"),e=e||{},"boolean"!==typeof i&&(i=t instanceof n),this.objectMode=!!e.objectMode,i&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=y(this,e,"readableHighWaterMark",i),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(l||(l=r("uFga").s),this.decoder=new l(e.encoding),this.encoding=e.encoding)}function x(e){if(n=n||r("zK65"),!(this instanceof x))return new x(e);var t=this instanceof n;this._readableState=new A(e,this,t),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function k(e,t,r,n,i){c("readableAddChunk",t);var o,s=e._readableState;if(null===t)s.reading=!1,function(e,t){if(c("onEofChunk"),t.ended)return;if(t.decoder){var r=t.decoder.end();r&&r.length&&(t.buffer.push(r),t.length+=t.objectMode?1:r.length)}t.ended=!0,t.sync?P(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,B(e)))}(e,s);else if(i||(o=function(e,t){var r;n=t,a.isBuffer(n)||n instanceof u||"string"===typeof t||void 0===t||e.objectMode||(r=new b("chunk",["string","Buffer","Uint8Array"],t));var n;return r}(s,t)),o)S(e,o);else if(s.objectMode||t&&t.length>0)if("string"===typeof t||s.objectMode||Object.getPrototypeOf(t)===a.prototype||(t=function(e){return a.from(e)}(t)),n)s.endEmitted?S(e,new _):T(e,s,t,!0);else if(s.ended)S(e,new w);else{if(s.destroyed)return!1;s.reading=!1,s.decoder&&!r?(t=s.decoder.write(t),s.objectMode||0!==t.length?T(e,s,t,!1):O(e,s)):T(e,s,t,!1)}else n||(s.reading=!1,O(e,s));return!s.ended&&(s.length<s.highWaterMark||0===s.length)}function T(e,t,r,n){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),t.needReadable&&P(e)),O(e,t)}Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),x.prototype.destroy=g.destroy,x.prototype._undestroy=g.undestroy,x.prototype._destroy=function(e,t){t(e)},x.prototype.push=function(e,t){var r,n=this._readableState;return n.objectMode?r=!0:"string"===typeof e&&((t=t||n.defaultEncoding)!==n.encoding&&(e=a.from(e,t),t=""),r=!0),k(this,e,t,!1,r)},x.prototype.unshift=function(e){return k(this,e,null,!0,!1)},x.prototype.isPaused=function(){return!1===this._readableState.flowing},x.prototype.setEncoding=function(e){l||(l=r("uFga").s);var t=new l(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var I=1073741824;function M(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=I?e=I:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function P(e){var t=e._readableState;c("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(c("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(B,e))}function B(e){var t=e._readableState;c("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,L(e)}function O(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(C,e,t))}function C(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var r=t.length;if(c("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function U(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function N(e){c("readable nexttick read 0"),e.read(0)}function R(e,t){c("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),L(e),t.flowing&&!t.reading&&e.read(0)}function L(e){var t=e._readableState;for(c("flow",t.flowing);t.flowing&&null!==e.read(););}function z(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r);var r}function j(e){var t=e._readableState;c("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(D,t,e))}function D(e,t){if(c("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var r=t._writableState;(!r||r.autoDestroy&&r.finished)&&t.destroy()}}function q(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}x.prototype.read=function(e){c("read",e),e=parseInt(e,10);var t=this._readableState,r=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return c("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?j(this):P(this),null;if(0===(e=M(e,t))&&t.ended)return 0===t.length&&j(this),null;var n,i=t.needReadable;return c("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&c("length less than watermark",i=!0),t.ended||t.reading?c("reading or ended",i=!1):i&&(c("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=M(r,t))),null===(n=e>0?z(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&j(this)),null!==n&&this.emit("data",n),n},x.prototype._read=function(e){S(this,new v("_read()"))},x.prototype.pipe=function(e,t){var r=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,c("pipe count=%d opts=%j",n.pipesCount,t);var s=(!t||!1!==t.end)&&e!==i.stdout&&e!==i.stderr?u:y;function a(t,i){c("onunpipe"),t===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,c("cleanup"),e.removeListener("close",p),e.removeListener("finish",g),e.removeListener("drain",f),e.removeListener("error",d),e.removeListener("unpipe",a),r.removeListener("end",u),r.removeListener("end",y),r.removeListener("data",h),l=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||f())}function u(){c("onend"),e.end()}n.endEmitted?i.nextTick(s):r.once("end",s),e.on("unpipe",a);var f=function(e){return function(){var t=e._readableState;c("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&o(e,"data")&&(t.flowing=!0,L(e))}}(r);e.on("drain",f);var l=!1;function h(t){c("ondata");var i=e.write(t);c("dest.write",i),!1===i&&((1===n.pipesCount&&n.pipes===e||n.pipesCount>1&&-1!==q(n.pipes,e))&&!l&&(c("false write response, pause",n.awaitDrain),n.awaitDrain++),r.pause())}function d(t){c("onerror",t),y(),e.removeListener("error",d),0===o(e,"error")&&S(e,t)}function p(){e.removeListener("finish",g),y()}function g(){c("onfinish"),e.removeListener("close",p),y()}function y(){c("unpipe"),r.unpipe(e)}return r.on("data",h),function(e,t,r){if("function"===typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}(e,"error",d),e.once("close",p),e.once("finish",g),e.emit("pipe",r),n.flowing||(c("pipe resume"),r.resume()),e},x.prototype.unpipe=function(e){var t=this._readableState,r={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,r)),this;if(!e){var n=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)n[o].emit("unpipe",this,{hasUnpiped:!1});return this}var s=q(t.pipes,e);return-1===s||(t.pipes.splice(s,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,r)),this},x.prototype.on=function(e,t){var r=s.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,c("on readable",n.length,n.reading),n.length?P(this):n.reading||i.nextTick(N,this))),r},x.prototype.addListener=x.prototype.on,x.prototype.removeListener=function(e,t){var r=s.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(U,this),r},x.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||i.nextTick(U,this),t},x.prototype.resume=function(){var e=this._readableState;return e.flowing||(c("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(R,e,t))}(this,e)),e.paused=!1,this},x.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},x.prototype.wrap=function(e){var t=this,r=this._readableState,n=!1;for(var i in e.on("end",(function(){if(c("wrapped end"),r.decoder&&!r.ended){var e=r.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(c("wrapped data"),r.decoder&&(i=r.decoder.write(i)),!r.objectMode||null!==i&&void 0!==i)&&((r.objectMode||i&&i.length)&&(t.push(i)||(n=!0,e.pause())))})),e)void 0===this[i]&&"function"===typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<E.length;o++)e.on(E[o],this.emit.bind(this,E[o]));return this._read=function(t){c("wrapped _read",t),n&&(n=!1,e.resume())},this},"function"===typeof Symbol&&(x.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=r("i4oN")),h(this)}),Object.defineProperty(x.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(x.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(x.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),x._fromList=z,Object.defineProperty(x.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"===typeof Symbol&&(x.from=function(e,t){return void 0===d&&(d=r("wUY2")),d(x,e,t)})},cQa0:(e,t,r)=>{"use strict";e.exports=f;var n=r("F7su").q,i=n.ERR_METHOD_NOT_IMPLEMENTED,o=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0,u=r("zK65");function c(e,t){var r=this._transformState;r.transforming=!1;var n=r.writecb;if(null===n)return this.emit("error",new o);r.writechunk=null,r.writecb=null,null!=t&&this.push(t),n(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function f(e){if(!(this instanceof f))return new f(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",l)}function l(){var e=this;"function"!==typeof this._flush||this._readableState.destroyed?h(this,null,null):this._flush((function(t,r){h(e,t,r)}))}function h(e,t,r){if(t)return e.emit("error",t);if(null!=r&&e.push(r),e._writableState.length)throw new a;if(e._transformState.transforming)throw new s;return e.push(null)}r("f9x7")(f,u),f.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},f.prototype._transform=function(e,t,r){r(new i("_transform()"))},f.prototype._write=function(e,t,r){var n=this._transformState;if(n.writecb=r,n.writechunk=e,n.writeencoding=t,!n.transforming){var i=this._readableState;(n.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},f.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},f.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}},GWH4:(e,t,r)=>{"use strict";var n,i=r("E0jC");function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,r){var n=e.entry;e.entry=null;for(;n;){var i=n.callback;t.pendingcb--,i(r),n=n.next}t.corkedRequestsFree.next=e}(t,e)}}e.exports=x,x.WritableState=A;var s={deprecate:r("VKyk")},a=r("HcLt"),u=r("Dp+g").Buffer,c=("undefined"!==typeof r.g?r.g:window).Uint8Array||function(){};var f,l=r("yegZ"),h=r("5uS7").getHighWaterMark,d=r("F7su").q,p=d.ERR_INVALID_ARG_TYPE,g=d.ERR_METHOD_NOT_IMPLEMENTED,y=d.ERR_MULTIPLE_CALLBACK,m=d.ERR_STREAM_CANNOT_PIPE,b=d.ERR_STREAM_DESTROYED,w=d.ERR_STREAM_NULL_VALUES,v=d.ERR_STREAM_WRITE_AFTER_END,_=d.ERR_UNKNOWN_ENCODING,S=l.errorOrDestroy;function E(){}function A(e,t,s){n=n||r("zK65"),e=e||{},"boolean"!==typeof s&&(s=t instanceof n),this.objectMode=!!e.objectMode,s&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=h(this,e,"writableHighWaterMark",s),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var a=!1===e.decodeStrings;this.decodeStrings=!a,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var r=e._writableState,n=r.sync,o=r.writecb;if("function"!==typeof o)throw new y;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),t)!function(e,t,r,n,o){--t.pendingcb,r?(i.nextTick(o,n),i.nextTick(B,e,t),e._writableState.errorEmitted=!0,S(e,n)):(o(n),e._writableState.errorEmitted=!0,S(e,n),B(e,t))}(e,r,n,t,o);else{var s=M(r)||e.destroyed;s||r.corked||r.bufferProcessing||!r.bufferedRequest||I(e,r),n?i.nextTick(T,e,r,s,o):T(e,r,s,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function x(e){var t=this instanceof(n=n||r("zK65"));if(!t&&!f.call(x,this))return new x(e);this._writableState=new A(e,this,t),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),a.call(this)}function k(e,t,r,n,i,o,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new b("write")):r?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function T(e,t,r,n){r||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,n(),B(e,t)}function I(e,t){t.bufferProcessing=!0;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount,i=new Array(n),s=t.corkedRequestsFree;s.entry=r;for(var a=0,u=!0;r;)i[a]=r,r.isBuf||(u=!1),r=r.next,a+=1;i.allBuffers=u,k(e,t,!0,t.length,i,"",s.finish),t.pendingcb++,t.lastBufferedRequest=null,s.next?(t.corkedRequestsFree=s.next,s.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;r;){var c=r.chunk,f=r.encoding,l=r.callback;if(k(e,t,!1,t.objectMode?1:c.length,c,f,l),r=r.next,t.bufferedRequestCount--,t.writing)break}null===r&&(t.lastBufferedRequest=null)}t.bufferedRequest=r,t.bufferProcessing=!1}function M(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function P(e,t){e._final((function(r){t.pendingcb--,r&&S(e,r),t.prefinished=!0,e.emit("prefinish"),B(e,t)}))}function B(e,t){var r=M(t);if(r&&(function(e,t){t.prefinished||t.finalCalled||("function"!==typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,i.nextTick(P,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var n=e._readableState;(!n||n.autoDestroy&&n.endEmitted)&&e.destroy()}return r}r("f9x7")(x,a),A.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(A.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(x,Symbol.hasInstance,{value:function(e){return!!f.call(this,e)||this===x&&(e&&e._writableState instanceof A)}})):f=function(e){return e instanceof this},x.prototype.pipe=function(){S(this,new m)},x.prototype.write=function(e,t,r){var n,o=this._writableState,s=!1,a=!o.objectMode&&(n=e,u.isBuffer(n)||n instanceof c);return a&&!u.isBuffer(e)&&(e=function(e){return u.from(e)}(e)),"function"===typeof t&&(r=t,t=null),a?t="buffer":t||(t=o.defaultEncoding),"function"!==typeof r&&(r=E),o.ending?function(e,t){var r=new v;S(e,r),i.nextTick(t,r)}(this,r):(a||function(e,t,r,n){var o;return null===r?o=new w:"string"===typeof r||t.objectMode||(o=new p("chunk",["string","Buffer"],r)),!o||(S(e,o),i.nextTick(n,o),!1)}(this,o,e,r))&&(o.pendingcb++,s=function(e,t,r,n,i,o){if(!r){var s=function(e,t,r){e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=u.from(t,r));return t}(t,n,i);n!==s&&(r=!0,i="buffer",n=s)}var a=t.objectMode?1:n.length;t.length+=a;var c=t.length<t.highWaterMark;c||(t.needDrain=!0);if(t.writing||t.corked){var f=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:o,next:null},f?f.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else k(e,t,!1,a,n,i,o);return c}(this,o,a,e,t,r)),s},x.prototype.cork=function(){this._writableState.corked++},x.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||I(this,e))},x.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new _(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(x.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(x.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),x.prototype._write=function(e,t,r){r(new g("_write()"))},x.prototype._writev=null,x.prototype.end=function(e,t,r){var n=this._writableState;return"function"===typeof e?(r=e,e=null,t=null):"function"===typeof t&&(r=t,t=null),null!==e&&void 0!==e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||function(e,t,r){t.ending=!0,B(e,t),r&&(t.finished?i.nextTick(r):e.once("finish",r));t.ended=!0,e.writable=!1}(this,n,r),this},Object.defineProperty(x.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(x.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),x.prototype.destroy=l.destroy,x.prototype._undestroy=l.undestroy,x.prototype._destroy=function(e,t){t(e)}},i4oN:(e,t,r)=>{"use strict";var n,i=r("E0jC");function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=r("tdZW"),a=Symbol("lastResolve"),u=Symbol("lastReject"),c=Symbol("error"),f=Symbol("ended"),l=Symbol("lastPromise"),h=Symbol("handlePromise"),d=Symbol("stream");function p(e,t){return{value:e,done:t}}function g(e){var t=e[a];if(null!==t){var r=e[d].read();null!==r&&(e[l]=null,e[a]=null,e[u]=null,t(p(r,!1)))}}function y(e){i.nextTick(g,e)}var m=Object.getPrototypeOf((function(){})),b=Object.setPrototypeOf((o(n={get stream(){return this[d]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[f])return Promise.resolve(p(void 0,!0));if(this[d].destroyed)return new Promise((function(t,r){i.nextTick((function(){e[c]?r(e[c]):t(p(void 0,!0))}))}));var r,n=this[l];if(n)r=new Promise(function(e,t){return function(r,n){e.then((function(){t[f]?r(p(void 0,!0)):t[h](r,n)}),n)}}(n,this));else{var o=this[d].read();if(null!==o)return Promise.resolve(p(o,!1));r=new Promise(this[h])}return this[l]=r,r}},Symbol.asyncIterator,(function(){return this})),o(n,"return",(function(){var e=this;return new Promise((function(t,r){e[d].destroy(null,(function(e){e?r(e):t(p(void 0,!0))}))}))})),n),m);e.exports=function(e){var t,r=Object.create(b,(o(t={},d,{value:e,writable:!0}),o(t,a,{value:null,writable:!0}),o(t,u,{value:null,writable:!0}),o(t,c,{value:null,writable:!0}),o(t,f,{value:e._readableState.endEmitted,writable:!0}),o(t,h,{value:function(e,t){var n=r[d].read();n?(r[l]=null,r[a]=null,r[u]=null,e(p(n,!1))):(r[a]=e,r[u]=t)},writable:!0}),t));return r[l]=null,s(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=r[u];return null!==t&&(r[l]=null,r[a]=null,r[u]=null,t(e)),void(r[c]=e)}var n=r[a];null!==n&&(r[l]=null,r[a]=null,r[u]=null,n(p(void 0,!0))),r[f]=!0})),e.on("readable",y.bind(null,r)),r}},NSLR:(e,t,r)=>{"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,r){return(t=a(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,a(n.key),n)}}function a(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var u=r("Dp+g").Buffer,c=r("Lg01").inspect,f=c&&c.custom||"inspect";e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}var t,r,n;return t=e,(r=[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,r=""+t.data;t=t.next;)r+=e+t.data;return r}},{key:"concat",value:function(e){if(0===this.length)return u.alloc(0);for(var t,r,n,i=u.allocUnsafe(e>>>0),o=this.head,s=0;o;)t=o.data,r=i,n=s,u.prototype.copy.call(t,r,n),s+=o.data.length,o=o.next;return i}},{key:"consume",value:function(e,t){var r;return e<this.head.data.length?(r=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):r=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),r}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,r=1,n=t.data;for(e-=n.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?n+=i:n+=i.slice(0,e),0===(e-=o)){o===i.length?(++r,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++r}return this.length-=r,n}},{key:"_getBuffer",value:function(e){var t=u.allocUnsafe(e),r=this.head,n=1;for(r.data.copy(t),e-=r.data.length;r=r.next;){var i=r.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0===(e-=o)){o===i.length?(++n,r.next?this.head=r.next:this.head=this.tail=null):(this.head=r,r.data=i.slice(o));break}++n}return this.length-=n,t}},{key:f,value:function(e,t){return c(this,i(i({},t),{},{depth:0,customInspect:!1}))}}])&&s(t.prototype,r),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},yegZ:(e,t,r)=>{"use strict";var n=r("E0jC");function i(e,t){s(e,t),o(e)}function o(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function s(e,t){e.emit("error",t)}e.exports={destroy:function(e,t){var r=this,a=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return a||u?(t?t(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,n.nextTick(s,this,e)):n.nextTick(s,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?r._writableState?r._writableState.errorEmitted?n.nextTick(o,r):(r._writableState.errorEmitted=!0,n.nextTick(i,r,e)):n.nextTick(i,r,e):t?(n.nextTick(o,r),t(e)):n.nextTick(o,r)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var r=e._readableState,n=e._writableState;r&&r.autoDestroy||n&&n.autoDestroy?e.destroy(t):e.emit("error",t)}}},tdZW:(e,t,r)=>{"use strict";var n=r("F7su").q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,r,o){if("function"===typeof r)return e(t,null,r);r||(r={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}}(o||i);var s=r.readable||!1!==r.readable&&t.readable,a=r.writable||!1!==r.writable&&t.writable,u=function(){t.writable||f()},c=t._writableState&&t._writableState.finished,f=function(){a=!1,c=!0,s||o.call(t)},l=t._readableState&&t._readableState.endEmitted,h=function(){s=!1,l=!0,a||o.call(t)},d=function(e){o.call(t,e)},p=function(){var e;return s&&!l?(t._readableState&&t._readableState.ended||(e=new n),o.call(t,e)):a&&!c?(t._writableState&&t._writableState.ended||(e=new n),o.call(t,e)):void 0},g=function(){t.req.on("finish",f)};return!function(e){return e.setHeader&&"function"===typeof e.abort}(t)?a&&!t._writableState&&(t.on("end",u),t.on("close",u)):(t.on("complete",f),t.on("abort",p),t.req?g():t.on("request",g)),t.on("end",h),t.on("finish",f),!1!==r.error&&t.on("error",d),t.on("close",p),function(){t.removeListener("complete",f),t.removeListener("abort",p),t.removeListener("request",g),t.req&&t.req.removeListener("finish",f),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",f),t.removeListener("end",h),t.removeListener("error",d),t.removeListener("close",p)}}},wUY2:e=>{e.exports=function(){throw new Error("Readable.from is not available in the browser")}},Nyij:(e,t,r)=>{"use strict";var n;var i=r("F7su").q,o=i.ERR_MISSING_ARGS,s=i.ERR_STREAM_DESTROYED;function a(e){if(e)throw e}function u(e){e()}function c(e,t){return e.pipe(t)}e.exports=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var f,l=function(e){return e.length?"function"!==typeof e[e.length-1]?a:e.pop():a}(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var h=t.map((function(e,i){var o=i<t.length-1;return function(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var a=!1;e.on("close",(function(){a=!0})),void 0===n&&(n=r("tdZW")),n(e,{readable:t,writable:i},(function(e){if(e)return o(e);a=!0,o()}));var u=!1;return function(t){if(!a&&!u)return u=!0,function(e){return e.setHeader&&"function"===typeof e.abort}(e)?e.abort():"function"===typeof e.destroy?e.destroy():void o(t||new s("pipe"))}}(e,o,i>0,(function(e){f||(f=e),e&&h.forEach(u),o||(h.forEach(u),l(f))}))}));return t.reduce(c)}},"5uS7":(e,t,r)=>{"use strict";var n=r("F7su").q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,r,i){var o=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,i,r);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new n(i?r:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},HcLt:(e,t,r)=>{e.exports=r("UnLv").EventEmitter},dpwk:(e,t,r)=>{(t=e.exports=r("iuKO")).Stream=t,t.Readable=t,t.Writable=r("GWH4"),t.Duplex=r("zK65"),t.Transform=r("cQa0"),t.PassThrough=r("NWnk"),t.finished=r("tdZW"),t.pipeline=r("Nyij")},"66mo":e=>{var t=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,i=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"===typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(O){c=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var o=t&&t.prototype instanceof m?t:m,s=Object.create(o.prototype),a=new P(n||[]);return i(s,"_invoke",{value:k(e,r,a)}),s}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(O){return{type:"throw",arg:O}}}e.wrap=f;var h="suspendedStart",d="suspendedYield",p="executing",g="completed",y={};function m(){}function b(){}function w(){}var v={};c(v,s,(function(){return this}));var _=Object.getPrototypeOf,S=_&&_(_(B([])));S&&S!==r&&n.call(S,s)&&(v=S);var E=w.prototype=m.prototype=Object.create(v);function A(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function r(i,o,s,a){var u=l(e[i],e,o);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,a)}),(function(e){r("throw",e,s,a)})):t.resolve(f).then((function(e){c.value=e,s(c)}),(function(e){return r("throw",e,s,a)}))}a(u.arg)}var o;i(this,"_invoke",{value:function(e,n){function i(){return new t((function(t,i){r(e,n,t,i)}))}return o=o?o.then(i,i):i()}})}function k(e,r,n){var i=h;return function(o,s){if(i===p)throw new Error("Generator is already running");if(i===g){if("throw"===o)throw s;return{value:t,done:!0}}for(n.method=o,n.arg=s;;){var a=n.delegate;if(a){var u=T(a,n);if(u){if(u===y)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===h)throw i=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=p;var c=l(e,r,n);if("normal"===c.type){if(i=n.done?g:d,c.arg===y)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=g,n.method="throw",n.arg=c.arg)}}}function T(e,r){var n=r.method,i=e.iterator[n];if(i===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,T(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),y;var o=l(i,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,y;var s=o.arg;return s?s.done?(r[e.resultName]=s.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,y):s:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,y)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function M(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function B(e){if(null!=e){var r=e[s];if(r)return r.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return o.next=o}}throw new TypeError(typeof e+" is not iterable")}return b.prototype=w,i(E,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:b,configurable:!0}),b.displayName=c(w,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,c(e,u,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},A(x.prototype),c(x.prototype,a,(function(){return this})),e.AsyncIterator=x,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var s=new x(f(t,r,n,i),o);return e.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},A(E),c(E,u,"Generator"),c(E,s,(function(){return this})),c(E,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=B,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(M),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return a.type="throw",a.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var u=n.call(s,"catchLoc"),c=n.call(s,"finallyLoc");if(u&&c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(u){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),M(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;M(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:B(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),y}},e}(e.exports);try{regeneratorRuntime=t}catch(r){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},oCNs:(e,t,r)=>{"use strict";var n=r("Dp+g").Buffer,i=r("f9x7"),o=r("OXp5"),s=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],f=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],l=[0,1518500249,1859775393,2400959708,2840853838],h=[1352829926,1548603684,1836072691,2053994217,0];function d(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(e,t){return e<<t|e>>>32-t}function g(e,t,r,n,i,o,s,a){return p(e+(t^r^n)+o+s|0,a)+i|0}function y(e,t,r,n,i,o,s,a){return p(e+(t&r|~t&n)+o+s|0,a)+i|0}function m(e,t,r,n,i,o,s,a){return p(e+((t|~r)^n)+o+s|0,a)+i|0}function b(e,t,r,n,i,o,s,a){return p(e+(t&n|r&~n)+o+s|0,a)+i|0}function w(e,t,r,n,i,o,s,a){return p(e+(t^(r|~n))+o+s|0,a)+i|0}i(d,o),d.prototype._update=function(){for(var e=s,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var r=0|this._a,n=0|this._b,i=0|this._c,o=0|this._d,d=0|this._e,v=0|this._a,_=0|this._b,S=0|this._c,E=0|this._d,A=0|this._e,x=0;x<80;x+=1){var k,T;x<16?(k=g(r,n,i,o,d,e[a[x]],l[0],c[x]),T=w(v,_,S,E,A,e[u[x]],h[0],f[x])):x<32?(k=y(r,n,i,o,d,e[a[x]],l[1],c[x]),T=b(v,_,S,E,A,e[u[x]],h[1],f[x])):x<48?(k=m(r,n,i,o,d,e[a[x]],l[2],c[x]),T=m(v,_,S,E,A,e[u[x]],h[2],f[x])):x<64?(k=b(r,n,i,o,d,e[a[x]],l[3],c[x]),T=y(v,_,S,E,A,e[u[x]],h[3],f[x])):(k=w(r,n,i,o,d,e[a[x]],l[4],c[x]),T=g(v,_,S,E,A,e[u[x]],h[4],f[x])),r=d,d=o,o=p(i,10),i=n,n=k,v=A,A=E,E=p(S,10),S=_,_=T}var I=this._b+i+E|0;this._b=this._c+o+A|0,this._c=this._d+d+v|0,this._d=this._e+r+_|0,this._e=this._a+n+S|0,this._a=I},d.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=n.alloc?n.alloc(20):new n(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=d},"0OOA":function(e,t,r){"use strict";var n=r("Dp+g").Buffer,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getLength=t.decode=t.encode=void 0;var o=i(r("ADGY"));function s(e,t){if("0"===e[0]&&"0"===e[1])throw new Error("invalid RLP: extra zeros");return parseInt(e,t)}function a(e,t){if(e<56)return n.from([e+t]);var r=f(e),i=f(t+55+r.length/2);return n.from(i+r,"hex")}function u(e){var t,r,i,o,a,c=[],f=e[0];if(f<=127)return{data:e.slice(0,1),remainder:e.slice(1)};if(f<=183){if(t=f-127,i=128===f?n.from([]):e.slice(1,t),2===t&&i[0]<128)throw new Error("invalid rlp encoding: byte must be less 0x80");return{data:i,remainder:e.slice(t)}}if(f<=191){if(r=f-182,e.length-1<r)throw new Error("invalid RLP: not enough bytes for string length");if((t=s(e.slice(1,r).toString("hex"),16))<=55)throw new Error("invalid RLP: expected string length to be greater than 55");if((i=e.slice(r,t+r)).length<t)throw new Error("invalid RLP: not enough bytes for string");return{data:i,remainder:e.slice(t+r)}}if(f<=247){for(t=f-191,o=e.slice(1,t);o.length;)a=u(o),c.push(a.data),o=a.remainder;return{data:c,remainder:e.slice(t)}}var l=(r=f-246)+(t=s(e.slice(1,r).toString("hex"),16));if(l>e.length)throw new Error("invalid rlp: total length is larger than the data");if(0===(o=e.slice(r,l)).length)throw new Error("invalid rlp, List has a invalid length");for(;o.length;)a=u(o),c.push(a.data),o=a.remainder;return{data:c,remainder:e.slice(l)}}function c(e){return"0x"===e.slice(0,2)}function f(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");var t=e.toString(16);return t.length%2?"0"+t:t}function l(e){if(!n.isBuffer(e)){if("string"===typeof e)return c(e)?n.from(function(e){return e.length%2?"0"+e:e}("string"!==typeof(t=e)?t:c(t)?t.slice(2):t),"hex"):n.from(e);if("number"===typeof e||"bigint"===typeof e)return e?function(e){var t=f(e);return n.from(t,"hex")}(e):n.from([]);if(null===e||void 0===e)return n.from([]);if(e instanceof Uint8Array)return n.from(e);if(o.default.isBN(e))return n.from(e.toArray());throw new Error("invalid type")}var t;return e}t.encode=function e(t){if(Array.isArray(t)){for(var r=[],i=0;i<t.length;i++)r.push(e(t[i]));var o=n.concat(r);return n.concat([a(o.length,192),o])}var s=l(t);return 1===s.length&&s[0]<128?s:n.concat([a(s.length,128),s])},t.decode=function(e,t){if(void 0===t&&(t=!1),!e||0===e.length)return n.from([]);var r=u(l(e));if(t)return r;if(0!==r.remainder.length)throw new Error("invalid remainder");return r.data},t.getLength=function(e){if(!e||0===e.length)return n.from([]);var t=l(e),r=t[0];if(r<=127)return t.length;if(r<=183)return r-127;if(r<=191)return r-182;if(r<=247)return r-191;var i=r-246;return i+s(t.slice(1,i).toString("hex"),16)}},vhZ9:(e,t,r)=>{var n=r("Dp+g"),i=n.Buffer;function o(e,t){for(var r in e)t[r]=e[r]}function s(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(o(n,t),t.Buffer=s),s.prototype=Object.create(i.prototype),o(i,s),s.from=function(e,t,r){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},s.alloc=function(e,t,r){if("number"!==typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"===typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},s.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},s.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},PJbW:(e,t,r)=>{"use strict";var n=r("ydUC"),i=r("/Kwe"),o=n("RegExp.prototype.exec"),s=r("51A+");e.exports=function(e){if(!i(e))throw new s("`regex` must be a RegExp");return function(t){return null!==o(e,t)}}},F4ci:(e,t,r)=>{e.exports=r("K6Yt")(r("DmKR"))},DmKR:(e,t,r)=>{const n=new(0,r("iwBn").ec)("secp256k1"),i=n.curve,o=i.n.constructor;function s(e){const t=e[0];switch(t){case 2:case 3:return 33!==e.length?null:function(e,t){let r=new o(t);if(r.cmp(i.p)>=0)return null;r=r.toRed(i.red);let s=r.redSqr().redIMul(r).redIAdd(i.b).redSqrt();return 3===e!==s.isOdd()&&(s=s.redNeg()),n.keyPair({pub:{x:r,y:s}})}(t,e.subarray(1,33));case 4:case 6:case 7:return 65!==e.length?null:function(e,t,r){let s=new o(t),a=new o(r);if(s.cmp(i.p)>=0||a.cmp(i.p)>=0)return null;if(s=s.toRed(i.red),a=a.toRed(i.red),(6===e||7===e)&&a.isOdd()!==(7===e))return null;const u=s.redSqr().redIMul(s);return a.redSqr().redISub(u.redIAdd(i.b)).isZero()?n.keyPair({pub:{x:s,y:a}}):null}(t,e.subarray(1,33),e.subarray(33,65));default:return null}}function a(e,t){const r=t.encode(null,33===e.length);for(let n=0;n<e.length;++n)e[n]=r[n]}e.exports={contextRandomize:()=>0,privateKeyVerify(e){const t=new o(e);return t.cmp(i.n)<0&&!t.isZero()?0:1},privateKeyNegate(e){const t=new o(e),r=i.n.sub(t).umod(i.n).toArrayLike(Uint8Array,"be",32);return e.set(r),0},privateKeyTweakAdd(e,t){const r=new o(t);if(r.cmp(i.n)>=0)return 1;if(r.iadd(new o(e)),r.cmp(i.n)>=0&&r.isub(i.n),r.isZero())return 1;const n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},privateKeyTweakMul(e,t){let r=new o(t);if(r.cmp(i.n)>=0||r.isZero())return 1;r.imul(new o(e)),r.cmp(i.n)>=0&&(r=r.umod(i.n));const n=r.toArrayLike(Uint8Array,"be",32);return e.set(n),0},publicKeyVerify:e=>null===s(e)?1:0,publicKeyCreate(e,t){const r=new o(t);if(r.cmp(i.n)>=0||r.isZero())return 1;return a(e,n.keyFromPrivate(t).getPublic()),0},publicKeyConvert(e,t){const r=s(t);if(null===r)return 1;return a(e,r.getPublic()),0},publicKeyNegate(e,t){const r=s(t);if(null===r)return 1;const n=r.getPublic();return n.y=n.y.redNeg(),a(e,n),0},publicKeyCombine(e,t){const r=new Array(t.length);for(let i=0;i<t.length;++i)if(r[i]=s(t[i]),null===r[i])return 1;let n=r[0].getPublic();for(let i=1;i<r.length;++i)n=n.add(r[i].pub);return n.isInfinity()?2:(a(e,n),0)},publicKeyTweakAdd(e,t,r){const n=s(t);if(null===n)return 1;if((r=new o(r)).cmp(i.n)>=0)return 2;const u=n.getPublic().add(i.g.mul(r));return u.isInfinity()?2:(a(e,u),0)},publicKeyTweakMul(e,t,r){const n=s(t);if(null===n)return 1;if((r=new o(r)).cmp(i.n)>=0||r.isZero())return 2;return a(e,n.getPublic().mul(r)),0},signatureNormalize(e){const t=new o(e.subarray(0,32)),r=new o(e.subarray(32,64));return t.cmp(i.n)>=0||r.cmp(i.n)>=0?1:(1===r.cmp(n.nh)&&e.set(i.n.sub(r).toArrayLike(Uint8Array,"be",32),32),0)},signatureExport(e,t){const r=t.subarray(0,32),n=t.subarray(32,64);if(new o(r).cmp(i.n)>=0)return 1;if(new o(n).cmp(i.n)>=0)return 1;const{output:s}=e;let a=s.subarray(4,37);a[0]=0,a.set(r,1);let u=33,c=0;for(;u>1&&0===a[c]&&!(128&a[c+1]);--u,++c);if(a=a.subarray(c),128&a[0])return 1;if(u>1&&0===a[0]&&!(128&a[1]))return 1;let f=s.subarray(39,72);f[0]=0,f.set(n,1);let l=33,h=0;for(;l>1&&0===f[h]&&!(128&f[h+1]);--l,++h);return f=f.subarray(h),128&f[0]||l>1&&0===f[0]&&!(128&f[1])?1:(e.outputlen=6+u+l,s[0]=48,s[1]=e.outputlen-2,s[2]=2,s[3]=a.length,s.set(a,4),s[4+u]=2,s[5+u]=f.length,s.set(f,6+u),0)},signatureImport(e,t){if(t.length<8)return 1;if(t.length>72)return 1;if(48!==t[0])return 1;if(t[1]!==t.length-2)return 1;if(2!==t[2])return 1;const r=t[3];if(0===r)return 1;if(5+r>=t.length)return 1;if(2!==t[4+r])return 1;const n=t[5+r];if(0===n)return 1;if(6+r+n!==t.length)return 1;if(128&t[4])return 1;if(r>1&&0===t[4]&&!(128&t[5]))return 1;if(128&t[r+6])return 1;if(n>1&&0===t[r+6]&&!(128&t[r+7]))return 1;let s=t.subarray(4,4+r);if(33===s.length&&0===s[0]&&(s=s.subarray(1)),s.length>32)return 1;let a=t.subarray(6+r);if(33===a.length&&0===a[0]&&(a=a.slice(1)),a.length>32)throw new Error("S length is too long");let u=new o(s);u.cmp(i.n)>=0&&(u=new o(0));let c=new o(t.subarray(6+r));return c.cmp(i.n)>=0&&(c=new o(0)),e.set(u.toArrayLike(Uint8Array,"be",32),0),e.set(c.toArrayLike(Uint8Array,"be",32),32),0},ecdsaSign(e,t,r,s,a){if(a){const e=a;a=n=>{const i=e(t,r,null,s,n);if(!(i instanceof Uint8Array&&32===i.length))throw new Error("This is the way");return new o(i)}}const u=new o(r);if(u.cmp(i.n)>=0||u.isZero())return 1;let c;try{c=n.sign(t,r,{canonical:!0,k:a,pers:s})}catch(f){return 1}return e.signature.set(c.r.toArrayLike(Uint8Array,"be",32),0),e.signature.set(c.s.toArrayLike(Uint8Array,"be",32),32),e.recid=c.recoveryParam,0},ecdsaVerify(e,t,r){const a={r:e.subarray(0,32),s:e.subarray(32,64)},u=new o(a.r),c=new o(a.s);if(u.cmp(i.n)>=0||c.cmp(i.n)>=0)return 1;if(1===c.cmp(n.nh)||u.isZero()||c.isZero())return 3;const f=s(r);if(null===f)return 2;const l=f.getPublic();return n.verify(t,a,l)?0:3},ecdsaRecover(e,t,r,s){const u={r:t.slice(0,32),s:t.slice(32,64)},c=new o(u.r),f=new o(u.s);if(c.cmp(i.n)>=0||f.cmp(i.n)>=0)return 1;if(c.isZero()||f.isZero())return 2;let l;try{l=n.recoverPubKey(s,u,r)}catch(h){return 2}return a(e,l),0},ecdh(e,t,r,a,u,c,f){const l=s(t);if(null===l)return 1;const h=new o(r);if(h.cmp(i.n)>=0||h.isZero())return 2;const d=l.getPublic().mul(h);if(void 0===u){const t=d.encode(null,!0),r=n.hash().update(t).digest();for(let n=0;n<32;++n)e[n]=r[n]}else{c||(c=new Uint8Array(32));const t=d.getX().toArray("be",32);for(let e=0;e<32;++e)c[e]=t[e];f||(f=new Uint8Array(32));const r=d.getY().toArray("be",32);for(let e=0;e<32;++e)f[e]=r[e];const n=u(c,f,a);if(!(n instanceof Uint8Array&&n.length===e.length))return 2;e.set(n)}return 0}}},K6Yt:e=>{const t="Impossible case. Please create issue.",r="The tweak was out of range or the resulted private key is invalid",n="The tweak was out of range or equal to zero",i="Unknow error on context randomization",o="Private Key is invalid",s="Public Key could not be parsed",a="Public Key serialization error",u="The sum of the public keys is not valid",c="Signature could not be parsed",f="The nonce generation function failed, or the private key was invalid",l="Public key could not be recover",h="Scalar was invalid (zero or overflow)";function d(e,t){if(!e)throw new Error(t)}function p(e,t,r){if(d(t instanceof Uint8Array,`Expected ${e} to be an Uint8Array`),void 0!==r)if(Array.isArray(r)){const n=`Expected ${e} to be an Uint8Array with length [${r.join(", ")}]`;d(r.includes(t.length),n)}else{const n=`Expected ${e} to be an Uint8Array with length ${r}`;d(t.length===r,n)}}function g(e){d("Boolean"===m(e),"Expected compressed to be a Boolean")}function y(e=e=>new Uint8Array(e),t){return"function"===typeof e&&(e=e(t)),p("output",e,t),e}function m(e){return Object.prototype.toString.call(e).slice(8,-1)}e.exports=e=>({contextRandomize(t){if(d(null===t||t instanceof Uint8Array,"Expected seed to be an Uint8Array or null"),null!==t&&p("seed",t,32),1===e.contextRandomize(t))throw new Error(i)},privateKeyVerify:t=>(p("private key",t,32),0===e.privateKeyVerify(t)),privateKeyNegate(r){switch(p("private key",r,32),e.privateKeyNegate(r)){case 0:return r;case 1:throw new Error(t)}},privateKeyTweakAdd(t,n){switch(p("private key",t,32),p("tweak",n,32),e.privateKeyTweakAdd(t,n)){case 0:return t;case 1:throw new Error(r)}},privateKeyTweakMul(t,r){switch(p("private key",t,32),p("tweak",r,32),e.privateKeyTweakMul(t,r)){case 0:return t;case 1:throw new Error(n)}},publicKeyVerify:t=>(p("public key",t,[33,65]),0===e.publicKeyVerify(t)),publicKeyCreate(t,r=!0,n){switch(p("private key",t,32),g(r),n=y(n,r?33:65),e.publicKeyCreate(n,t)){case 0:return n;case 1:throw new Error(o);case 2:throw new Error(a)}},publicKeyConvert(t,r=!0,n){switch(p("public key",t,[33,65]),g(r),n=y(n,r?33:65),e.publicKeyConvert(n,t)){case 0:return n;case 1:throw new Error(s);case 2:throw new Error(a)}},publicKeyNegate(r,n=!0,i){switch(p("public key",r,[33,65]),g(n),i=y(i,n?33:65),e.publicKeyNegate(i,r)){case 0:return i;case 1:throw new Error(s);case 2:throw new Error(t);case 3:throw new Error(a)}},publicKeyCombine(t,r=!0,n){d(Array.isArray(t),"Expected public keys to be an Array"),d(t.length>0,"Expected public keys array will have more than zero items");for(const e of t)p("public key",e,[33,65]);switch(g(r),n=y(n,r?33:65),e.publicKeyCombine(n,t)){case 0:return n;case 1:throw new Error(s);case 2:throw new Error(u);case 3:throw new Error(a)}},publicKeyTweakAdd(t,n,i=!0,o){switch(p("public key",t,[33,65]),p("tweak",n,32),g(i),o=y(o,i?33:65),e.publicKeyTweakAdd(o,t,n)){case 0:return o;case 1:throw new Error(s);case 2:throw new Error(r)}},publicKeyTweakMul(t,r,i=!0,o){switch(p("public key",t,[33,65]),p("tweak",r,32),g(i),o=y(o,i?33:65),e.publicKeyTweakMul(o,t,r)){case 0:return o;case 1:throw new Error(s);case 2:throw new Error(n)}},signatureNormalize(t){switch(p("signature",t,64),e.signatureNormalize(t)){case 0:return t;case 1:throw new Error(c)}},signatureExport(r,n){p("signature",r,64);const i={output:n=y(n,72),outputlen:72};switch(e.signatureExport(i,r)){case 0:return n.slice(0,i.outputlen);case 1:throw new Error(c);case 2:throw new Error(t)}},signatureImport(r,n){switch(p("signature",r),n=y(n,64),e.signatureImport(n,r)){case 0:return n;case 1:throw new Error(c);case 2:throw new Error(t)}},ecdsaSign(r,n,i={},o){p("message",r,32),p("private key",n,32),d("Object"===m(i),"Expected options to be an Object"),void 0!==i.data&&p("options.data",i.data),void 0!==i.noncefn&&d("Function"===m(i.noncefn),"Expected options.noncefn to be a Function");const s={signature:o=y(o,64),recid:null};switch(e.ecdsaSign(s,r,n,i.data,i.noncefn)){case 0:return s;case 1:throw new Error(f);case 2:throw new Error(t)}},ecdsaVerify(t,r,n){switch(p("signature",t,64),p("message",r,32),p("public key",n,[33,65]),e.ecdsaVerify(t,r,n)){case 0:return!0;case 3:return!1;case 1:throw new Error(c);case 2:throw new Error(s)}},ecdsaRecover(r,n,i,o=!0,s){switch(p("signature",r,64),d("Number"===m(n)&&n>=0&&n<=3,"Expected recovery id to be a Number within interval [0, 3]"),p("message",i,32),g(o),s=y(s,o?33:65),e.ecdsaRecover(s,r,n,i)){case 0:return s;case 1:throw new Error(c);case 2:throw new Error(l);case 3:throw new Error(t)}},ecdh(t,r,n={},i){switch(p("public key",t,[33,65]),p("private key",r,32),d("Object"===m(n),"Expected options to be an Object"),void 0!==n.data&&p("options.data",n.data),void 0!==n.hashfn?(d("Function"===m(n.hashfn),"Expected options.hashfn to be a Function"),void 0!==n.xbuf&&p("options.xbuf",n.xbuf,32),void 0!==n.ybuf&&p("options.ybuf",n.ybuf,32),p("output",i)):i=y(i,32),e.ecdh(i,t,r,n.data,n.hashfn,n.xbuf,n.ybuf)){case 0:return i;case 1:throw new Error(s);case 2:throw new Error(h)}}})},"5ae0":(e,t,r)=>{"use strict";var n=r("vcUE"),i=r("pdZx"),o=r("6PnD")(),s=r("PtCN"),a=r("51A+"),u=n("%Math.floor%");e.exports=function(e,t){if("function"!==typeof e)throw new a("`fn` is not a function");if("number"!==typeof t||t<0||t>4294967295||u(t)!==t)throw new a("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],n=!0,c=!0;if("length"in e&&s){var f=s(e,"length");f&&!f.configurable&&(n=!1),f&&!f.writable&&(c=!1)}return(n||c||!r)&&(o?i(e,"length",t,!0,!0):i(e,"length",t)),e}},jur6:(e,t,r)=>{var n=r("vhZ9").Buffer;function i(e,t){this._block=n.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}i.prototype.update=function(e,t){"string"===typeof e&&(t=t||"utf8",e=n.from(e,t));for(var r=this._block,i=this._blockSize,o=e.length,s=this._len,a=0;a<o;){for(var u=s%i,c=Math.min(o-a,i-u),f=0;f<c;f++)r[u+f]=e[a+f];a+=c,(s+=c)%i===0&&this._update(r)}return this._len+=o,this},i.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var r=8*this._len;if(r<=4294967295)this._block.writeUInt32BE(r,this._blockSize-4);else{var n=(4294967295&r)>>>0,i=(r-n)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=i},IsaS:(e,t,r)=>{var n=e.exports=function(e){e=e.toLowerCase();var t=n[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};n.sha=r("VPk3"),n.sha1=r("Ckbd"),n.sha224=r("SFGa"),n.sha256=r("OI9u"),n.sha384=r("d8bW"),n.sha512=r("AIuX")},VPk3:(e,t,r)=>{var n=r("f9x7"),i=r("jur6"),o=r("vhZ9").Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function u(){this.init(),this._w=a,i.call(this,64,56)}function c(e){return e<<30|e>>>2}function f(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,u=0|this._e,l=0;l<16;++l)r[l]=e.readInt32BE(4*l);for(;l<80;++l)r[l]=r[l-3]^r[l-8]^r[l-14]^r[l-16];for(var h=0;h<80;++h){var d=~~(h/20),p=0|((t=n)<<5|t>>>27)+f(d,i,o,a)+u+r[h]+s[d];u=a,a=o,o=c(i),i=n,n=p}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=u},Ckbd:(e,t,r)=>{var n=r("f9x7"),i=r("jur6"),o=r("vhZ9").Buffer,s=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function u(){this.init(),this._w=a,i.call(this,64,56)}function c(e){return e<<5|e>>>27}function f(e){return e<<30|e>>>2}function l(e,t,r,n){return 0===e?t&r|~t&n:2===e?t&r|t&n|r&n:t^r^n}n(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,u=0|this._e,h=0;h<16;++h)r[h]=e.readInt32BE(4*h);for(;h<80;++h)r[h]=(t=r[h-3]^r[h-8]^r[h-14]^r[h-16])<<1|t>>>31;for(var d=0;d<80;++d){var p=~~(d/20),g=c(n)+l(p,i,o,a)+u+r[d]+s[p]|0;u=a,a=o,o=f(i),i=n,n=g}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0},u.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=u},SFGa:(e,t,r)=>{var n=r("f9x7"),i=r("OI9u"),o=r("jur6"),s=r("vhZ9").Buffer,a=new Array(64);function u(){this.init(),this._w=a,o.call(this,64,56)}n(u,i),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var e=s.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=u},OI9u:(e,t,r)=>{var n=r("f9x7"),i=r("jur6"),o=r("vhZ9").Buffer,s=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function u(){this.init(),this._w=a,i.call(this,64,56)}function c(e,t,r){return r^e&(t^r)}function f(e,t,r){return e&t|r&(e|t)}function l(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function h(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function d(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}n(u,i),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(e){for(var t,r=this._w,n=0|this._a,i=0|this._b,o=0|this._c,a=0|this._d,u=0|this._e,p=0|this._f,g=0|this._g,y=0|this._h,m=0;m<16;++m)r[m]=e.readInt32BE(4*m);for(;m<64;++m)r[m]=0|(((t=r[m-2])>>>17|t<<15)^(t>>>19|t<<13)^t>>>10)+r[m-7]+d(r[m-15])+r[m-16];for(var b=0;b<64;++b){var w=y+h(u)+c(u,p,g)+s[b]+r[b]|0,v=l(n)+f(n,i,o)|0;y=g,g=p,p=u,u=a+w|0,a=o,o=i,i=n,n=w+v|0}this._a=n+this._a|0,this._b=i+this._b|0,this._c=o+this._c|0,this._d=a+this._d|0,this._e=u+this._e|0,this._f=p+this._f|0,this._g=g+this._g|0,this._h=y+this._h|0},u.prototype._hash=function(){var e=o.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=u},d8bW:(e,t,r)=>{var n=r("f9x7"),i=r("AIuX"),o=r("jur6"),s=r("vhZ9").Buffer,a=new Array(160);function u(){this.init(),this._w=a,o.call(this,128,112)}n(u,i),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var e=s.allocUnsafe(48);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=u},AIuX:(e,t,r)=>{var n=r("f9x7"),i=r("jur6"),o=r("vhZ9").Buffer,s=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function u(){this.init(),this._w=a,i.call(this,128,112)}function c(e,t,r){return r^e&(t^r)}function f(e,t,r){return e&t|r&(e|t)}function l(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function h(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function d(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function g(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function y(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function m(e,t){return e>>>0<t>>>0?1:0}n(u,i),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(e){for(var t=this._w,r=0|this._ah,n=0|this._bh,i=0|this._ch,o=0|this._dh,a=0|this._eh,u=0|this._fh,b=0|this._gh,w=0|this._hh,v=0|this._al,_=0|this._bl,S=0|this._cl,E=0|this._dl,A=0|this._el,x=0|this._fl,k=0|this._gl,T=0|this._hl,I=0;I<32;I+=2)t[I]=e.readInt32BE(4*I),t[I+1]=e.readInt32BE(4*I+4);for(;I<160;I+=2){var M=t[I-30],P=t[I-30+1],B=d(M,P),O=p(P,M),C=g(M=t[I-4],P=t[I-4+1]),U=y(P,M),N=t[I-14],R=t[I-14+1],L=t[I-32],z=t[I-32+1],j=O+R|0,D=B+N+m(j,O)|0;D=(D=D+C+m(j=j+U|0,U)|0)+L+m(j=j+z|0,z)|0,t[I]=D,t[I+1]=j}for(var q=0;q<160;q+=2){D=t[q],j=t[q+1];var K=f(r,n,i),H=f(v,_,S),F=l(r,v),W=l(v,r),$=h(a,A),V=h(A,a),G=s[q],Z=s[q+1],J=c(a,u,b),X=c(A,x,k),Y=T+V|0,Q=w+$+m(Y,T)|0;Q=(Q=(Q=Q+J+m(Y=Y+X|0,X)|0)+G+m(Y=Y+Z|0,Z)|0)+D+m(Y=Y+j|0,j)|0;var ee=W+H|0,te=F+K+m(ee,W)|0;w=b,T=k,b=u,k=x,u=a,x=A,a=o+Q+m(A=E+Y|0,E)|0,o=i,E=S,i=n,S=_,n=r,_=v,r=Q+te+m(v=Y+ee|0,Y)|0}this._al=this._al+v|0,this._bl=this._bl+_|0,this._cl=this._cl+S|0,this._dl=this._dl+E|0,this._el=this._el+A|0,this._fl=this._fl+x|0,this._gl=this._gl+k|0,this._hl=this._hl+T|0,this._ah=this._ah+r+m(this._al,v)|0,this._bh=this._bh+n+m(this._bl,_)|0,this._ch=this._ch+i+m(this._cl,S)|0,this._dh=this._dh+o+m(this._dl,E)|0,this._eh=this._eh+a+m(this._el,A)|0,this._fh=this._fh+u+m(this._fl,x)|0,this._gh=this._gh+b+m(this._gl,k)|0,this._hh=this._hh+w+m(this._hl,T)|0},u.prototype._hash=function(){var e=o.allocUnsafe(64);function t(t,r,n){e.writeInt32BE(t,n),e.writeInt32BE(r,n+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=u},ITsw:(e,t,r)=>{e.exports=i;var n=r("UnLv").EventEmitter;function i(){n.call(this)}r("f9x7")(i,n),i.Readable=r("iuKO"),i.Writable=r("GWH4"),i.Duplex=r("zK65"),i.Transform=r("cQa0"),i.PassThrough=r("NWnk"),i.finished=r("tdZW"),i.pipeline=r("Nyij"),i.Stream=i,i.prototype.pipe=function(e,t){var r=this;function i(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(r.on("end",a),r.on("close",u));var s=!1;function a(){s||(s=!0,e.end())}function u(){s||(s=!0,"function"===typeof e.destroy&&e.destroy())}function c(e){if(f(),0===n.listenerCount(this,"error"))throw e}function f(){r.removeListener("data",i),e.removeListener("drain",o),r.removeListener("end",a),r.removeListener("close",u),r.removeListener("error",c),e.removeListener("error",c),r.removeListener("end",f),r.removeListener("close",f),e.removeListener("close",f)}return r.on("error",c),e.on("error",c),r.on("end",f),r.on("close",f),e.on("close",f),e.emit("pipe",r),e}},uFga:(e,t,r)=>{"use strict";var n=r("vhZ9").Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=f,this.end=l,t=3;break;default:return this.write=h,void(this.end=d)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function s(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function a(e){var t=this.lastTotal-this.lastNeed,r=function(e,t){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function f(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function l(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function d(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},o.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=s(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if(i=s(t[n]),i>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if(i=s(t[n]),i>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},BaDN:(e,t,r)=>{var n=r("4NT3");e.exports=function(e){return"string"!==typeof e?e:n(e)?e.slice(2):e}},rTtg:function(e,t,r){var n=r("ld6R").Buffer;!function(t,r){"use strict";e.exports?e.exports=r():(t.nacl||(t.nacl={}),t.nacl.util=r())}(this,(function(){"use strict";var e={};function t(e){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e))throw new TypeError("invalid encoding")}return e.decodeUTF8=function(e){if("string"!==typeof e)throw new TypeError("expected string");var t,r=unescape(encodeURIComponent(e)),n=new Uint8Array(r.length);for(t=0;t<r.length;t++)n[t]=r.charCodeAt(t);return n},e.encodeUTF8=function(e){var t,r=[];for(t=0;t<e.length;t++)r.push(String.fromCharCode(e[t]));return decodeURIComponent(escape(r.join("")))},"undefined"===typeof atob?"undefined"!==typeof n.from?(e.encodeBase64=function(e){return n.from(e).toString("base64")},e.decodeBase64=function(e){return t(e),new Uint8Array(Array.prototype.slice.call(n.from(e,"base64"),0))}):(e.encodeBase64=function(e){return new n(e).toString("base64")},e.decodeBase64=function(e){return t(e),new Uint8Array(Array.prototype.slice.call(new n(e,"base64"),0))}):(e.encodeBase64=function(e){var t,r=[],n=e.length;for(t=0;t<n;t++)r.push(String.fromCharCode(e[t]));return btoa(r.join(""))},e.decodeBase64=function(e){t(e);var r,n=atob(e),i=new Uint8Array(n.length);for(r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}),e}))},"8hvg":(e,t,r)=>{!function(e){"use strict";var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},n=function(){throw new Error("no PRNG")},i=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var s=t(),a=t([1]),u=t([56129,1]),c=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),f=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),l=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),d=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function p(e,t,r,n){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r,e[t+4]=n>>24&255,e[t+5]=n>>16&255,e[t+6]=n>>8&255,e[t+7]=255&n}function g(e,t,r,n,i){var o,s=0;for(o=0;o<i;o++)s|=e[t+o]^r[n+o];return(1&s-1>>>8)-1}function y(e,t,r,n){return g(e,t,r,n,16)}function m(e,t,r,n){return g(e,t,r,n,32)}function b(e,t,r,n){!function(e,t,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,f=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,l=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,h=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,g=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,y=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,m=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,b=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,w=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,v=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,_=o,S=s,E=a,A=u,x=c,k=f,T=l,I=h,M=d,P=p,B=g,O=y,C=m,U=b,N=w,R=v,L=0;L<20;L+=2)_^=(i=(C^=(i=(M^=(i=(x^=(i=_+C|0)<<7|i>>>25)+_|0)<<9|i>>>23)+x|0)<<13|i>>>19)+M|0)<<18|i>>>14,k^=(i=(S^=(i=(U^=(i=(P^=(i=k+S|0)<<7|i>>>25)+k|0)<<9|i>>>23)+P|0)<<13|i>>>19)+U|0)<<18|i>>>14,B^=(i=(T^=(i=(E^=(i=(N^=(i=B+T|0)<<7|i>>>25)+B|0)<<9|i>>>23)+N|0)<<13|i>>>19)+E|0)<<18|i>>>14,R^=(i=(O^=(i=(I^=(i=(A^=(i=R+O|0)<<7|i>>>25)+R|0)<<9|i>>>23)+A|0)<<13|i>>>19)+I|0)<<18|i>>>14,_^=(i=(A^=(i=(E^=(i=(S^=(i=_+A|0)<<7|i>>>25)+_|0)<<9|i>>>23)+S|0)<<13|i>>>19)+E|0)<<18|i>>>14,k^=(i=(x^=(i=(I^=(i=(T^=(i=k+x|0)<<7|i>>>25)+k|0)<<9|i>>>23)+T|0)<<13|i>>>19)+I|0)<<18|i>>>14,B^=(i=(P^=(i=(M^=(i=(O^=(i=B+P|0)<<7|i>>>25)+B|0)<<9|i>>>23)+O|0)<<13|i>>>19)+M|0)<<18|i>>>14,R^=(i=(N^=(i=(U^=(i=(C^=(i=R+N|0)<<7|i>>>25)+R|0)<<9|i>>>23)+C|0)<<13|i>>>19)+U|0)<<18|i>>>14;_=_+o|0,S=S+s|0,E=E+a|0,A=A+u|0,x=x+c|0,k=k+f|0,T=T+l|0,I=I+h|0,M=M+d|0,P=P+p|0,B=B+g|0,O=O+y|0,C=C+m|0,U=U+b|0,N=N+w|0,R=R+v|0,e[0]=_>>>0&255,e[1]=_>>>8&255,e[2]=_>>>16&255,e[3]=_>>>24&255,e[4]=S>>>0&255,e[5]=S>>>8&255,e[6]=S>>>16&255,e[7]=S>>>24&255,e[8]=E>>>0&255,e[9]=E>>>8&255,e[10]=E>>>16&255,e[11]=E>>>24&255,e[12]=A>>>0&255,e[13]=A>>>8&255,e[14]=A>>>16&255,e[15]=A>>>24&255,e[16]=x>>>0&255,e[17]=x>>>8&255,e[18]=x>>>16&255,e[19]=x>>>24&255,e[20]=k>>>0&255,e[21]=k>>>8&255,e[22]=k>>>16&255,e[23]=k>>>24&255,e[24]=T>>>0&255,e[25]=T>>>8&255,e[26]=T>>>16&255,e[27]=T>>>24&255,e[28]=I>>>0&255,e[29]=I>>>8&255,e[30]=I>>>16&255,e[31]=I>>>24&255,e[32]=M>>>0&255,e[33]=M>>>8&255,e[34]=M>>>16&255,e[35]=M>>>24&255,e[36]=P>>>0&255,e[37]=P>>>8&255,e[38]=P>>>16&255,e[39]=P>>>24&255,e[40]=B>>>0&255,e[41]=B>>>8&255,e[42]=B>>>16&255,e[43]=B>>>24&255,e[44]=O>>>0&255,e[45]=O>>>8&255,e[46]=O>>>16&255,e[47]=O>>>24&255,e[48]=C>>>0&255,e[49]=C>>>8&255,e[50]=C>>>16&255,e[51]=C>>>24&255,e[52]=U>>>0&255,e[53]=U>>>8&255,e[54]=U>>>16&255,e[55]=U>>>24&255,e[56]=N>>>0&255,e[57]=N>>>8&255,e[58]=N>>>16&255,e[59]=N>>>24&255,e[60]=R>>>0&255,e[61]=R>>>8&255,e[62]=R>>>16&255,e[63]=R>>>24&255}(e,t,r,n)}function w(e,t,r,n){!function(e,t,r,n){for(var i,o=255&n[0]|(255&n[1])<<8|(255&n[2])<<16|(255&n[3])<<24,s=255&r[0]|(255&r[1])<<8|(255&r[2])<<16|(255&r[3])<<24,a=255&r[4]|(255&r[5])<<8|(255&r[6])<<16|(255&r[7])<<24,u=255&r[8]|(255&r[9])<<8|(255&r[10])<<16|(255&r[11])<<24,c=255&r[12]|(255&r[13])<<8|(255&r[14])<<16|(255&r[15])<<24,f=255&n[4]|(255&n[5])<<8|(255&n[6])<<16|(255&n[7])<<24,l=255&t[0]|(255&t[1])<<8|(255&t[2])<<16|(255&t[3])<<24,h=255&t[4]|(255&t[5])<<8|(255&t[6])<<16|(255&t[7])<<24,d=255&t[8]|(255&t[9])<<8|(255&t[10])<<16|(255&t[11])<<24,p=255&t[12]|(255&t[13])<<8|(255&t[14])<<16|(255&t[15])<<24,g=255&n[8]|(255&n[9])<<8|(255&n[10])<<16|(255&n[11])<<24,y=255&r[16]|(255&r[17])<<8|(255&r[18])<<16|(255&r[19])<<24,m=255&r[20]|(255&r[21])<<8|(255&r[22])<<16|(255&r[23])<<24,b=255&r[24]|(255&r[25])<<8|(255&r[26])<<16|(255&r[27])<<24,w=255&r[28]|(255&r[29])<<8|(255&r[30])<<16|(255&r[31])<<24,v=255&n[12]|(255&n[13])<<8|(255&n[14])<<16|(255&n[15])<<24,_=0;_<20;_+=2)o^=(i=(m^=(i=(d^=(i=(c^=(i=o+m|0)<<7|i>>>25)+o|0)<<9|i>>>23)+c|0)<<13|i>>>19)+d|0)<<18|i>>>14,f^=(i=(s^=(i=(b^=(i=(p^=(i=f+s|0)<<7|i>>>25)+f|0)<<9|i>>>23)+p|0)<<13|i>>>19)+b|0)<<18|i>>>14,g^=(i=(l^=(i=(a^=(i=(w^=(i=g+l|0)<<7|i>>>25)+g|0)<<9|i>>>23)+w|0)<<13|i>>>19)+a|0)<<18|i>>>14,v^=(i=(y^=(i=(h^=(i=(u^=(i=v+y|0)<<7|i>>>25)+v|0)<<9|i>>>23)+u|0)<<13|i>>>19)+h|0)<<18|i>>>14,o^=(i=(u^=(i=(a^=(i=(s^=(i=o+u|0)<<7|i>>>25)+o|0)<<9|i>>>23)+s|0)<<13|i>>>19)+a|0)<<18|i>>>14,f^=(i=(c^=(i=(h^=(i=(l^=(i=f+c|0)<<7|i>>>25)+f|0)<<9|i>>>23)+l|0)<<13|i>>>19)+h|0)<<18|i>>>14,g^=(i=(p^=(i=(d^=(i=(y^=(i=g+p|0)<<7|i>>>25)+g|0)<<9|i>>>23)+y|0)<<13|i>>>19)+d|0)<<18|i>>>14,v^=(i=(w^=(i=(b^=(i=(m^=(i=v+w|0)<<7|i>>>25)+v|0)<<9|i>>>23)+m|0)<<13|i>>>19)+b|0)<<18|i>>>14;e[0]=o>>>0&255,e[1]=o>>>8&255,e[2]=o>>>16&255,e[3]=o>>>24&255,e[4]=f>>>0&255,e[5]=f>>>8&255,e[6]=f>>>16&255,e[7]=f>>>24&255,e[8]=g>>>0&255,e[9]=g>>>8&255,e[10]=g>>>16&255,e[11]=g>>>24&255,e[12]=v>>>0&255,e[13]=v>>>8&255,e[14]=v>>>16&255,e[15]=v>>>24&255,e[16]=l>>>0&255,e[17]=l>>>8&255,e[18]=l>>>16&255,e[19]=l>>>24&255,e[20]=h>>>0&255,e[21]=h>>>8&255,e[22]=h>>>16&255,e[23]=h>>>24&255,e[24]=d>>>0&255,e[25]=d>>>8&255,e[26]=d>>>16&255,e[27]=d>>>24&255,e[28]=p>>>0&255,e[29]=p>>>8&255,e[30]=p>>>16&255,e[31]=p>>>24&255}(e,t,r,n)}var v=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function _(e,t,r,n,i,o,s){var a,u,c=new Uint8Array(16),f=new Uint8Array(64);for(u=0;u<16;u++)c[u]=0;for(u=0;u<8;u++)c[u]=o[u];for(;i>=64;){for(b(f,c,s,v),u=0;u<64;u++)e[t+u]=r[n+u]^f[u];for(a=1,u=8;u<16;u++)a=a+(255&c[u])|0,c[u]=255&a,a>>>=8;i-=64,t+=64,n+=64}if(i>0)for(b(f,c,s,v),u=0;u<i;u++)e[t+u]=r[n+u]^f[u];return 0}function S(e,t,r,n,i){var o,s,a=new Uint8Array(16),u=new Uint8Array(64);for(s=0;s<16;s++)a[s]=0;for(s=0;s<8;s++)a[s]=n[s];for(;r>=64;){for(b(u,a,i,v),s=0;s<64;s++)e[t+s]=u[s];for(o=1,s=8;s<16;s++)o=o+(255&a[s])|0,a[s]=255&o,o>>>=8;r-=64,t+=64}if(r>0)for(b(u,a,i,v),s=0;s<r;s++)e[t+s]=u[s];return 0}function E(e,t,r,n,i){var o=new Uint8Array(32);w(o,n,i,v);for(var s=new Uint8Array(8),a=0;a<8;a++)s[a]=n[a+16];return S(e,t,r,s,o)}function A(e,t,r,n,i,o,s){var a=new Uint8Array(32);w(a,o,s,v);for(var u=new Uint8Array(8),c=0;c<8;c++)u[c]=o[c+16];return _(e,t,r,n,i,u,a)}var x=function(e){var t,r,n,i,o,s,a,u;this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0,t=255&e[0]|(255&e[1])<<8,this.r[0]=8191&t,r=255&e[2]|(255&e[3])<<8,this.r[1]=8191&(t>>>13|r<<3),n=255&e[4]|(255&e[5])<<8,this.r[2]=7939&(r>>>10|n<<6),i=255&e[6]|(255&e[7])<<8,this.r[3]=8191&(n>>>7|i<<9),o=255&e[8]|(255&e[9])<<8,this.r[4]=255&(i>>>4|o<<12),this.r[5]=o>>>1&8190,s=255&e[10]|(255&e[11])<<8,this.r[6]=8191&(o>>>14|s<<2),a=255&e[12]|(255&e[13])<<8,this.r[7]=8065&(s>>>11|a<<5),u=255&e[14]|(255&e[15])<<8,this.r[8]=8191&(a>>>8|u<<8),this.r[9]=u>>>5&127,this.pad[0]=255&e[16]|(255&e[17])<<8,this.pad[1]=255&e[18]|(255&e[19])<<8,this.pad[2]=255&e[20]|(255&e[21])<<8,this.pad[3]=255&e[22]|(255&e[23])<<8,this.pad[4]=255&e[24]|(255&e[25])<<8,this.pad[5]=255&e[26]|(255&e[27])<<8,this.pad[6]=255&e[28]|(255&e[29])<<8,this.pad[7]=255&e[30]|(255&e[31])<<8};function k(e,t,r,n,i,o){var s=new x(o);return s.update(r,n,i),s.finish(e,t),0}function T(e,t,r,n,i,o){var s=new Uint8Array(16);return k(s,0,r,n,i,o),y(e,t,s,0)}function I(e,t,r,n,i){var o;if(r<32)return-1;for(A(e,0,t,0,r,n,i),k(e,16,e,32,r-32,e),o=0;o<16;o++)e[o]=0;return 0}function M(e,t,r,n,i){var o,s=new Uint8Array(32);if(r<32)return-1;if(E(s,0,32,n,i),0!==T(t,16,t,32,r-32,s))return-1;for(A(e,0,t,0,r,n,i),o=0;o<32;o++)e[o]=0;return 0}function P(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function B(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function O(e,t,r){for(var n,i=~(r-1),o=0;o<16;o++)n=i&(e[o]^t[o]),e[o]^=n,t[o]^=n}function C(e,r){var n,i,o,s=t(),a=t();for(n=0;n<16;n++)a[n]=r[n];for(B(a),B(a),B(a),i=0;i<2;i++){for(s[0]=a[0]-65517,n=1;n<15;n++)s[n]=a[n]-65535-(s[n-1]>>16&1),s[n-1]&=65535;s[15]=a[15]-32767-(s[14]>>16&1),o=s[15]>>16&1,s[14]&=65535,O(a,s,1-o)}for(n=0;n<16;n++)e[2*n]=255&a[n],e[2*n+1]=a[n]>>8}function U(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return C(r,e),C(n,t),m(r,0,n,0)}function N(e){var t=new Uint8Array(32);return C(t,e),1&t[0]}function R(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function L(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function z(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function j(e,t,r){var n,i,o=0,s=0,a=0,u=0,c=0,f=0,l=0,h=0,d=0,p=0,g=0,y=0,m=0,b=0,w=0,v=0,_=0,S=0,E=0,A=0,x=0,k=0,T=0,I=0,M=0,P=0,B=0,O=0,C=0,U=0,N=0,R=r[0],L=r[1],z=r[2],j=r[3],D=r[4],q=r[5],K=r[6],H=r[7],F=r[8],W=r[9],$=r[10],V=r[11],G=r[12],Z=r[13],J=r[14],X=r[15];o+=(n=t[0])*R,s+=n*L,a+=n*z,u+=n*j,c+=n*D,f+=n*q,l+=n*K,h+=n*H,d+=n*F,p+=n*W,g+=n*$,y+=n*V,m+=n*G,b+=n*Z,w+=n*J,v+=n*X,s+=(n=t[1])*R,a+=n*L,u+=n*z,c+=n*j,f+=n*D,l+=n*q,h+=n*K,d+=n*H,p+=n*F,g+=n*W,y+=n*$,m+=n*V,b+=n*G,w+=n*Z,v+=n*J,_+=n*X,a+=(n=t[2])*R,u+=n*L,c+=n*z,f+=n*j,l+=n*D,h+=n*q,d+=n*K,p+=n*H,g+=n*F,y+=n*W,m+=n*$,b+=n*V,w+=n*G,v+=n*Z,_+=n*J,S+=n*X,u+=(n=t[3])*R,c+=n*L,f+=n*z,l+=n*j,h+=n*D,d+=n*q,p+=n*K,g+=n*H,y+=n*F,m+=n*W,b+=n*$,w+=n*V,v+=n*G,_+=n*Z,S+=n*J,E+=n*X,c+=(n=t[4])*R,f+=n*L,l+=n*z,h+=n*j,d+=n*D,p+=n*q,g+=n*K,y+=n*H,m+=n*F,b+=n*W,w+=n*$,v+=n*V,_+=n*G,S+=n*Z,E+=n*J,A+=n*X,f+=(n=t[5])*R,l+=n*L,h+=n*z,d+=n*j,p+=n*D,g+=n*q,y+=n*K,m+=n*H,b+=n*F,w+=n*W,v+=n*$,_+=n*V,S+=n*G,E+=n*Z,A+=n*J,x+=n*X,l+=(n=t[6])*R,h+=n*L,d+=n*z,p+=n*j,g+=n*D,y+=n*q,m+=n*K,b+=n*H,w+=n*F,v+=n*W,_+=n*$,S+=n*V,E+=n*G,A+=n*Z,x+=n*J,k+=n*X,h+=(n=t[7])*R,d+=n*L,p+=n*z,g+=n*j,y+=n*D,m+=n*q,b+=n*K,w+=n*H,v+=n*F,_+=n*W,S+=n*$,E+=n*V,A+=n*G,x+=n*Z,k+=n*J,T+=n*X,d+=(n=t[8])*R,p+=n*L,g+=n*z,y+=n*j,m+=n*D,b+=n*q,w+=n*K,v+=n*H,_+=n*F,S+=n*W,E+=n*$,A+=n*V,x+=n*G,k+=n*Z,T+=n*J,I+=n*X,p+=(n=t[9])*R,g+=n*L,y+=n*z,m+=n*j,b+=n*D,w+=n*q,v+=n*K,_+=n*H,S+=n*F,E+=n*W,A+=n*$,x+=n*V,k+=n*G,T+=n*Z,I+=n*J,M+=n*X,g+=(n=t[10])*R,y+=n*L,m+=n*z,b+=n*j,w+=n*D,v+=n*q,_+=n*K,S+=n*H,E+=n*F,A+=n*W,x+=n*$,k+=n*V,T+=n*G,I+=n*Z,M+=n*J,P+=n*X,y+=(n=t[11])*R,m+=n*L,b+=n*z,w+=n*j,v+=n*D,_+=n*q,S+=n*K,E+=n*H,A+=n*F,x+=n*W,k+=n*$,T+=n*V,I+=n*G,M+=n*Z,P+=n*J,B+=n*X,m+=(n=t[12])*R,b+=n*L,w+=n*z,v+=n*j,_+=n*D,S+=n*q,E+=n*K,A+=n*H,x+=n*F,k+=n*W,T+=n*$,I+=n*V,M+=n*G,P+=n*Z,B+=n*J,O+=n*X,b+=(n=t[13])*R,w+=n*L,v+=n*z,_+=n*j,S+=n*D,E+=n*q,A+=n*K,x+=n*H,k+=n*F,T+=n*W,I+=n*$,M+=n*V,P+=n*G,B+=n*Z,O+=n*J,C+=n*X,w+=(n=t[14])*R,v+=n*L,_+=n*z,S+=n*j,E+=n*D,A+=n*q,x+=n*K,k+=n*H,T+=n*F,I+=n*W,M+=n*$,P+=n*V,B+=n*G,O+=n*Z,C+=n*J,U+=n*X,v+=(n=t[15])*R,s+=38*(S+=n*z),a+=38*(E+=n*j),u+=38*(A+=n*D),c+=38*(x+=n*q),f+=38*(k+=n*K),l+=38*(T+=n*H),h+=38*(I+=n*F),d+=38*(M+=n*W),p+=38*(P+=n*$),g+=38*(B+=n*V),y+=38*(O+=n*G),m+=38*(C+=n*Z),b+=38*(U+=n*J),w+=38*(N+=n*X),o=(n=(o+=38*(_+=n*L))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),o+=i-1+37*(i-1),e[0]=o,e[1]=s,e[2]=a,e[3]=u,e[4]=c,e[5]=f,e[6]=l,e[7]=h,e[8]=d,e[9]=p,e[10]=g,e[11]=y,e[12]=m,e[13]=b,e[14]=w,e[15]=v}function D(e,t){j(e,t,t)}function q(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)D(i,i),2!==n&&4!==n&&j(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function K(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)D(i,i),1!==n&&j(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function H(e,r,n){var i,o,s=new Uint8Array(32),a=new Float64Array(80),c=t(),f=t(),l=t(),h=t(),d=t(),p=t();for(o=0;o<31;o++)s[o]=r[o];for(s[31]=127&r[31]|64,s[0]&=248,R(a,n),o=0;o<16;o++)f[o]=a[o],h[o]=c[o]=l[o]=0;for(c[0]=h[0]=1,o=254;o>=0;--o)O(c,f,i=s[o>>>3]>>>(7&o)&1),O(l,h,i),L(d,c,l),z(c,c,l),L(l,f,h),z(f,f,h),D(h,d),D(p,c),j(c,l,c),j(l,f,d),L(d,c,l),z(c,c,l),D(f,c),z(l,h,p),j(c,l,u),L(c,c,h),j(l,l,c),j(c,h,p),j(h,f,a),D(f,d),O(c,f,i),O(l,h,i);for(o=0;o<16;o++)a[o+16]=c[o],a[o+32]=l[o],a[o+48]=f[o],a[o+64]=h[o];var g=a.subarray(32),y=a.subarray(16);return q(g,g),j(y,y,g),C(e,y),0}function F(e,t){return H(e,t,o)}function W(e,t){return n(t,32),F(e,t)}function $(e,t,r){var n=new Uint8Array(32);return H(n,r,t),w(e,i,n,v)}x.prototype.blocks=function(e,t,r){for(var n,i,o,s,a,u,c,f,l,h,d,p,g,y,m,b,w,v,_,S=this.fin?0:2048,E=this.h[0],A=this.h[1],x=this.h[2],k=this.h[3],T=this.h[4],I=this.h[5],M=this.h[6],P=this.h[7],B=this.h[8],O=this.h[9],C=this.r[0],U=this.r[1],N=this.r[2],R=this.r[3],L=this.r[4],z=this.r[5],j=this.r[6],D=this.r[7],q=this.r[8],K=this.r[9];r>=16;)h=l=0,h+=(E+=8191&(n=255&e[t+0]|(255&e[t+1])<<8))*C,h+=(A+=8191&(n>>>13|(i=255&e[t+2]|(255&e[t+3])<<8)<<3))*(5*K),h+=(x+=8191&(i>>>10|(o=255&e[t+4]|(255&e[t+5])<<8)<<6))*(5*q),h+=(k+=8191&(o>>>7|(s=255&e[t+6]|(255&e[t+7])<<8)<<9))*(5*D),l=(h+=(T+=8191&(s>>>4|(a=255&e[t+8]|(255&e[t+9])<<8)<<12))*(5*j))>>>13,h&=8191,h+=(I+=a>>>1&8191)*(5*z),h+=(M+=8191&(a>>>14|(u=255&e[t+10]|(255&e[t+11])<<8)<<2))*(5*L),h+=(P+=8191&(u>>>11|(c=255&e[t+12]|(255&e[t+13])<<8)<<5))*(5*R),h+=(B+=8191&(c>>>8|(f=255&e[t+14]|(255&e[t+15])<<8)<<8))*(5*N),d=l+=(h+=(O+=f>>>5|S)*(5*U))>>>13,d+=E*U,d+=A*C,d+=x*(5*K),d+=k*(5*q),l=(d+=T*(5*D))>>>13,d&=8191,d+=I*(5*j),d+=M*(5*z),d+=P*(5*L),d+=B*(5*R),l+=(d+=O*(5*N))>>>13,d&=8191,p=l,p+=E*N,p+=A*U,p+=x*C,p+=k*(5*K),l=(p+=T*(5*q))>>>13,p&=8191,p+=I*(5*D),p+=M*(5*j),p+=P*(5*z),p+=B*(5*L),g=l+=(p+=O*(5*R))>>>13,g+=E*R,g+=A*N,g+=x*U,g+=k*C,l=(g+=T*(5*K))>>>13,g&=8191,g+=I*(5*q),g+=M*(5*D),g+=P*(5*j),g+=B*(5*z),y=l+=(g+=O*(5*L))>>>13,y+=E*L,y+=A*R,y+=x*N,y+=k*U,l=(y+=T*C)>>>13,y&=8191,y+=I*(5*K),y+=M*(5*q),y+=P*(5*D),y+=B*(5*j),m=l+=(y+=O*(5*z))>>>13,m+=E*z,m+=A*L,m+=x*R,m+=k*N,l=(m+=T*U)>>>13,m&=8191,m+=I*C,m+=M*(5*K),m+=P*(5*q),m+=B*(5*D),b=l+=(m+=O*(5*j))>>>13,b+=E*j,b+=A*z,b+=x*L,b+=k*R,l=(b+=T*N)>>>13,b&=8191,b+=I*U,b+=M*C,b+=P*(5*K),b+=B*(5*q),w=l+=(b+=O*(5*D))>>>13,w+=E*D,w+=A*j,w+=x*z,w+=k*L,l=(w+=T*R)>>>13,w&=8191,w+=I*N,w+=M*U,w+=P*C,w+=B*(5*K),v=l+=(w+=O*(5*q))>>>13,v+=E*q,v+=A*D,v+=x*j,v+=k*z,l=(v+=T*L)>>>13,v&=8191,v+=I*R,v+=M*N,v+=P*U,v+=B*C,_=l+=(v+=O*(5*K))>>>13,_+=E*K,_+=A*q,_+=x*D,_+=k*j,l=(_+=T*z)>>>13,_&=8191,_+=I*L,_+=M*R,_+=P*N,_+=B*U,E=h=8191&(l=(l=((l+=(_+=O*C)>>>13)<<2)+l|0)+(h&=8191)|0),A=d+=l>>>=13,x=p&=8191,k=g&=8191,T=y&=8191,I=m&=8191,M=b&=8191,P=w&=8191,B=v&=8191,O=_&=8191,t+=16,r-=16;this.h[0]=E,this.h[1]=A,this.h[2]=x,this.h[3]=k,this.h[4]=T,this.h[5]=I,this.h[6]=M,this.h[7]=P,this.h[8]=B,this.h[9]=O},x.prototype.finish=function(e,t){var r,n,i,o,s=new Uint16Array(10);if(this.leftover){for(o=this.leftover,this.buffer[o++]=1;o<16;o++)this.buffer[o]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(r=this.h[1]>>>13,this.h[1]&=8191,o=2;o<10;o++)this.h[o]+=r,r=this.h[o]>>>13,this.h[o]&=8191;for(this.h[0]+=5*r,r=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=r,r=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=r,s[0]=this.h[0]+5,r=s[0]>>>13,s[0]&=8191,o=1;o<10;o++)s[o]=this.h[o]+r,r=s[o]>>>13,s[o]&=8191;for(s[9]-=8192,n=(1^r)-1,o=0;o<10;o++)s[o]&=n;for(n=~n,o=0;o<10;o++)this.h[o]=this.h[o]&n|s[o];for(this.h[0]=65535&(this.h[0]|this.h[1]<<13),this.h[1]=65535&(this.h[1]>>>3|this.h[2]<<10),this.h[2]=65535&(this.h[2]>>>6|this.h[3]<<7),this.h[3]=65535&(this.h[3]>>>9|this.h[4]<<4),this.h[4]=65535&(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14),this.h[5]=65535&(this.h[6]>>>2|this.h[7]<<11),this.h[6]=65535&(this.h[7]>>>5|this.h[8]<<8),this.h[7]=65535&(this.h[8]>>>8|this.h[9]<<5),i=this.h[0]+this.pad[0],this.h[0]=65535&i,o=1;o<8;o++)i=(this.h[o]+this.pad[o]|0)+(i>>>16)|0,this.h[o]=65535&i;e[t+0]=this.h[0]>>>0&255,e[t+1]=this.h[0]>>>8&255,e[t+2]=this.h[1]>>>0&255,e[t+3]=this.h[1]>>>8&255,e[t+4]=this.h[2]>>>0&255,e[t+5]=this.h[2]>>>8&255,e[t+6]=this.h[3]>>>0&255,e[t+7]=this.h[3]>>>8&255,e[t+8]=this.h[4]>>>0&255,e[t+9]=this.h[4]>>>8&255,e[t+10]=this.h[5]>>>0&255,e[t+11]=this.h[5]>>>8&255,e[t+12]=this.h[6]>>>0&255,e[t+13]=this.h[6]>>>8&255,e[t+14]=this.h[7]>>>0&255,e[t+15]=this.h[7]>>>8&255},x.prototype.update=function(e,t,r){var n,i;if(this.leftover){for((i=16-this.leftover)>r&&(i=r),n=0;n<i;n++)this.buffer[this.leftover+n]=e[t+n];if(r-=i,t+=i,this.leftover+=i,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(r>=16&&(i=r-r%16,this.blocks(e,t,i),t+=i,r-=i),r){for(n=0;n<r;n++)this.buffer[this.leftover+n]=e[t+n];this.leftover+=r}};var V=I,G=M;var Z=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function J(e,t,r,n){for(var i,o,s,a,u,c,f,l,h,d,p,g,y,m,b,w,v,_,S,E,A,x,k,T,I,M,P=new Int32Array(16),B=new Int32Array(16),O=e[0],C=e[1],U=e[2],N=e[3],R=e[4],L=e[5],z=e[6],j=e[7],D=t[0],q=t[1],K=t[2],H=t[3],F=t[4],W=t[5],$=t[6],V=t[7],G=0;n>=128;){for(S=0;S<16;S++)E=8*S+G,P[S]=r[E+0]<<24|r[E+1]<<16|r[E+2]<<8|r[E+3],B[S]=r[E+4]<<24|r[E+5]<<16|r[E+6]<<8|r[E+7];for(S=0;S<80;S++)if(i=O,o=C,s=U,a=N,u=R,c=L,f=z,j,h=D,d=q,p=K,g=H,y=F,m=W,b=$,V,k=65535&(x=V),T=x>>>16,I=65535&(A=j),M=A>>>16,k+=65535&(x=(F>>>14|R<<18)^(F>>>18|R<<14)^(R>>>9|F<<23)),T+=x>>>16,I+=65535&(A=(R>>>14|F<<18)^(R>>>18|F<<14)^(F>>>9|R<<23)),M+=A>>>16,k+=65535&(x=F&W^~F&$),T+=x>>>16,I+=65535&(A=R&L^~R&z),M+=A>>>16,k+=65535&(x=Z[2*S+1]),T+=x>>>16,I+=65535&(A=Z[2*S]),M+=A>>>16,A=P[S%16],T+=(x=B[S%16])>>>16,I+=65535&A,M+=A>>>16,I+=(T+=(k+=65535&x)>>>16)>>>16,k=65535&(x=_=65535&k|T<<16),T=x>>>16,I=65535&(A=v=65535&I|(M+=I>>>16)<<16),M=A>>>16,k+=65535&(x=(D>>>28|O<<4)^(O>>>2|D<<30)^(O>>>7|D<<25)),T+=x>>>16,I+=65535&(A=(O>>>28|D<<4)^(D>>>2|O<<30)^(D>>>7|O<<25)),M+=A>>>16,T+=(x=D&q^D&K^q&K)>>>16,I+=65535&(A=O&C^O&U^C&U),M+=A>>>16,l=65535&(I+=(T+=(k+=65535&x)>>>16)>>>16)|(M+=I>>>16)<<16,w=65535&k|T<<16,k=65535&(x=g),T=x>>>16,I=65535&(A=a),M=A>>>16,T+=(x=_)>>>16,I+=65535&(A=v),M+=A>>>16,C=i,U=o,N=s,R=a=65535&(I+=(T+=(k+=65535&x)>>>16)>>>16)|(M+=I>>>16)<<16,L=u,z=c,j=f,O=l,q=h,K=d,H=p,F=g=65535&k|T<<16,W=y,$=m,V=b,D=w,S%16===15)for(E=0;E<16;E++)A=P[E],k=65535&(x=B[E]),T=x>>>16,I=65535&A,M=A>>>16,A=P[(E+9)%16],k+=65535&(x=B[(E+9)%16]),T+=x>>>16,I+=65535&A,M+=A>>>16,v=P[(E+1)%16],k+=65535&(x=((_=B[(E+1)%16])>>>1|v<<31)^(_>>>8|v<<24)^(_>>>7|v<<25)),T+=x>>>16,I+=65535&(A=(v>>>1|_<<31)^(v>>>8|_<<24)^v>>>7),M+=A>>>16,v=P[(E+14)%16],T+=(x=((_=B[(E+14)%16])>>>19|v<<13)^(v>>>29|_<<3)^(_>>>6|v<<26))>>>16,I+=65535&(A=(v>>>19|_<<13)^(_>>>29|v<<3)^v>>>6),M+=A>>>16,M+=(I+=(T+=(k+=65535&x)>>>16)>>>16)>>>16,P[E]=65535&I|M<<16,B[E]=65535&k|T<<16;k=65535&(x=D),T=x>>>16,I=65535&(A=O),M=A>>>16,A=e[0],T+=(x=t[0])>>>16,I+=65535&A,M+=A>>>16,M+=(I+=(T+=(k+=65535&x)>>>16)>>>16)>>>16,e[0]=O=65535&I|M<<16,t[0]=D=65535&k|T<<16,k=65535&(x=q),T=x>>>16,I=65535&(A=C),M=A>>>16,A=e[1],T+=(x=t[1])>>>16,I+=65535&A,M+=A>>>16,M+=(I+=(T+=(k+=65535&x)>>>16)>>>16)>>>16,e[1]=C=65535&I|M<<16,t[1]=q=65535&k|T<<16,k=65535&(x=K),T=x>>>16,I=65535&(A=U),M=A>>>16,A=e[2],T+=(x=t[2])>>>16,I+=65535&A,M+=A>>>16,M+=(I+=(T+=(k+=65535&x)>>>16)>>>16)>>>16,e[2]=U=65535&I|M<<16,t[2]=K=65535&k|T<<16,k=65535&(x=H),T=x>>>16,I=65535&(A=N),M=A>>>16,A=e[3],T+=(x=t[3])>>>16,I+=65535&A,M+=A>>>16,M+=(I+=(T+=(k+=65535&x)>>>16)>>>16)>>>16,e[3]=N=65535&I|M<<16,t[3]=H=65535&k|T<<16,k=65535&(x=F),T=x>>>16,I=65535&(A=R),M=A>>>16,A=e[4],T+=(x=t[4])>>>16,I+=65535&A,M+=A>>>16,M+=(I+=(T+=(k+=65535&x)>>>16)>>>16)>>>16,e[4]=R=65535&I|M<<16,t[4]=F=65535&k|T<<16,k=65535&(x=W),T=x>>>16,I=65535&(A=L),M=A>>>16,A=e[5],T+=(x=t[5])>>>16,I+=65535&A,M+=A>>>16,M+=(I+=(T+=(k+=65535&x)>>>16)>>>16)>>>16,e[5]=L=65535&I|M<<16,t[5]=W=65535&k|T<<16,k=65535&(x=$),T=x>>>16,I=65535&(A=z),M=A>>>16,A=e[6],T+=(x=t[6])>>>16,I+=65535&A,M+=A>>>16,M+=(I+=(T+=(k+=65535&x)>>>16)>>>16)>>>16,e[6]=z=65535&I|M<<16,t[6]=$=65535&k|T<<16,k=65535&(x=V),T=x>>>16,I=65535&(A=j),M=A>>>16,A=e[7],T+=(x=t[7])>>>16,I+=65535&A,M+=A>>>16,M+=(I+=(T+=(k+=65535&x)>>>16)>>>16)>>>16,e[7]=j=65535&I|M<<16,t[7]=V=65535&k|T<<16,G+=128,n-=128}return n}function X(e,t,r){var n,i=new Int32Array(8),o=new Int32Array(8),s=new Uint8Array(256),a=r;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,o[0]=4089235720,o[1]=2227873595,o[2]=4271175723,o[3]=1595750129,o[4]=2917565137,o[5]=725511199,o[6]=4215389547,o[7]=327033209,J(i,o,t,r),r%=128,n=0;n<r;n++)s[n]=t[a-r+n];for(s[r]=128,s[(r=256-128*(r<112?1:0))-9]=0,p(s,r-8,a/536870912|0,a<<3),J(i,o,s,r),n=0;n<8;n++)p(e,8*n,i[n],o[n]);return 0}function Y(e,r){var n=t(),i=t(),o=t(),s=t(),a=t(),u=t(),c=t(),l=t(),h=t();z(n,e[1],e[0]),z(h,r[1],r[0]),j(n,n,h),L(i,e[0],e[1]),L(h,r[0],r[1]),j(i,i,h),j(o,e[3],r[3]),j(o,o,f),j(s,e[2],r[2]),L(s,s,s),z(a,i,n),z(u,s,o),L(c,s,o),L(l,i,n),j(e[0],a,u),j(e[1],l,c),j(e[2],c,u),j(e[3],a,l)}function Q(e,t,r){var n;for(n=0;n<4;n++)O(e[n],t[n],r)}function ee(e,r){var n=t(),i=t(),o=t();q(o,r[2]),j(n,r[0],o),j(i,r[1],o),C(e,i),e[31]^=N(n)<<7}function te(e,t,r){var n,i;for(P(e[0],s),P(e[1],a),P(e[2],a),P(e[3],s),i=255;i>=0;--i)Q(e,t,n=r[i/8|0]>>(7&i)&1),Y(t,e),Y(e,e),Q(e,t,n)}function re(e,r){var n=[t(),t(),t(),t()];P(n[0],l),P(n[1],h),P(n[2],a),j(n[3],l,h),te(e,n,r)}function ne(e,r,i){var o,s=new Uint8Array(64),a=[t(),t(),t(),t()];for(i||n(r,32),X(s,r,32),s[0]&=248,s[31]&=127,s[31]|=64,re(a,s),ee(e,a),o=0;o<32;o++)r[o+32]=e[o];return 0}var ie=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function oe(e,t){var r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)t[i]+=r-16*t[n]*ie[i-(n-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*ie[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*ie[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function se(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;oe(e,r)}function ae(e,r,n,i){var o,s,a=new Uint8Array(64),u=new Uint8Array(64),c=new Uint8Array(64),f=new Float64Array(64),l=[t(),t(),t(),t()];X(a,i,32),a[0]&=248,a[31]&=127,a[31]|=64;var h=n+64;for(o=0;o<n;o++)e[64+o]=r[o];for(o=0;o<32;o++)e[32+o]=a[32+o];for(X(c,e.subarray(32),n+32),se(c),re(l,c),ee(e,l),o=32;o<64;o++)e[o]=i[o];for(X(u,e,n+64),se(u),o=0;o<64;o++)f[o]=0;for(o=0;o<32;o++)f[o]=c[o];for(o=0;o<32;o++)for(s=0;s<32;s++)f[o+s]+=u[o]*a[s];return oe(e.subarray(32),f),h}function ue(e,r,n,i){var o,u=new Uint8Array(32),f=new Uint8Array(64),l=[t(),t(),t(),t()],h=[t(),t(),t(),t()];if(n<64)return-1;if(function(e,r){var n=t(),i=t(),o=t(),u=t(),f=t(),l=t(),h=t();return P(e[2],a),R(e[1],r),D(o,e[1]),j(u,o,c),z(o,o,e[2]),L(u,e[2],u),D(f,u),D(l,f),j(h,l,f),j(n,h,o),j(n,n,u),K(n,n),j(n,n,o),j(n,n,u),j(n,n,u),j(e[0],n,u),D(i,e[0]),j(i,i,u),U(i,o)&&j(e[0],e[0],d),D(i,e[0]),j(i,i,u),U(i,o)?-1:(N(e[0])===r[31]>>7&&z(e[0],s,e[0]),j(e[3],e[0],e[1]),0)}(h,i))return-1;for(o=0;o<n;o++)e[o]=r[o];for(o=0;o<32;o++)e[o+32]=i[o];if(X(f,e,n),se(f),te(l,h,f),re(h,r.subarray(32)),Y(l,h),ee(u,l),n-=64,m(r,0,u,0)){for(o=0;o<n;o++)e[o]=0;return-1}for(o=0;o<n;o++)e[o]=r[o+64];return n}var ce=16,fe=64,le=32,he=64;function de(e,t){if(32!==e.length)throw new Error("bad key size");if(24!==t.length)throw new Error("bad nonce size")}function pe(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function ge(e){for(var t=0;t<e.length;t++)e[t]=0}e.lowlevel={crypto_core_hsalsa20:w,crypto_stream_xor:A,crypto_stream:E,crypto_stream_salsa20_xor:_,crypto_stream_salsa20:S,crypto_onetimeauth:k,crypto_onetimeauth_verify:T,crypto_verify_16:y,crypto_verify_32:m,crypto_secretbox:I,crypto_secretbox_open:M,crypto_scalarmult:H,crypto_scalarmult_base:F,crypto_box_beforenm:$,crypto_box_afternm:V,crypto_box:function(e,t,r,n,i,o){var s=new Uint8Array(32);return $(s,i,o),V(e,t,r,n,s)},crypto_box_open:function(e,t,r,n,i,o){var s=new Uint8Array(32);return $(s,i,o),G(e,t,r,n,s)},crypto_box_keypair:W,crypto_hash:X,crypto_sign:ae,crypto_sign_keypair:ne,crypto_sign_open:ue,crypto_secretbox_KEYBYTES:32,crypto_secretbox_NONCEBYTES:24,crypto_secretbox_ZEROBYTES:32,crypto_secretbox_BOXZEROBYTES:ce,crypto_scalarmult_BYTES:32,crypto_scalarmult_SCALARBYTES:32,crypto_box_PUBLICKEYBYTES:32,crypto_box_SECRETKEYBYTES:32,crypto_box_BEFORENMBYTES:32,crypto_box_NONCEBYTES:24,crypto_box_ZEROBYTES:32,crypto_box_BOXZEROBYTES:16,crypto_sign_BYTES:fe,crypto_sign_PUBLICKEYBYTES:le,crypto_sign_SECRETKEYBYTES:he,crypto_sign_SEEDBYTES:32,crypto_hash_BYTES:64,gf:t,D:c,L:ie,pack25519:C,unpack25519:R,M:j,A:L,S:D,Z:z,pow2523:K,add:Y,set25519:P,modL:oe,scalarmult:te,scalarbase:re},e.randomBytes=function(e){var t=new Uint8Array(e);return n(t,e),t},e.secretbox=function(e,t,r){pe(e,t,r),de(r,t);for(var n=new Uint8Array(32+e.length),i=new Uint8Array(n.length),o=0;o<e.length;o++)n[o+32]=e[o];return I(i,n,n.length,t,r),i.subarray(ce)},e.secretbox.open=function(e,t,r){pe(e,t,r),de(r,t);for(var n=new Uint8Array(ce+e.length),i=new Uint8Array(n.length),o=0;o<e.length;o++)n[o+ce]=e[o];return n.length<32||0!==M(i,n,n.length,t,r)?null:i.subarray(32)},e.secretbox.keyLength=32,e.secretbox.nonceLength=24,e.secretbox.overheadLength=ce,e.scalarMult=function(e,t){if(pe(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var r=new Uint8Array(32);return H(r,e,t),r},e.scalarMult.base=function(e){if(pe(e),32!==e.length)throw new Error("bad n size");var t=new Uint8Array(32);return F(t,e),t},e.scalarMult.scalarLength=32,e.scalarMult.groupElementLength=32,e.box=function(t,r,n,i){var o=e.box.before(n,i);return e.secretbox(t,r,o)},e.box.before=function(e,t){pe(e,t),function(e,t){if(32!==e.length)throw new Error("bad public key size");if(32!==t.length)throw new Error("bad secret key size")}(e,t);var r=new Uint8Array(32);return $(r,e,t),r},e.box.after=e.secretbox,e.box.open=function(t,r,n,i){var o=e.box.before(n,i);return e.secretbox.open(t,r,o)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(32);return W(e,t),{publicKey:e,secretKey:t}},e.box.keyPair.fromSecretKey=function(e){if(pe(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return F(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.box.publicKeyLength=32,e.box.secretKeyLength=32,e.box.sharedKeyLength=32,e.box.nonceLength=24,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(e,t){if(pe(e,t),t.length!==he)throw new Error("bad secret key size");var r=new Uint8Array(fe+e.length);return ae(r,e,e.length,t),r},e.sign.open=function(e,t){if(pe(e,t),t.length!==le)throw new Error("bad public key size");var r=new Uint8Array(e.length),n=ue(r,e,e.length,t);if(n<0)return null;for(var i=new Uint8Array(n),o=0;o<i.length;o++)i[o]=r[o];return i},e.sign.detached=function(t,r){for(var n=e.sign(t,r),i=new Uint8Array(fe),o=0;o<i.length;o++)i[o]=n[o];return i},e.sign.detached.verify=function(e,t,r){if(pe(e,t,r),t.length!==fe)throw new Error("bad signature size");if(r.length!==le)throw new Error("bad public key size");var n,i=new Uint8Array(fe+e.length),o=new Uint8Array(fe+e.length);for(n=0;n<fe;n++)i[n]=t[n];for(n=0;n<e.length;n++)i[n+fe]=e[n];return ue(o,i,i.length,r)>=0},e.sign.keyPair=function(){var e=new Uint8Array(le),t=new Uint8Array(he);return ne(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(pe(e),e.length!==he)throw new Error("bad secret key size");for(var t=new Uint8Array(le),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(pe(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(le),r=new Uint8Array(he),n=0;n<32;n++)r[n]=e[n];return ne(t,r,!0),{publicKey:t,secretKey:r}},e.sign.publicKeyLength=le,e.sign.secretKeyLength=he,e.sign.seedLength=32,e.sign.signatureLength=fe,e.hash=function(e){pe(e);var t=new Uint8Array(64);return X(t,e,e.length),t},e.hash.hashLength=64,e.verify=function(e,t){return pe(e,t),0!==e.length&&0!==t.length&&(e.length===t.length&&0===g(e,0,t,0,e.length))},e.setPRNG=function(e){n=e},function(){var t="undefined"!==typeof self?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){e.setPRNG((function(e,r){var n,i=new Uint8Array(r);for(n=0;n<r;n+=65536)t.getRandomValues(i.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)e[n]=i[n];ge(i)}))}else(t=r("IIa+"))&&t.randomBytes&&e.setPRNG((function(e,r){var n,i=t.randomBytes(r);for(n=0;n<r;n++)e[n]=i[n];ge(i)}))}()}(e.exports?e.exports:self.nacl=self.nacl||{})},"2Vcb":(e,t,r)=>{var n=r("ikLn");function i(e){return e.name||e.toString().match(/function (.*?)\s*\(/)[1]}function o(e){return n.Nil(e)?"":i(e.constructor)}function s(e,t){Error.captureStackTrace&&Error.captureStackTrace(e,t)}function a(e){return n.Function(e)?e.toJSON?e.toJSON():i(e):n.Array(e)?"Array":e&&n.Object(e)?"Object":void 0!==e?e:""}function u(e,t,r){var i=function(e){return n.Function(e)?"":n.String(e)?JSON.stringify(e):e&&n.Object(e)?"":e}(t);return"Expected "+a(e)+", got"+(""!==r?" "+r:"")+(""!==i?" "+i:"")}function c(e,t,r){r=r||o(t),this.message=u(e,t,r),s(this,c),this.__type=e,this.__value=t,this.__valueTypeName=r}function f(e,t,r,n,i){e?(i=i||o(n),this.message=function(e,t,r,n,i){var o='" of type ';return"key"===t&&(o='" with key type '),u('property "'+a(r)+o+a(e),n,i)}(e,r,t,n,i)):this.message='Unexpected property "'+t+'"',s(this,c),this.__label=r,this.__property=t,this.__type=e,this.__value=n,this.__valueTypeName=i}c.prototype=Object.create(Error.prototype),c.prototype.constructor=c,f.prototype=Object.create(Error.prototype),f.prototype.constructor=c,e.exports={TfTypeError:c,TfPropertyTypeError:f,tfCustomError:function(e,t){return new c(e,{},t)},tfSubError:function(e,t,r){return e instanceof f?(t=t+"."+e.__property,e=new f(e.__type,t,e.__label,e.__value,e.__valueTypeName)):e instanceof c&&(e=new f(e.__type,t,r,e.__value,e.__valueTypeName)),s(e),e},tfJSON:a,getValueTypeName:o}},AZ2X:(e,t,r)=>{var n=r("Dp+g").Buffer,i=r("ikLn"),o=r("2Vcb");function s(e){return n.isBuffer(e)}function a(e){return"string"===typeof e&&/^([0-9a-f]{2})+$/i.test(e)}function u(e,t){var r=e.toJSON();function n(n){if(!e(n))return!1;if(n.length===t)return!0;throw o.tfCustomError(r+"(Length: "+t+")",r+"(Length: "+n.length+")")}return n.toJSON=function(){return r},n}var c=u.bind(null,i.Array),f=u.bind(null,s),l=u.bind(null,a),h=u.bind(null,i.String);var d=Math.pow(2,53)-1;var p={ArrayN:c,Buffer:s,BufferN:f,Finite:function(e){return"number"===typeof e&&isFinite(e)},Hex:a,HexN:l,Int8:function(e){return e<<24>>24===e},Int16:function(e){return e<<16>>16===e},Int32:function(e){return(0|e)===e},Int53:function(e){return"number"===typeof e&&e>=-d&&e<=d&&Math.floor(e)===e},Range:function(e,t,r){function n(n,i){return r(n,i)&&n>e&&n<t}return r=r||i.Number,n.toJSON=function(){return`${r.toJSON()} between [${e}, ${t}]`},n},StringN:h,UInt8:function(e){return(255&e)===e},UInt16:function(e){return(65535&e)===e},UInt32:function(e){return e>>>0===e},UInt53:function(e){return"number"===typeof e&&e>=0&&e<=d&&Math.floor(e)===e}};for(var g in p)p[g].toJSON=function(e){return e}.bind(null,g);e.exports=p},MAwK:(e,t,r)=>{var n=r("2Vcb"),i=r("ikLn"),o=n.tfJSON,s=n.TfTypeError,a=n.TfPropertyTypeError,u=n.tfSubError,c=n.getValueTypeName,f={arrayOf:function(e,t){function r(r,n){return!!i.Array(r)&&(!i.Nil(r)&&(!(void 0!==t.minLength&&r.length<t.minLength)&&(!(void 0!==t.maxLength&&r.length>t.maxLength)&&((void 0===t.length||r.length===t.length)&&r.every((function(t,r){try{return h(e,t,n)}catch(i){throw u(i,r)}}))))))}return e=l(e),t=t||{},r.toJSON=function(){var r="["+o(e)+"]";return void 0!==t.length?r+="{"+t.length+"}":void 0===t.minLength&&void 0===t.maxLength||(r+="{"+(void 0===t.minLength?0:t.minLength)+","+(void 0===t.maxLength?1/0:t.maxLength)+"}"),r},r},maybe:function e(t){function r(r,n){return i.Nil(r)||t(r,n,e)}return t=l(t),r.toJSON=function(){return"?"+o(t)},r},map:function(e,t){function r(r,n){if(!i.Object(r))return!1;if(i.Nil(r))return!1;for(var o in r){try{t&&h(t,o,n)}catch(a){throw u(a,o,"key")}try{var s=r[o];h(e,s,n)}catch(a){throw u(a,o)}}return!0}return e=l(e),t&&(t=l(t)),r.toJSON=t?function(){return"{"+o(t)+": "+o(e)+"}"}:function(){return"{"+o(e)+"}"},r},object:function(e){var t={};for(var r in e)t[r]=l(e[r]);function n(e,r){if(!i.Object(e))return!1;if(i.Nil(e))return!1;var n;try{for(n in t){h(t[n],e[n],r)}}catch(o){throw u(o,n)}if(r)for(n in e)if(!t[n])throw new a(void 0,n);return!0}return n.toJSON=function(){return o(t)},n},anyOf:function(){var e=[].slice.call(arguments).map(l);function t(t,r){return e.some((function(e){try{return h(e,t,r)}catch(n){return!1}}))}return t.toJSON=function(){return e.map(o).join("|")},t},allOf:function(){var e=[].slice.call(arguments).map(l);function t(t,r){return e.every((function(e){try{return h(e,t,r)}catch(n){return!1}}))}return t.toJSON=function(){return e.map(o).join(" & ")},t},quacksLike:function(e){function t(t){return e===c(t)}return t.toJSON=function(){return e},t},tuple:function(){var e=[].slice.call(arguments).map(l);function t(t,r){return!i.Nil(t)&&(!i.Nil(t.length)&&((!r||t.length===e.length)&&e.every((function(e,n){try{return h(e,t[n],r)}catch(i){throw u(i,n)}}))))}return t.toJSON=function(){return"("+e.map(o).join(", ")+")"},t},value:function(e){function t(t){return t===e}return t.toJSON=function(){return e},t}};function l(e){if(i.String(e))return"?"===e[0]?f.maybe(e.slice(1)):i[e]||f.quacksLike(e);if(e&&i.Object(e)){if(i.Array(e)){if(1!==e.length)throw new TypeError("Expected compile() parameter of type Array of length 1");return f.arrayOf(e[0])}return f.object(e)}return i.Function(e)?e:f.value(e)}function h(e,t,r,n){if(i.Function(e)){if(e(t,r))return!0;throw new s(n||e,t)}return h(l(e),t,r)}for(var d in f.oneOf=f.anyOf,i)h[d]=i[d];for(d in f)h[d]=f[d];var p=r("AZ2X");for(d in p)h[d]=p[d];h.compile=l,h.TfTypeError=s,h.TfPropertyTypeError=a,e.exports=h},ikLn:e=>{var t={Array:function(e){return null!==e&&void 0!==e&&e.constructor===Array},Boolean:function(e){return"boolean"===typeof e},Function:function(e){return"function"===typeof e},Nil:function(e){return void 0===e||null===e},Number:function(e){return"number"===typeof e},Object:function(e){return"object"===typeof e},String:function(e){return"string"===typeof e},"":function(){return!0}};for(var r in t.Null=t.Nil,t)t[r].toJSON=function(e){return e}.bind(null,r);e.exports=t},VKyk:(e,t,r)=>{function n(e){try{if(!r.g.localStorage)return!1}catch(n){return!1}var t=r.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,t){if(n("noDeprecation"))return e;var r=!1;return function(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}}},h7fx:e=>{e.exports=function(e){return e&&"object"===typeof e&&"function"===typeof e.copy&&"function"===typeof e.fill&&"function"===typeof e.readUInt8}},sOhV:(e,t,r)=>{"use strict";var n=r("pZgO"),i=r("Xcey"),o=r("urtZ"),s=r("xFOQ");function a(e){return e.call.bind(e)}var u="undefined"!==typeof BigInt,c="undefined"!==typeof Symbol,f=a(Object.prototype.toString),l=a(Number.prototype.valueOf),h=a(String.prototype.valueOf),d=a(Boolean.prototype.valueOf);if(u)var p=a(BigInt.prototype.valueOf);if(c)var g=a(Symbol.prototype.valueOf);function y(e,t){if("object"!==typeof e)return!1;try{return t(e),!0}catch(r){return!1}}function m(e){return"[object Map]"===f(e)}function b(e){return"[object Set]"===f(e)}function w(e){return"[object WeakMap]"===f(e)}function v(e){return"[object WeakSet]"===f(e)}function _(e){return"[object ArrayBuffer]"===f(e)}function S(e){return"undefined"!==typeof ArrayBuffer&&(_.working?_(e):e instanceof ArrayBuffer)}function E(e){return"[object DataView]"===f(e)}function A(e){return"undefined"!==typeof DataView&&(E.working?E(e):e instanceof DataView)}t.isArgumentsObject=n,t.isGeneratorFunction=i,t.isTypedArray=s,t.isPromise=function(e){return"undefined"!==typeof Promise&&e instanceof Promise||null!==e&&"object"===typeof e&&"function"===typeof e.then&&"function"===typeof e.catch},t.isArrayBufferView=function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):s(e)||A(e)},t.isUint8Array=function(e){return"Uint8Array"===o(e)},t.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===o(e)},t.isUint16Array=function(e){return"Uint16Array"===o(e)},t.isUint32Array=function(e){return"Uint32Array"===o(e)},t.isInt8Array=function(e){return"Int8Array"===o(e)},t.isInt16Array=function(e){return"Int16Array"===o(e)},t.isInt32Array=function(e){return"Int32Array"===o(e)},t.isFloat32Array=function(e){return"Float32Array"===o(e)},t.isFloat64Array=function(e){return"Float64Array"===o(e)},t.isBigInt64Array=function(e){return"BigInt64Array"===o(e)},t.isBigUint64Array=function(e){return"BigUint64Array"===o(e)},m.working="undefined"!==typeof Map&&m(new Map),t.isMap=function(e){return"undefined"!==typeof Map&&(m.working?m(e):e instanceof Map)},b.working="undefined"!==typeof Set&&b(new Set),t.isSet=function(e){return"undefined"!==typeof Set&&(b.working?b(e):e instanceof Set)},w.working="undefined"!==typeof WeakMap&&w(new WeakMap),t.isWeakMap=function(e){return"undefined"!==typeof WeakMap&&(w.working?w(e):e instanceof WeakMap)},v.working="undefined"!==typeof WeakSet&&v(new WeakSet),t.isWeakSet=function(e){return v(e)},_.working="undefined"!==typeof ArrayBuffer&&_(new ArrayBuffer),t.isArrayBuffer=S,E.working="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof DataView&&E(new DataView(new ArrayBuffer(1),0,1)),t.isDataView=A;var x="undefined"!==typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function k(e){return"[object SharedArrayBuffer]"===f(e)}function T(e){return"undefined"!==typeof x&&("undefined"===typeof k.working&&(k.working=k(new x)),k.working?k(e):e instanceof x)}function I(e){return y(e,l)}function M(e){return y(e,h)}function P(e){return y(e,d)}function B(e){return u&&y(e,p)}function O(e){return c&&y(e,g)}t.isSharedArrayBuffer=T,t.isAsyncFunction=function(e){return"[object AsyncFunction]"===f(e)},t.isMapIterator=function(e){return"[object Map Iterator]"===f(e)},t.isSetIterator=function(e){return"[object Set Iterator]"===f(e)},t.isGeneratorObject=function(e){return"[object Generator]"===f(e)},t.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===f(e)},t.isNumberObject=I,t.isStringObject=M,t.isBooleanObject=P,t.isBigIntObject=B,t.isSymbolObject=O,t.isBoxedPrimitive=function(e){return I(e)||M(e)||P(e)||B(e)||O(e)},t.isAnyArrayBuffer=function(e){return"undefined"!==typeof Uint8Array&&(S(e)||T(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach((function(e){Object.defineProperty(t,e,{enumerable:!1,value:function(){throw new Error(e+" is not supported in userland")}})}))},O3Aa:(e,t,r)=>{var n=r("E0jC"),i=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},o=/%[sdj%]/g;t.format=function(e){if(!w(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(c(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,s=String(e).replace(o,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(t){return"[Circular]"}default:return e}})),a=n[r];r<i;a=n[++r])m(a)||!S(a)?s+=" "+a:s+=" "+c(a);return s},t.deprecate=function(e,r){if("undefined"!==typeof n&&!0===n.noDeprecation)return e;if("undefined"===typeof n)return function(){return t.deprecate(e,r).apply(this,arguments)};var i=!1;return function(){if(!i){if(n.throwDeprecation)throw new Error(r);n.traceDeprecation?console.trace(r):console.error(r),i=!0}return e.apply(this,arguments)}};var s={},a=/^$/;if("{}".NODE_DEBUG){var u="{}".NODE_DEBUG;u=u.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+u+"$","i")}function c(e,r){var n={seen:[],stylize:l};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),y(r)?n.showHidden=r:r&&t._extend(n,r),v(n.showHidden)&&(n.showHidden=!1),v(n.depth)&&(n.depth=2),v(n.colors)&&(n.colors=!1),v(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=f),h(n,e,n.depth)}function f(e,t){var r=c.styles[t];return r?"\x1b["+c.colors[r][0]+"m"+e+"\x1b["+c.colors[r][1]+"m":e}function l(e,t){return e}function h(e,r,n){if(e.customInspect&&r&&x(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var i=r.inspect(n,e);return w(i)||(i=h(e,i,n)),i}var o=function(e,t){if(v(t))return e.stylize("undefined","undefined");if(w(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(b(t))return e.stylize(""+t,"number");if(y(t))return e.stylize(""+t,"boolean");if(m(t))return e.stylize("null","null")}(e,r);if(o)return o;var s=Object.keys(r),a=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(r)),A(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return d(r);if(0===s.length){if(x(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(_(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(E(r))return e.stylize(Date.prototype.toString.call(r),"date");if(A(r))return d(r)}var c,f="",l=!1,S=["{","}"];(g(r)&&(l=!0,S=["[","]"]),x(r))&&(f=" [Function"+(r.name?": "+r.name:"")+"]");return _(r)&&(f=" "+RegExp.prototype.toString.call(r)),E(r)&&(f=" "+Date.prototype.toUTCString.call(r)),A(r)&&(f=" "+d(r)),0!==s.length||l&&0!=r.length?n<0?_(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),c=l?function(e,t,r,n,i){for(var o=[],s=0,a=t.length;s<a;++s)M(t,String(s))?o.push(p(e,t,r,n,String(s),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(p(e,t,r,n,i,!0))})),o}(e,r,n,a,s):s.map((function(t){return p(e,r,n,a,t,l)})),e.seen.pop(),function(e,t,r){var n=e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(n>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(c,f,S)):S[0]+f+S[1]}function d(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,r,n,i,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),M(n,i)||(s="["+i+"]"),a||(e.seen.indexOf(u.value)<0?(a=m(r)?h(e,u.value,null):h(e,u.value,r-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map((function(e){return"  "+e})).join("\n").slice(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),v(s)){if(o&&i.match(/^\d+$/))return a;(s=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.slice(1,-1),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function g(e){return Array.isArray(e)}function y(e){return"boolean"===typeof e}function m(e){return null===e}function b(e){return"number"===typeof e}function w(e){return"string"===typeof e}function v(e){return void 0===e}function _(e){return S(e)&&"[object RegExp]"===k(e)}function S(e){return"object"===typeof e&&null!==e}function E(e){return S(e)&&"[object Date]"===k(e)}function A(e){return S(e)&&("[object Error]"===k(e)||e instanceof Error)}function x(e){return"function"===typeof e}function k(e){return Object.prototype.toString.call(e)}function T(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(e=e.toUpperCase(),!s[e])if(a.test(e)){var r=n.pid;s[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else s[e]=function(){};return s[e]},t.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.types=r("sOhV"),t.isArray=g,t.isBoolean=y,t.isNull=m,t.isNullOrUndefined=function(e){return null==e},t.isNumber=b,t.isString=w,t.isSymbol=function(e){return"symbol"===typeof e},t.isUndefined=v,t.isRegExp=_,t.types.isRegExp=_,t.isObject=S,t.isDate=E,t.types.isDate=E,t.isError=A,t.types.isNativeError=A,t.isFunction=x,t.isPrimitive=function(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e},t.isBuffer=r("h7fx");var I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function M(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",function(){var e=new Date,t=[T(e.getHours()),T(e.getMinutes()),T(e.getSeconds())].join(":");return[e.getDate(),I[e.getMonth()],t].join(" ")}(),t.format.apply(t,arguments))},t.inherits=r("f9x7"),t._extend=function(e,t){if(!t||!S(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var P="undefined"!==typeof Symbol?Symbol("util.promisify.custom"):void 0;function B(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');if(P&&e[P]){var t;if("function"!==typeof(t=e[P]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,P,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);i.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,i)}catch(s){r(s)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),P&&Object.defineProperty(t,P,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,i(e))},t.promisify.custom=P,t.callbackify=function(e){if("function"!==typeof e)throw new TypeError('The "original" argument must be of type Function');function t(){for(var t=[],r=0;r<arguments.length;r++)t.push(arguments[r]);var i=t.pop();if("function"!==typeof i)throw new TypeError("The last argument must be of type Function");var o=this,s=function(){return i.apply(o,arguments)};e.apply(this,t).then((function(e){n.nextTick(s.bind(null,null,e))}),(function(e){n.nextTick(B.bind(null,e,s))}))}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),Object.defineProperties(t,i(e)),t}},"1tl4":(e,t,r)=>{"use strict";var n;r.d(t,{v4:()=>l});var i=new Uint8Array(16);function o(){if(!n&&!(n="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(i)}const s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const a=function(e){return"string"===typeof e&&s.test(e)};for(var u=[],c=0;c<256;++c)u.push((c+256).toString(16).substr(1));const f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(u[e[t+0]]+u[e[t+1]]+u[e[t+2]]+u[e[t+3]]+"-"+u[e[t+4]]+u[e[t+5]]+"-"+u[e[t+6]]+u[e[t+7]]+"-"+u[e[t+8]]+u[e[t+9]]+"-"+u[e[t+10]]+u[e[t+11]]+u[e[t+12]]+u[e[t+13]]+u[e[t+14]]+u[e[t+15]]).toLowerCase();if(!a(r))throw TypeError("Stringified UUID is invalid");return r};const l=function(e,t,r){var n=(e=e||{}).random||(e.rng||o)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return f(n)}},"+Jr0":(e,t,r)=>{"use strict";var n=r("vhZ9").Buffer;function i(e){if(e<0||e>9007199254740991||e%1!==0)throw new RangeError("value out of range")}function o(e){return i(e),e<253?1:e<=65535?3:e<=4294967295?5:9}e.exports={encode:function e(t,r,s){if(i(t),r||(r=n.allocUnsafe(o(t))),!n.isBuffer(r))throw new TypeError("buffer must be a Buffer instance");return s||(s=0),t<253?(r.writeUInt8(t,s),e.bytes=1):t<=65535?(r.writeUInt8(253,s),r.writeUInt16LE(t,s+1),e.bytes=3):t<=4294967295?(r.writeUInt8(254,s),r.writeUInt32LE(t,s+1),e.bytes=5):(r.writeUInt8(255,s),r.writeUInt32LE(t>>>0,s+1),r.writeUInt32LE(t/4294967296|0,s+5),e.bytes=9),r},decode:function e(t,r){if(!n.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");r||(r=0);var o=t.readUInt8(r);if(o<253)return e.bytes=1,o;if(253===o)return e.bytes=3,t.readUInt16LE(r+1);if(254===o)return e.bytes=5,t.readUInt32LE(r+1);e.bytes=9;var s=t.readUInt32LE(r+1),a=4294967296*t.readUInt32LE(r+5)+s;return i(a),a},encodingLength:o}},urtZ:(e,t,r)=>{"use strict";var n=r("MtRF"),i=r("vhD+"),o=r("5KZJ"),s=r("ydUC"),a=r("PtCN"),u=r("+65A"),c=s("Object.prototype.toString"),f=r("W5hG")(),l="undefined"===typeof globalThis?r.g:globalThis,h=i(),d=s("String.prototype.slice"),p=s("Array.prototype.indexOf",!0)||function(e,t){for(var r=0;r<e.length;r+=1)if(e[r]===t)return r;return-1},g={__proto__:null};n(h,f&&a&&u?function(e){var t=new l[e];if(Symbol.toStringTag in t&&u){var r=u(t),n=a(r,Symbol.toStringTag);if(!n&&r){var i=u(r);n=a(i,Symbol.toStringTag)}g["$"+e]=o(n.get)}}:function(e){var t=new l[e],r=t.slice||t.set;r&&(g["$"+e]=o(r))});e.exports=function(e){if(!e||"object"!==typeof e)return!1;if(!f){var t=d(c(e),8,-1);return p(h,t)>-1?t:"Object"===t&&function(e){var t=!1;return n(g,(function(r,n){if(!t)try{r(e),t=d(n,1)}catch(i){}})),t}(e)}return a?function(e){var t=!1;return n(g,(function(r,n){if(!t)try{"$"+r(e)===n&&(t=d(n,1))}catch(i){}})),t}(e):null}},o40x:(e,t,r)=>{var n=r("Dp+g").Buffer,i=r("p8i/");function o(e,t){if(void 0!==t&&e[0]!==t)throw new Error("Invalid network version");if(33===e.length)return{version:e[0],privateKey:e.slice(1,33),compressed:!1};if(34!==e.length)throw new Error("Invalid WIF length");if(1!==e[33])throw new Error("Invalid compression flag");return{version:e[0],privateKey:e.slice(1,33),compressed:!0}}function s(e,t,r){var i=new n(r?34:33);return i.writeUInt8(e,0),t.copy(i,1),r&&(i[33]=1),i}e.exports={decode:function(e,t){return o(i.decode(e),t)},decodeRaw:o,encode:function(e,t,r){return"number"===typeof e?i.encode(s(e,t,r)):i.encode(s(e.version,e.privateKey,e.compressed))},encodeRaw:s}},kESL:()=>{},BZVK:()=>{},k0SL:()=>{},"1Ovm":()=>{},RNGE:()=>{},Lg01:()=>{},BoV2:()=>{},ld6R:()=>{},"IIa+":()=>{},"vhD+":(e,t,r)=>{"use strict";var n=r("irP8"),i="undefined"===typeof globalThis?r.g:globalThis;e.exports=function(){for(var e=[],t=0;t<n.length;t++)"function"===typeof i[n[t]]&&(e[e.length]=n[t]);return e}},"4YTk":(e,t,r)=>{"use strict";function n(e,t,r){return t<=e&&e<=r}function i(e){if(void 0===e)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}r.r(t),r.d(t,{TextDecoder:()=>c,TextEncoder:()=>f});function o(e){this.tokens=[].slice.call(e)}o.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var s=-1;function a(e,t){if(e)throw TypeError("Decoder error");return t||65533}var u="utf-8";function c(e,t){if(!(this instanceof c))return new c(e,t);if((e=void 0!==e?String(e).toLowerCase():u)!==u)throw new Error("Encoding not supported. Only utf-8 is supported");t=i(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(t.fatal),this._ignoreBOM=Boolean(t.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function f(e,t){if(!(this instanceof f))return new f(e,t);if((e=void 0!==e?String(e).toLowerCase():u)!==u)throw new Error("Encoding not supported. Only utf-8 is supported");t=i(t),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(t.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function l(e){var t=e.fatal,r=0,i=0,o=0,u=128,c=191;this.handler=function(e,f){if(-1===f&&0!==o)return o=0,a(t);if(-1===f)return s;if(0===o){if(n(f,0,127))return f;if(n(f,194,223))o=1,r=f-192;else if(n(f,224,239))224===f&&(u=160),237===f&&(c=159),o=2,r=f-224;else{if(!n(f,240,244))return a(t);240===f&&(u=144),244===f&&(c=143),o=3,r=f-240}return r<<=6*o,null}if(!n(f,u,c))return r=o=i=0,u=128,c=191,e.prepend(f),a(t);if(u=128,c=191,r+=f-128<<6*(o-(i+=1)),i!==o)return null;var l=r;return r=o=i=0,l}}function h(e){e.fatal;this.handler=function(e,t){if(-1===t)return s;if(n(t,0,127))return t;var r,i;n(t,128,2047)?(r=1,i=192):n(t,2048,65535)?(r=2,i=224):n(t,65536,1114111)&&(r=3,i=240);for(var o=[(t>>6*r)+i];r>0;){var a=t>>6*(r-1);o.push(128|63&a),r-=1}return o}}c.prototype={decode:function(e,t){var r;r="object"===typeof e&&e instanceof ArrayBuffer?new Uint8Array(e):"object"===typeof e&&"buffer"in e&&e.buffer instanceof ArrayBuffer?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(0),t=i(t),this._streaming||(this._decoder=new l({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(t.stream);for(var n,a=new o(r),u=[];!a.endOfStream()&&(n=this._decoder.handler(a,a.read()))!==s;)null!==n&&(Array.isArray(n)?u.push.apply(u,n):u.push(n));if(!this._streaming){do{if((n=this._decoder.handler(a,a.read()))===s)break;null!==n&&(Array.isArray(n)?u.push.apply(u,n):u.push(n))}while(!a.endOfStream());this._decoder=null}return u.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===u[0]?(this._BOMseen=!0,u.shift()):this._BOMseen=!0)),function(e){for(var t="",r=0;r<e.length;++r){var n=e[r];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode(55296+(n>>10),56320+(1023&n)))}return t}(u)}},f.prototype={encode:function(e,t){e=e?String(e):"",t=i(t),this._streaming||(this._encoder=new h(this._options)),this._streaming=Boolean(t.stream);for(var r,n=[],a=new o(function(e){for(var t=String(e),r=t.length,n=0,i=[];n<r;){var o=t.charCodeAt(n);if(o<55296||o>57343)i.push(o);else if(56320<=o&&o<=57343)i.push(65533);else if(55296<=o&&o<=56319)if(n===r-1)i.push(65533);else{var s=e.charCodeAt(n+1);if(56320<=s&&s<=57343){var a=1023&o,u=1023&s;i.push(65536+(a<<10)+u),n+=1}else i.push(65533)}n+=1}return i}(e));!a.endOfStream()&&(r=this._encoder.handler(a,a.read()))!==s;)Array.isArray(r)?n.push.apply(n,r):n.push(r);if(!this._streaming){for(;(r=this._encoder.handler(a,a.read()))!==s;)Array.isArray(r)?n.push.apply(n,r):n.push(r);this._encoder=null}return new Uint8Array(n)}}},kgG6:e=>{"use strict";e.exports={i8:"6.6.1"}}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={id:n,loaded:!1,exports:{}},s=!0;try{e[n].call(o.exports,o,o.exports,r),s=!1}finally{s&&delete t[n]}return o.loaded=!0,o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,i){if(1&i&&(n=this(n)),8&i)return n;if("object"===typeof n&&n){if(4&i&&n.__esModule)return n;if(16&i&&"function"===typeof n.then)return n}var o=Object.create(null);r.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>n[e]));return s.default=()=>n,r.d(o,s),o}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e={};r.r(e),r.d(e,{aInRange:()=>Ff,abool:()=>xf,abytes:()=>Af,bitGet:()=>$f,bitLen:()=>Wf,bitMask:()=>Gf,bitSet:()=>Vf,bytesToHex:()=>Tf,bytesToNumberBE:()=>Cf,bytesToNumberLE:()=>Uf,concatBytes:()=>jf,createHmacDrbg:()=>Xf,ensureBytes:()=>zf,equalBytes:()=>Df,hexToBytes:()=>Of,hexToNumber:()=>Mf,inRange:()=>Hf,isBytes:()=>Ef,memoized:()=>tl,notImplemented:()=>el,numberToBytesBE:()=>Nf,numberToBytesLE:()=>Rf,numberToHexUnpadded:()=>If,numberToVarBytesBE:()=>Lf,utf8ToBytes:()=>qf,validateObject:()=>Qf});var t={};function n(e,t,r,n,i,o,s){try{var a=e[o](s),u=a.value}catch(c){return void r(c)}a.done?t(u):Promise.resolve(u).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var s=e.apply(t,r);function a(e){n(s,i,o,a,u,"next",e)}function u(e){n(s,i,o,a,u,"throw",e)}a(void 0)}))}}r.r(t),r.d(t,{hasBrowserEnv:()=>oy,hasStandardBrowserEnv:()=>sy,hasStandardBrowserWebWorkerEnv:()=>uy,origin:()=>cy});var o=r("66mo"),s=r.n(o);function a(){var e,t;return{promise:new Promise((function(r,n){e=r,t=n})),resolve:e,reject:t}}var u,c,f,l,h=a(),d=h.promise,p=h.resolve;function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t,r){if(!t.has(e))throw new TypeError("attempted to "+r+" private field on non-instance");return t.get(e)}function m(e,t){return function(e,t){return t.get?t.get.call(e):t.value}(e,y(e,t,"get"))}function b(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function w(e,t,r){b(e,t),t.set(e,r)}!function(e){e.uiFunctionCall="uiFunctionCall",e.contentscriptFunctionCall="contentscriptFunctionCall",e.functionCallResult="functionCallResult",e.updateState="updateState",e.contentScriptEvent="contentScriptEvent"}(u||(u={})),function(e){e.ui="ui",e.contentScript="contentScript",e.inPage="inPage"}(c||(c={})),function(e){e.Cosmos="Cosmos",e.Evm="EVM",e.Move="MOVE",e.Near="NEAR",e.Polkadot="Polkadot",e.Sol="SOL",e.TRON="TRON",e.Ton="TON",e.Utxo="UTXO"}(f||(f={})),function(e){e[e.evm=f.Evm]="evm",e[e.solana=f.Sol]="solana",e[e.utxo=f.Utxo]="utxo",e[e.tron=f.TRON]="tron",e[e.sui=f.Move]="sui"}(l||(l={}));var v;l.evm,l.solana,l.tron,l.sui;function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),n.forEach((function(t){_(e,t,r[t])}))}return e}function E(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})),e}function A(e,t){return A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},A(e,t)}function x(e,t){return A(e,t)}function k(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}function T(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function M(e,t){if(e){if("string"===typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(r):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?I(e,t):void 0}}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||T(e)||M(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e){return B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},B(e)}function O(e){return B(e)}function C(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function U(e){return e&&e.constructor===Symbol?"symbol":typeof e}function N(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(tp){return!1}}();return function(){var r,n=O(e);if(t){var i=O(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return function(e,t){return!t||"object"!==U(t)&&"function"!==typeof t?C(e):t}(this,r)}}!function(e){e.disconnect="disconnect",e.connectionChanged="connectionChanged"}(v||(v={}));var R,L=function(){return((e=21)=>{let t="",r=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)t+="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict"[63&r[e]];return t})()},z=function(){function e(t){g(this,e),this.postMessage=t,this.messageHandler={}}var t=e.prototype;return t.getFunctionCaller=function(e,t){var r=this;return new Proxy({},{get:function(n,o){return new Proxy({},{get:function(n,a){if("string"!==typeof o||"string"!==typeof a)throw new Error("Invalid function call");return i(s().mark((function n(){var i,u,c,f,l,h,d,p,g,y,m,b=arguments;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(i=b.length,u=new Array(i),c=0;c<i;c++)u[c]=b[c];return f=this,l=L(),h={type:e,moduleName:o,funcName:a,args:u,callFrom:t,providerCallContext:f.providerCallContext,messageId:l},n.next=6,r.sendMessageAndWait(h);case 6:if(!(d=n.sent).error){n.next=17;break}if(console.debug("[FunctionCallError]",a,u),p=P(d.error.split(":"),2),g=p[0],y=p[1],isNaN(Number(g))){n.next=16;break}throw(m=Error(y.trim())).code=Number(g),m;case 16:throw Error(d.error);case 17:return n.abrupt("return",d.returnValue);case 18:case"end":return n.stop()}}),n,this)})))}})}})},t.onReceiveMessage=function(e){var t=this.messageHandler[e.messageId];t?(t(e),delete this.messageHandler[e.messageId]):console.log("No handler for messageId:",e.messageId)},t.sendMessageAndWait=function(e){return this.postMessage(S({},e)),this.waitForMessageId(e.messageId)},t.waitForMessageId=function(e){var t=a(),r=t.promise,n=t.resolve;return this.messageHandler[e]=n,r},e}(),j=function(e){k(r,e);var t=N(r);function r(){return g(this,r),t.apply(this,arguments)}return r}(z),D=new j((function(e){d.then((function(){console.debug("[postMessageToContentScript]",e),window.postMessage(E(S({},e),_({},"__wallet_sent_from_in_page_msg__",!0)),window.location.origin)}))})),q=D.getFunctionCaller(u.contentscriptFunctionCall,c.inPage),K=new WeakMap,H=function(){function e(){g(this,e),w(this,K,{writable:!0,value:new Map})}var t=e.prototype;return t.registerProvider=function(e){var t=function(e){switch(e){case"eip155":return l.evm;case"solana":return l.solana;case"tron":return l.tron;case"sui":return l.sui;default:throw Error("Unsupported namespace")}}(e._namespace);e.isBinance=!1,e._postMessageToMp=function(r){var n=r.method,i=r.payload,o=r.id,s=[i],a=q.providerAdapter[n],u={networkType:t};a.apply({providerCallContext:u},s).then((function(t){e.setResponse(o,t)}),(function(t){e.setError(o,t)}))},m(this,K).set(t,e)},t.onReceiveContentScriptEventMessage=function(e){e.type;var t=e.networkType,r=e.eventType,n=e.args,i=m(this,K).get(t);if(!i)throw Error("No provider found");switch(r){case v.disconnect:this.disconnectAll();break;case v.connectionChanged:var o=n;i.setConnectedInfo(o);break;default:throw new Error("No method in bn.onMessage, ".concat(r))}},t.disconnectAll=function(){var e=m(this,K).values(),t=!0,r=!1,n=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){i.value.setConnectedInfo({address:"",chainId:"",pubKey:""})}}catch(s){r=!0,n=s}finally{try{t||null==o.return||o.return()}finally{if(r)throw n}}},e}(),F=new H,W=function(){window.addEventListener("message",(function(e){if(e.source===window){var t=e.data;if(t&&t.__wallet_sent_from_content_script_msg__){if(t.contentScriptInitDone)return console.debug(" --- receive contentScriptInitDone ---"),void p(!0);console.debug(" --- receive contentscript message ---",t),function(e){e.type===u.functionCallResult?D.onReceiveMessage(e):e.type===u.contentScriptEvent&&F.onReceiveContentScriptEventMessage(e)}(t)}}})),setTimeout((function(){p(!0)}),1e3)},$=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},V=function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r};function G(e){const t=({register:t})=>t(e);try{window.dispatchEvent(new Z(t))}catch(r){console.error("wallet-standard:register-wallet event could not be dispatched\n",r)}try{window.addEventListener("wallet-standard:app-ready",(({detail:e})=>t(e)))}catch(r){console.error("wallet-standard:app-ready event listener could not be added\n",r)}}class Z extends Event{get detail(){return $(this,R,"f")}get type(){return"wallet-standard:register-wallet"}constructor(e){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),R.set(this,void 0),V(this,R,e,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}function J(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function X(e,t,r){return t&&J(e.prototype,t),r&&J(e,r),e}function Y(e,t){return null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}R=new WeakMap;var Q=r("o9uE");const ee=Q;var te,re,ne,ie,oe;!function(e){e.normalConnect="normalConnect",e.multilConnect="multiConnect",e.requestDirectSign="requestDirectSign",e.disconnect="disconnect",e.requestPubKey="requestPubKey",e.changeConnectedChainId="changeConnectedChainId",e.changeConnectedAddress="changeConnectedAddress",e.requestWalletKitSign="requestWalletKitSign",e.requestReportSign="requestReportSign",e.requestReportConnect="requestReportConnect",e.requestRPC="requestRPC",e.requestCommonChainHTTPCall="requestCommonChainHTTPCall",e.previewTransaction="previewTransaction",e.previewMessage="previewMessage",e.reportError="reportError",e.universalSign="universalSign",e.requestIsUniversalSign="requestIsUniversalSign",e.requestIsNewSuiSign="requestIsNewSuiSign",e.requestHasStakedBabylon="requestHasStakedBabylon",e.reportMethodCalled="reportMethodCalled",e.dappLog="dappLog"}(te||(te={})),function(e){e.setResponse="setResponse",e.setError="setError"}(re||(re={})),function(e){e.setVersion="setVersion",e.updateConnectedInfo="updateConnectedInfo"}(ne||(ne={})),function(e){e.requestSignBip122OnlyAfterPreview="requestSignBip122OnlyAfterPreview",e.requestBinanceChainIdAndNetworkId="requestBinanceChainIdAndNetworkId",e.eip155AddAsset="eip155AddAsset",e.bip122GetBlockHeight="bip122GetBlockHeight",e.bip122PushTx="bip122PushTx",e.bip122PreviewTx="bip122PreviewTx",e.bip122GetUtxos="bip122GetUtxos",e.bip122GetNetworkFees="bip122GetNetworkFees",e.bip122GetBalance="bip122GetBalance",e.requestTonAddressByManifest="requestTonAddressByManifest",e.sign="sign"}(ie||(ie={})),function(e){e.mpChangeConnectedChainId="mpChangeConnectedChainId",e.mpChangeConnectedAddress="mpChangeConnectedAddress",e.mpDisconnect="mpDisconnect"}(oe||(oe={}));var se,ae,ue,ce="Binance Wallet",fe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIHZpZXdCb3g9IjAgMCAzMCAzMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjMwIiBoZWlnaHQ9IjMwIiBmaWxsPSIjMEIwRTExIi8+CjxwYXRoIGQ9Ik01IDE1TDcuMjU4MDYgMTIuNzQxOUw5LjUxNjEzIDE1TDcuMjU4MDYgMTcuMjU4MUw1IDE1WiIgZmlsbD0iI0YwQjkwQiIvPgo8cGF0aCBkPSJNOC44NzA5NyAxMS4xMjlMMTUgNUwyMS4xMjkgMTEuMTI5TDE4Ljg3MSAxMy4zODcxTDE1IDkuNTE2MTNMMTEuMTI5IDEzLjM4NzFMOC44NzA5NyAxMS4xMjlaIiBmaWxsPSIjRjBCOTBCIi8+CjxwYXRoIGQ9Ik0xMi43NDE5IDE1TDE1IDEyLjc0MTlMMTcuMjU4MSAxNUwxNSAxNy4yNTgxTDEyLjc0MTkgMTVaIiBmaWxsPSIjRjBCOTBCIi8+CjxwYXRoIGQ9Ik0xMS4xMjkgMTYuNjEyOUw4Ljg3MDk3IDE4Ljg3MUwxNSAyNUwyMS4xMjkgMTguODcxTDE4Ljg3MSAxNi42MTI5TDE1IDIwLjQ4MzlMMTEuMTI5IDE2LjYxMjlaIiBmaWxsPSIjRjBCOTBCIi8+CjxwYXRoIGQ9Ik0yMC40ODM5IDE1TDIyLjc0MTkgMTIuNzQxOUwyNSAxNUwyMi43NDE5IDE3LjI1ODFMMjAuNDgzOSAxNVoiIGZpbGw9IiNGMEI5MEIiLz4KPC9zdmc+Cg==";!function(e){e.disconnectTonInMP="disconnectTonInMP",e.tonHttpBridgeTxFinished="tonHttpBridgeTxFinished",e.tonHttpBridgeConnectFinished="tonHttpBridgeConnectFinished",e.tonJSridgeConnectFinished="tonJSBridgeConnectFinished",e.sseError="sseError",e.sseMessage="sseMessage",e.tonHttpBridgeReportTx="tonHttpBridgeReportTx",e.showToast="showToast"}(se||(se={})),function(e){e.walletBuildTx="wallet_buildTx",e.walletSignTx="wallet_signTx",e.earnSolanaWeb3js="earnSolanaWeb3js",e.earnSolanaSPL="earnSolanaSPL",e.earnSui="earnSui",e.setConnectionInfo="setConnectionInfo",e.setSSEInfo="setSSEInfo",e.setConnectionInfoError="setConnectionInfoError",e.emit="emit",e.tonDisconnectByNative="tonDisconnectByNative"}(ae||(ae={})),function(e){e.GET="get",e.POST="post"}(ue||(ue={}));var le,he="method-";!function(e){e.PAGE_READY="translate_page_ready",e.FETCH_TRANSLATION="fetch_translation",e.FETCH_TRANSLATION_TOO_MANY="translate_fail_too_many",e.TRANSLATE_SUCCESS="translate_success",e.TRANSLATE_FAIL="translate_fail",e.TRANSLATE_PAGE="translate_page",e.REFRESH_TRANSLATE="refresh_translate",e.TANSLATE_SHOW_ORIGINAL="translate_show_original",e[e.REQUEST=he+"request"]="REQUEST",e[e.GET_TRANSLATE_SETTINGS=he+"get_translate_settings"]="GET_TRANSLATE_SETTINGS",e.CLEAR_CACHE="translate_clear_cache",e.JUMP_TO_MP_PAGE="jump_to_mp_page"}(le||(le={}));var de="000000000019d6689c085ae165831e93",pe="sui-1";function ge(e,t,r){return ge=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(tp){return!1}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&x(i,r.prototype),i},ge.apply(null,arguments)}function ye(e){var t="function"===typeof Map?new Map:void 0;return ye=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return function(e,t,r){return ge.apply(null,arguments)}(e,arguments,O(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),x(r,e)},ye(e)}function me(e){return ye(e)}var be,we=function(e){k(r,e);var t=N(r);function r(e,n){var i;return g(this,r),(i=t.call(this)).code=e,i.message=n,i}return r.prototype.toString=function(){return"".concat(this.message," (").concat(this.code,")")},r}(me(Error));!function(e){e[e.USER_REJECTED=4001]="USER_REJECTED",e[e.UNAUTHORIZED=4100]="UNAUTHORIZED",e[e.UNSUPPORTED_METHOD=4200]="UNSUPPORTED_METHOD",e[e.DISCONNECTED=4900]="DISCONNECTED",e[e.CHAIN_DISCONNECTED=4901]="CHAIN_DISCONNECTED"}(be||(be={}));class ve extends Error{constructor(e,t={}){super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:"viem@1.21.3"});const r=t.cause instanceof ve?t.cause.details:t.cause?.message?t.cause.message:t.details,n=t.cause instanceof ve&&t.cause.docsPath||t.docsPath;this.message=[e||"An error occurred.","",...t.metaMessages?[...t.metaMessages,""]:[],...n?[`Docs: https://viem.sh${n}.html${t.docsSlug?`#${t.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join("\n"),t.cause&&(this.cause=t.cause),this.details=r,this.docsPath=n,this.metaMessages=t.metaMessages,this.shortMessage=e}walk(e){return _e(this,e)}}function _e(e,t){return t?.(e)?e:e&&"object"===typeof e&&"cause"in e?_e(e.cause,t):t?null:e}class Se extends ve{constructor({max:e,min:t,signed:r,size:n,value:i}){super(`Number "${i}" is not in safe ${n?`${8*n}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${t} to ${e})`:`(above ${t})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class Ee extends ve{constructor({givenSize:e,maxSize:t}){super(`Size cannot exceed ${t} bytes. Given size: ${e} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}class Ae extends ve{constructor({size:e,targetSize:t,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}function xe(e,{dir:t,size:r=32}={}){return"string"===typeof e?function(e,{dir:t,size:r=32}={}){if(null===r)return e;const n=e.replace("0x","");if(n.length>2*r)throw new Ae({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n["right"===t?"padEnd":"padStart"](2*r,"0")}`}(e,{dir:t,size:r}):function(e,{dir:t,size:r=32}={}){if(null===r)return e;if(e.length>r)throw new Ae({size:e.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const o="right"===t;n[o?i:r-i-1]=e[o?i:e.length-i-1]}return n}(e,{dir:t,size:r})}function ke(e){return function(e,{strict:t=!0}={}){return!!e&&"string"===typeof e&&(t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x"))}(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function Te(e,{size:t}){if(ke(e)>t)throw new Ee({givenSize:ke(e),maxSize:t})}const Ie=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Me(e,t={}){return"number"===typeof e||"bigint"===typeof e?function(e,t={}){const{signed:r,size:n}=t,i=BigInt(e);let o;n?o=r?(1n<<8n*BigInt(n)-1n)-1n:2n**(8n*BigInt(n))-1n:"number"===typeof e&&(o=BigInt(Number.MAX_SAFE_INTEGER));const s="bigint"===typeof o&&r?-o-1n:0;if(o&&i>o||i<s){const t="bigint"===typeof e?"n":"";throw new Se({max:o?`${o}${t}`:void 0,min:`${s}${t}`,signed:r,size:n,value:`${e}${t}`})}const a=`0x${(r&&i<0?(1n<<BigInt(8*n))+BigInt(i):i).toString(16)}`;return n?xe(a,{size:n}):a}(e,t):"string"===typeof e?function(e,t={}){const r=Be.encode(e);return Pe(r,t)}(e,t):"boolean"===typeof e?function(e,t={}){const r=`0x${Number(e)}`;if("number"===typeof t.size)return Te(r,{size:t.size}),xe(r,{size:t.size});return r}(e,t):Pe(e,t)}function Pe(e,t={}){let r="";for(let i=0;i<e.length;i++)r+=Ie[e[i]];const n=`0x${r}`;return"number"===typeof t.size?(Te(n,{size:t.size}),xe(n,{dir:"right",size:t.size})):n}const Be=new TextEncoder;var Oe=r("sG0q"),Ce=r("Dp+g").Buffer,Ue=function(){return(new Date).getTime()+Math.floor(1e3*Math.random())},Ne=function(e){window.bn.miniProgram.postMessage(e)},Re=function(e){if("string"===typeof e)return e.startsWith("0x"),e;if(Y(e,Uint8Array)||Ce.isBuffer(e))return"0x"+Ce.from(e).toString("hex");if("object"===typeof e)return JSON.stringify(e);throw new Error("Unsupported message format")},Le=function(e){e.on(oe.mpChangeConnectedAddress,(function(){location.reload()})),e.on(oe.mpDisconnect,(function(){location.reload()}))};const ze=[EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError,globalThis.DOMException,globalThis.AssertionError,globalThis.SystemError].filter(Boolean).map((e=>[e.name,e])),je=new Map(ze);Error;const De=[{property:"name",enumerable:!1},{property:"message",enumerable:!1},{property:"stack",enumerable:!1},{property:"code",enumerable:!0},{property:"cause",enumerable:!1}],qe=new WeakSet,Ke=e=>je.get(e)??Error,He=({from:e,seen:t,to:r,forceEnumerable:n,maxDepth:i,depth:o,useToJSON:s,serialize:a})=>{if(!r)if(Array.isArray(e))r=[];else if(!a&&We(e)){r=new(Ke(e.name))}else r={};if(t.push(e),o>=i)return r;if(s&&"function"===typeof e.toJSON&&!qe.has(e))return(e=>{qe.add(e);const t=e.toJSON();return qe.delete(e),t})(e);const u=e=>He({from:e,seen:[...t],forceEnumerable:n,maxDepth:i,depth:o,useToJSON:s,serialize:a});for(const[c,f]of Object.entries(e))if(f&&f instanceof Uint8Array&&"Buffer"===f.constructor.name)r[c]="[object Buffer]";else if(null===f||"object"!==typeof f||"function"!==typeof f.pipe){if("function"!==typeof f)if(f&&"object"===typeof f)t.includes(e[c])?r[c]="[Circular]":(o++,r[c]=u(e[c]));else try{r[c]=f}catch{}}else r[c]="[object Stream]";for(const{property:c,enumerable:f}of De)"undefined"!==typeof e[c]&&null!==e[c]&&Object.defineProperty(r,c,{value:We(e[c])?u(e[c]):e[c],enumerable:!!n||f,configurable:!0,writable:!0});return r};function Fe(e,t={}){const{maxDepth:r=Number.POSITIVE_INFINITY,useToJSON:n=!0}=t;return"object"===typeof e&&null!==e?He({from:e,seen:[],forceEnumerable:!0,maxDepth:r,depth:0,useToJSON:n,serialize:!0}):"function"===typeof e?`[Function: ${e.name||"anonymous"}]`:e}function We(e){return Boolean(e)&&"object"===typeof e&&"name"in e&&"message"in e&&"stack"in e}var $e=r("5L7L"),Ve={url:"",description:"",icon:"",name:""};function Ge(){var e,t,r,n=document.title||"",i=(null===(e=document.querySelector('meta[name="description"]'))||void 0===e?void 0:e.content)||"",o=(null===(t=document.querySelector('link[rel="shortcut icon"]'))||void 0===t?void 0:t.href)||(null===(r=document.querySelector('link[rel="icon"]'))||void 0===r?void 0:r.href);if(o){if(o&&!o.startsWith("http")){o.startsWith(".")&&(o=o.substring(1)),o=new URL(window.location.href).origin+o}}else o=window.location.origin+"/favicon.ico";var s=window.location.origin;Ve={name:n,description:i,icon:o,url:s}}Ge(),new MutationObserver((function(){Ve.url!==window.location.href&&Ge()})).observe(document,{subtree:!0,childList:!0}),window.addEventListener("popstate",Ge);var Ze=history.pushState;history.pushState=function(){Ze.apply(this,arguments),Ge()};var Je=history.replaceState;history.replaceState=function(){Je.apply(this,arguments),Ge()};var Xe=r("Dp+g").Buffer,Ye=function(e){k(r,e);var t=N(r);function r(){var e;return g(this,r),_(C(e=t.call(this)),"isBinance",!0),_(C(e),"_isLocal",!1),_(C(e),"_callbacks",new Map),_(C(e),"_namespace",void 0),_(C(e),"_signMethod",void 0),_(C(e),"_hiddenEnv",void 0),_(C(e),"_connectedChainId",""),_(C(e),"_connectedAddress",""),_(C(e),"_connectedPubKey",""),_(C(e),"address",""),_(C(e),"networkVersion",""),_(C(e),"chainId",""),_(C(e),"_postMessageToMp",Ne),e._requestNormalConnect=(0,$e.debounce)(e._requestNormalConnect.bind(C(e)),1e3,{leading:!0,trailing:!1}),e}return X(r,[{key:"_persistedKey",get:function(){return"".concat(this._namespace,"_bnAddress")}},{key:"setConnectedInfo",value:function(e){var t=e.chainId,r=e.address,n=e.pubKey;console.log("[provider log]: start setConnectedInfo",t,r,n,this._namespace),r&&this._setAddressCache({address:r,chainId:t}),t||r?(this._connectedChainId&&t!==this._connectedChainId&&(console.log("[provider log]: start emit mpChangeConnectedChainId in base provider",t),this.emit(oe.mpChangeConnectedChainId,t)),this._connectedAddress&&r!==this._connectedAddress&&(console.log("[provider log]: start emit mpChangeConnectedAddress in base provider",r),this.emit(oe.mpChangeConnectedAddress,r))):(console.log("[provider log]: start emit disconnect in base provider"),this.emit(oe.mpDisconnect),this._setAddressCache({address:"",chainId:""})),this._connectedChainId=t,this._connectedAddress=r,this._connectedPubKey=n}},{key:"_requestNormalConnect",value:function(e){var t=this;return i(s().mark((function r(){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t._request(te.normalConnect,{chainId:e});case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),r)})))()}},{key:"_getAddressCache",value:function(){var e=localStorage.getItem(this._persistedKey);try{return JSON.parse(e||"")}catch(tp){}}},{key:"_getAddressCacheAndSetConnected",value:function(){var e=this;return i(s().mark((function t(){var r,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(r=localStorage.getItem(e._persistedKey))){t.next=9;break}if(!(n=JSON.parse(r||"{}")).address){t.next=9;break}return t.next=6,e._requestChangeConnectedChainId();case 6:return t.next=8,e._requestChangeConnectedAddress(n.address);case 8:return t.abrupt("return",n);case 9:case"end":return t.stop()}}),t)})))()}},{key:"_setAddressCache",value:function(e){localStorage.setItem(this._persistedKey,JSON.stringify(e||{}))}},{key:"_requestPubKey",value:function(e){var t=this;return i(s().mark((function r(){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t._request(te.requestPubKey,e));case 1:case"end":return r.stop()}}),r)})))()}},{key:"_requestDisconnect",value:function(){var e=this;return i(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._request(te.disconnect));case 1:case"end":return t.stop()}}),t)})))()}},{key:"_requestChangeConnectedChainId",value:function(e){var t=this;return i(s().mark((function r(){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t._request(te.changeConnectedChainId,{chainId:e}));case 1:case"end":return r.stop()}}),r)})))()}},{key:"_requestChangeConnectedAddress",value:function(e){var t=this;return i(s().mark((function r(){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t._request(te.changeConnectedAddress,e));case 1:case"end":return r.stop()}}),r)})))()}},{key:"_requestWalletKitSign",value:function(e){var t=this;return i(s().mark((function r(){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t._request(te.requestWalletKitSign,e));case 1:case"end":return r.stop()}}),r)})))()}},{key:"_requestReportSign",value:function(e){var t=this;return i(s().mark((function r(){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t._request(te.requestReportSign,e));case 1:case"end":return r.stop()}}),r)})))()}},{key:"_requestReportConnect",value:function(e){var t=this;return i(s().mark((function r(){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t._request(te.requestReportConnect,e));case 1:case"end":return r.stop()}}),r)})))()}},{key:"_requestSign",value:function(e){var t=e.data,r=e.signMethod,n=this;return i(s().mark((function e(){var i,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n._signMethod){e.next=2;break}throw new Error("No sign method");case 2:return i="string"===typeof t?t:Xe.from(t).toString("hex"),e.next=5,n._request(te.requestDirectSign,{address:n._connectedAddress,hex:i,signMethod:n._signMethod||r,chainId:n._connectedChainId});case 5:return o=e.sent,e.abrupt("return",Xe.from(o,"hex"));case 7:case"end":return e.stop()}}),e)})))()}},{key:"_universalSign",value:function(e){var t=this;return i(s().mark((function r(){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t._request(te.universalSign,E(S({},e),{address:t._connectedAddress,chainId:t._connectedChainId})));case 1:case"end":return r.stop()}}),r)})))()}},{key:"_previewMessage",value:function(e){var t=this;return i(s().mark((function r(){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t._request(te.previewMessage,e));case 1:case"end":return r.stop()}}),r)})))()}},{key:"_previewTransaction",value:function(e){var t=this;return i(s().mark((function r(){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t._request(te.previewTransaction,e));case 1:case"end":return r.stop()}}),r)})))()}},{key:"_requestRPC",value:function(e){var t=this;return i(s().mark((function r(){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",t._request(te.requestRPC,e));case 1:case"end":return r.stop()}}),r)})))()}},{key:"_request",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this;return i(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("_request called",e,t),n.abrupt("return",new Promise((function(n,i){var o=Ue();console.log("setting id ".concat(o)),r._callbacks.set(o,(function(e,t){e?i(e):n(t)})),Y(t.payload,Error)&&(t.payload=Fe(t)),r._postMessageToMp({method:e,payload:t,namespace:r._namespace,id:o,hiddenEnv:r._hiddenEnv,metadata:Ve})})));case 2:case"end":return n.stop()}}),n)})))()}},{key:"setResponse",value:function(e,t){var r=this._callbacks.get(e);console.log("_setResponse id ".concat(e," result ").concat(t)),r?(r(null,t),this._callbacks.delete(e)):console.log("callback id: ".concat(e," not found"))}},{key:"setError",value:function(e,t){var r=this._callbacks.get(e);r&&(r(Y(t,Error)?t:new Error(t),null),this._callbacks.delete(e))}},{key:"setConfig",value:function(e){var t=e.isDebug,r=e.address,n=e.chainId;if(void 0!==t&&(this._isLocal=t),void 0!==r){var i=(r||"").toLowerCase();this.address=i}void 0!==n&&(this.networkVersion=""+n,this.chainId="0x"+(Number(n)||1).toString(16))}},{key:"getIsUniversalSign",value:function(){var e=this;return i(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._request(te.requestIsUniversalSign));case 1:case"end":return t.stop()}}),t)})))()}},{key:"reportError",value:function(e){var t=Ue();return this._postMessageToMp({method:te.reportError,payload:{code:e.code,message:e.message},namespace:this._namespace,id:t})}},{key:"reportMethodCalled",value:function(e){var t=e.method,r=e.params;try{var n=Ue();return Ne({metadata:Ve,method:te.reportMethodCalled,payload:{method:t,params:r},namespace:this._namespace,id:n})}catch(tp){}}}]),r}(ee),Qe=function(e){k(r,e);var t=N(r);function r(){var e,n;return g(this,r),_(C(e=t.call(this)),"_namespace","eip155"),_(C(e),"_signMethod","ecdsa"),_(C(e),"isMetaMask",!0),e.on(oe.mpChangeConnectedChainId,(function(t){t!==e._connectedChainId&&(e.setConfig({address:e._connectedAddress,chainId:t}),e.emit("chainChanged","0x"+Number(t).toString(16)))})),e.on(oe.mpChangeConnectedAddress,(function(t){t!==e._connectedAddress&&(e.setConfig({address:t,chainId:e._connectedChainId}),e.emit("accountsChanged",[t]))})),e.on(oe.mpDisconnect,(function(){e.emit("disconnect"),e.emit("accountsChanged",[])})),e.emit("connect"),(null===(n=e._getAddressCache())||void 0===n?void 0:n.address)&&setTimeout((function(){e.request({method:"eth_requestAccounts",params:[]})}),100),e}return X(r,[{key:"isConnected",value:function(){return!0}},{key:"_validateChainId",value:function(e){if(this._connectedChainId&&e){var t=String(e.toString().startsWith("0x")?parseInt(e.toString(),16):Number(e));if(this._connectedChainId&&t!==String(this._connectedChainId))throw new we(4901,"Chain ID mismatch. Expected: ".concat(this._connectedChainId,", Received: ").concat(t))}}},{key:"enable",value:function(){return console.log("enable() is deprecated, please use window.ethereum.request({method: 'eth_requestAccounts'}) instead."),this.request({method:"eth_requestAccounts",params:[]})}},{key:"disconnect",value:function(){console.log("disconnect called")}},{key:"send",value:function(e){var t={jsonrpc:"2.0",id:e.id,result:""};switch(e.method){case"eth_accounts":case"eth_coinbase":t.result=this._ethAccounts();break;case"net_version":t.result=this._connectedChainId;break;case"eth_chainId":t.result=this._connectedChainId?"0x"+Number(this._connectedChainId).toString(16):"";break;default:throw new we(4200,"Method not supported: ".concat(e.method))}return t}},{key:"sendAsync",value:function(e,t){var r=this;Array.isArray(e)?Promise.all(e.map((function(e){return r.request(e)}))).then((function(e){return t(null,e)})).catch((function(e){return t(e,null)})):this.request(e).then((function(e){return t(null,e)})).catch((function(e){return t(e,null)}))}},{key:"_ethAccounts",value:function(){return this._connectedAddress?[this._connectedAddress]:[]}},{key:"_ethAccountsWithCheck",value:function(){var e=this;return i(s().mark((function t(){var r,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._request("checkCurrentConnection");case 2:return r=t.sent,n=e._connectedAddress||r,t.abrupt("return",n?[n]:[]);case 5:case"end":return t.stop()}}),t)})))()}},{key:"_ethRequestAccounts",value:function(){var e=this;return i(s().mark((function t(){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._requestNormalConnect();case 2:return t.t0=t.sent,r=[t.t0],e.setConfig({address:r[0],chainId:e._connectedChainId}),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})))()}},{key:"_ethSign",value:function(e){var t=P(e,2),r=t[0],n={message:Me(t[1]),address:r};throw this._requestReportConnect(n),new Error("method not supported")}},{key:"_personalSign",value:function(e){var t=P(function(e,t){var r=P(e,2),n=r[0],i=r[1],o="string"===typeof n.toLowerCase()&&t===n.toLowerCase();return[o?n:i,Re(o?i:n)]}(e,this._connectedAddress||""),2),r=t[0],n=t[1];return this._requestWalletKitSign({method:"preview_message",params:{data:n,address:r}})}},{key:"_signTypedData",value:function(e,t){var r=function(e,t,r){var n=P(e,2),i=n[0],o=n[1],s="string"===typeof i.toLowerCase()&&r===i.toLowerCase(),a=s?i:o,u=s?o:i,c="string"===typeof u?JSON.parse(u):u;return{data:Me(t!==Oe.SignTypedDataVersion.V1?Oe.TypedDataUtils.eip712Hash(c,t):""),raw:"string"===typeof u?u:JSON.stringify(u),address:a,version:t}}(e,t,this._connectedAddress||"");return this._requestWalletKitSign({method:"preview_message",params:r})}},{key:"request",value:function(e){var t=this;return i(s().mark((function r(){var n,i,o,a;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,t.getIsUniversalSign();case 2:n=r.sent,i=e.method,o=e.params,console.log("provider called with",e),r.t0=i,r.next="eth_requestAccounts"===r.t0?8:"eth_accounts"===r.t0||"eth_coinbase"===r.t0?9:"net_version"===r.t0?10:"eth_chainId"===r.t0?11:"wallet_switchEthereumChain"===r.t0?12:"eth_sign"===r.t0?13:"personal_sign"===r.t0?14:"eth_signTypedData_v3"===r.t0?19:"eth_signTypedData_v4"===r.t0?24:"eth_signTypedData"===r.t0?29:"eth_sendTransaction"===r.t0?34:"wallet_watchAsset"===r.t0?41:"wallet_requestPermissions"===r.t0?44:"wallet_revokePermissions"===r.t0?45:"eth_newFilter"===r.t0||"eth_newBlockFilter"===r.t0||"eth_newPendingTransactionFilter"===r.t0||"eth_uninstallFilter"===r.t0||"eth_subscribe"===r.t0||"wallet_addEthereumChain"===r.t0||"wallet_getCapabilities"===r.t0?46:49;break;case 8:return r.abrupt("return",t._ethRequestAccounts());case 9:return r.abrupt("return",t._ethAccountsWithCheck());case 10:return r.abrupt("return",t._connectedChainId);case 11:return r.abrupt("return",t._connectedChainId?"0x"+Number(t._connectedChainId).toString(16):"");case 12:return r.abrupt("return",t._requestChangeConnectedChainId(String(Number(o[0].chainId))));case 13:return r.abrupt("return",t._ethSign(o));case 14:if(!n){r.next=18;break}return r.next=17,t._universalSign({type:"signMessage",request:e});case 17:case 22:case 27:case 32:return r.abrupt("return",r.sent.signature);case 18:return r.abrupt("return",t._personalSign(o));case 19:if(!n){r.next=23;break}return r.next=22,t._universalSign({type:"signMessage",request:e});case 23:return r.abrupt("return",t._signTypedData(o,Oe.SignTypedDataVersion.V3));case 24:if(!n){r.next=28;break}return r.next=27,t._universalSign({type:"signMessage",request:e});case 28:return r.abrupt("return",t._signTypedData(o,Oe.SignTypedDataVersion.V4));case 29:if(!n){r.next=33;break}return r.next=32,t._universalSign({type:"signMessage",request:e});case 33:return r.abrupt("return",t._signTypedData(o,Oe.SignTypedDataVersion.V1));case 34:if(o[0]&&"object"===typeof o[0]&&o[0].chainId&&t._validateChainId(o[0].chainId),t._requestReportSign(e),!n){r.next=40;break}return r.next=39,t._universalSign({type:"sendTransaction",request:e});case 39:return r.abrupt("return",r.sent.txHash);case 40:return r.abrupt("return",t._requestWalletKitSign({method:"preview_smart_contract",params:o[0]}));case 41:return r.next=43,t._request(ie.eip155AddAsset,o);case 43:return r.abrupt("return",r.sent);case 44:throw new Error("Not supported");case 45:return r.abrupt("return",t._requestDisconnect());case 46:throw(a=new Error("not supported")).code=4200,a;case 49:return r.abrupt("return",t._requestRPC({method:i,params:o,chainId:t._connectedChainId}));case 50:case"end":return r.stop()}}),r)})))()}}]),r}(Ye),et=r("Dp+g");function tt(e){return Uint8Array.from(atob(e),(e=>e.charCodeAt(0)))}const rt=8192;function nt(e){if(e.length<rt)return btoa(String.fromCharCode(...e));let t="";for(var r=0;r<e.length;r+=rt){const n=e.slice(r,r+rt);t+=String.fromCharCode(...n)}return btoa(t)}var it=r("vDsV"),ot=r.n(it);const st=e=>it.encode(e),at=e=>it.decode(e);function ut(e){const t=e.startsWith("0x")?e.slice(2):e,r=t.length%2===0?t:`0${t}}`,n=r.match(/.{2}/g)?.map((e=>parseInt(e,16)))??[];return Uint8Array.from(n)}function ct(e){return e.reduce(((e,t)=>e+t.toString(16).padStart(2,"0")),"")}function ft(e){let t=[],r=0;if(0===e)return[0];for(;e>0;)t[r]=127&e,(e>>=7)&&(t[r]|=128),r+=1;return t}class lt{constructor(e){this.bytePosition=0,this.dataView=new DataView(e.buffer)}shift(e){return this.bytePosition+=e,this}read8(){let e=this.dataView.getUint8(this.bytePosition);return this.shift(1),e}read16(){let e=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),e}read32(){let e=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),e}read64(){let e=this.read32(),t=this.read32().toString(16)+e.toString(16).padStart(8,"0");return BigInt("0x"+t).toString(10)}read128(){let e=BigInt(this.read64()),t=BigInt(this.read64()).toString(16)+e.toString(16).padStart(16,"0");return BigInt("0x"+t).toString(10)}read256(){let e=BigInt(this.read128()),t=BigInt(this.read128()).toString(16)+e.toString(16).padStart(32,"0");return BigInt("0x"+t).toString(10)}readBytes(e){let t=this.bytePosition+this.dataView.byteOffset,r=new Uint8Array(this.dataView.buffer,t,e);return this.shift(e),r}readULEB(){let e=this.bytePosition+this.dataView.byteOffset,t=new Uint8Array(this.dataView.buffer,e),{value:r,length:n}=function(e){let t=0,r=0,n=0;for(;;){let i=e[n];if(n+=1,t|=(127&i)<<r,0===(128&i))break;r+=7}return{value:t,length:n}}(t);return this.shift(n),r}readVec(e){let t=this.readULEB(),r=[];for(let n=0;n<t;n++)r.push(e(this,n,t));return r}}function ht(e,t=["<",">"]){const[r,n]=t,i=[];let o="",s=0;for(let a=0;a<e.length;a++){const t=e[a];t===r&&s++,t===n&&s--,0!==s||","!==t?o+=t:(i.push(o.trim()),o="")}return i.push(o.trim()),i}class dt{constructor({size:e=1024,maxSize:t,allocateSize:r=1024}={}){this.bytePosition=0,this.size=e,this.maxSize=t||e,this.allocateSize=r,this.dataView=new DataView(new ArrayBuffer(e))}ensureSizeOrGrow(e){const t=this.bytePosition+e;if(t>this.size){const e=Math.min(this.maxSize,this.size+this.allocateSize);if(t>e)throw new Error(`Attempting to serialize to BCS, but buffer does not have enough size. Allocated size: ${this.size}, Max size: ${this.maxSize}, Required size: ${t}`);this.size=e;const r=new ArrayBuffer(this.size);new Uint8Array(r).set(new Uint8Array(this.dataView.buffer)),this.dataView=new DataView(r)}}shift(e){return this.bytePosition+=e,this}write8(e){return this.ensureSizeOrGrow(1),this.dataView.setUint8(this.bytePosition,Number(e)),this.shift(1)}write16(e){return this.ensureSizeOrGrow(2),this.dataView.setUint16(this.bytePosition,Number(e),!0),this.shift(2)}write32(e){return this.ensureSizeOrGrow(4),this.dataView.setUint32(this.bytePosition,Number(e),!0),this.shift(4)}write64(e){return pt(BigInt(e),8).forEach((e=>this.write8(e))),this}write128(e){return pt(BigInt(e),16).forEach((e=>this.write8(e))),this}write256(e){return pt(BigInt(e),32).forEach((e=>this.write8(e))),this}writeULEB(e){return ft(e).forEach((e=>this.write8(e))),this}writeVec(e,t){return this.writeULEB(e.length),Array.from(e).forEach(((r,n)=>t(this,r,n,e.length))),this}*[Symbol.iterator](){for(let e=0;e<this.bytePosition;e++)yield this.dataView.getUint8(e);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(e){return function(e,t){switch(t){case"base58":return st(e);case"base64":return nt(e);case"hex":return ct(e);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}(this.toBytes(),e)}}function pt(e,t){let r=new Uint8Array(t),n=0;for(;e>0;)r[n]=Number(e%BigInt(256)),e/=BigInt(256),n+=1;return r}var gt,yt,mt,bt,wt=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},vt=(e,t,r)=>(wt(e,t,"read from private field"),r?r.call(e):t.get(e)),_t=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},St=(e,t,r,n)=>(wt(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);const Et=class{constructor(e){_t(this,gt,void 0),_t(this,yt,void 0),this.name=e.name,this.read=e.read,this.serializedSize=e.serializedSize??(()=>null),St(this,gt,e.write),St(this,yt,e.serialize??((e,t)=>{const r=new dt({size:this.serializedSize(e)??void 0,...t});return vt(this,gt).call(this,e,r),r.toBytes()})),this.validate=e.validate??(()=>{})}write(e,t){this.validate(e),vt(this,gt).call(this,e,t)}serialize(e,t){return this.validate(e),new Tt(this,vt(this,yt).call(this,e,t))}parse(e){const t=new lt(e);return this.read(t)}transform({name:e,input:t,output:r}){return new Et({name:e??this.name,read:e=>r(this.read(e)),write:(e,r)=>vt(this,gt).call(this,t(e),r),serializedSize:e=>this.serializedSize(t(e)),serialize:(e,r)=>vt(this,yt).call(this,t(e),r),validate:e=>this.validate(t(e))})}};let At=Et;gt=new WeakMap,yt=new WeakMap;const xt=Symbol.for("@mysten/serialized-bcs");function kt(e){return!!e&&"object"===typeof e&&!0===e[xt]}class Tt{constructor(e,t){_t(this,mt,void 0),_t(this,bt,void 0),St(this,mt,e),St(this,bt,t)}get[xt](){return!0}toBytes(){return vt(this,bt)}toHex(){return ct(vt(this,bt))}toBase64(){return nt(vt(this,bt))}toBase58(){return st(vt(this,bt))}parse(){return vt(this,mt).parse(vt(this,bt))}}function It({size:e,...t}){return new At({...t,serializedSize:()=>e})}function Mt({readMethod:e,writeMethod:t,...r}){return It({...r,read:t=>t[e](),write:(e,r)=>r[t](e),validate:e=>{if(e<0||e>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${e}. Expected value in range 0-${r.maxValue}`);r.validate?.(e)}})}function Pt({readMethod:e,writeMethod:t,...r}){return It({...r,read:t=>t[e](),write:(e,r)=>r[t](BigInt(e)),validate:e=>{const t=BigInt(e);if(t<0||t>r.maxValue)throw new TypeError(`Invalid ${r.name} value: ${t}. Expected value in range 0-${r.maxValue}`);r.validate?.(t)}})}mt=new WeakMap,bt=new WeakMap;class Bt extends TypeError{constructor(e,t){let r;const{message:n,explanation:i,...o}=e,{path:s}=e,a=0===s.length?n:`At path: ${s.join(".")} -- ${n}`;super(i??a),null!=i&&(this.cause=a),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function Ot(e){return"object"===typeof e&&null!=e}function Ct(e){return"symbol"===typeof e?e.toString():"string"===typeof e?JSON.stringify(e):`${e}`}function Ut(e,t,r,n){if(!0===e)return;!1===e?e={}:"string"===typeof e&&(e={message:e});const{path:i,branch:o}=t,{type:s}=r,{refinement:a,message:u=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${Ct(n)}\``}=e;return{value:n,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...e,message:u}}function*Nt(e,t,r,n){(function(e){return Ot(e)&&"function"===typeof e[Symbol.iterator]})(e)||(e=[e]);for(const i of e){const e=Ut(i,t,r,n);e&&(yield e)}}function*Rt(e,t,r={}){const{path:n=[],branch:i=[e],coerce:o=!1,mask:s=!1}=r,a={path:n,branch:i};if(o&&(e=t.coercer(e,a),s&&"type"!==t.type&&Ot(t.schema)&&Ot(e)&&!Array.isArray(e)))for(const c in e)void 0===t.schema[c]&&delete e[c];let u="valid";for(const c of t.validator(e,a))c.explanation=r.message,u="not_valid",yield[c,void 0];for(let[c,f,l]of t.entries(e,a)){const t=Rt(f,l,{path:void 0===c?n:[...n,c],branch:void 0===c?i:[...i,f],coerce:o,mask:s,message:r.message});for(const r of t)r[0]?(u=null!=r[0].refinement?"not_refined":"not_valid",yield[r[0],void 0]):o&&(f=r[1],void 0===c?e=f:e instanceof Map?e.set(c,f):e instanceof Set?e.add(f):Ot(e)&&(void 0!==f||c in e)&&(e[c]=f))}if("not_valid"!==u)for(const c of t.refiner(e,a))c.explanation=r.message,u="not_refined",yield[c,void 0];"valid"===u&&(yield[void 0,e])}class Lt{constructor(e){const{type:t,schema:r,validator:n,refiner:i,coercer:o=e=>e,entries:s=function*(){}}=e;this.type=t,this.schema=r,this.entries=s,this.coercer=o,this.validator=n?(e,t)=>Nt(n(e,t),t,this,e):()=>[],this.refiner=i?(e,t)=>Nt(i(e,t),t,this,e):()=>[]}assert(e,t){return function(e,t,r){const n=Dt(e,t,{message:r});if(n[0])throw n[0]}(e,this,t)}create(e,t){return zt(e,this,t)}is(e){return jt(e,this)}mask(e,t){return function(e,t,r){const n=Dt(e,t,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}(e,this,t)}validate(e,t={}){return Dt(e,this,t)}}function zt(e,t,r){const n=Dt(e,t,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function jt(e,t){return!Dt(e,t)[0]}function Dt(e,t,r={}){const n=Rt(e,t,r),i=function(e){const{done:t,value:r}=e.next();return t?void 0:r}(n);if(i[0]){const e=new Bt(i[0],(function*(){for(const e of n)e[0]&&(yield e[0])}));return[e,void 0]}return[void 0,i[1]]}function qt(e,t){return new Lt({type:e,schema:null,validator:t})}function Kt(){return qt("any",(()=>!0))}function Ht(e){return new Lt({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${Ct(e)}`})}function Ft(){return qt("integer",(e=>"number"===typeof e&&!isNaN(e)&&Number.isInteger(e)||`Expected an integer, but received: ${Ct(e)}`))}function Wt(e){const t=Ct(e),r=typeof e;return new Lt({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator:r=>r===e||`Expected the literal \`${t}\`, but received: ${Ct(r)}`})}function $t(){return qt("never",(()=>!1))}function Vt(e){const t=e?Object.keys(e):[],r=$t();return new Lt({type:"object",schema:e||null,*entries(n){if(e&&Ot(n)){const i=new Set(Object.keys(n));for(const r of t)i.delete(r),yield[r,n[r],e[r]];for(const e of i)yield[e,n[e],r]}},validator:e=>Ot(e)||`Expected an object, but received: ${Ct(e)}`,coercer:e=>Ot(e)?{...e}:e})}function Gt(e){return new Lt({...e,validator:(t,r)=>void 0===t||e.validator(t,r),refiner:(t,r)=>void 0===t||e.refiner(t,r)})}function Zt(){return qt("string",(e=>"string"===typeof e||`Expected a string, but received: ${Ct(e)}`))}function Jt(e){const t=e.map((e=>e.type)).join(" | ");return new Lt({type:"union",schema:null,coercer(t){for(const r of e){const[e,n]=r.validate(t,{coerce:!0});if(!e)return n}return t},validator(r,n){const i=[];for(const t of e){const[...e]=Rt(r,t,n),[o]=e;if(!o[0])return[];for(const[t]of e)t&&i.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${Ct(r)}`,...i]}})}function Xt(){return qt("unknown",(()=>!0))}const Yt=class{constructor(e){if(this.types=new Map,this.counter=0,e instanceof Yt)return this.schema=e.schema,void(this.types=new Map(e.types));if(this.schema=e,this.registerAddressType(Yt.ADDRESS,e.addressLength,e.addressEncoding),this.registerVectorType(e.vectorType),e.types&&e.types.structs)for(let t of Object.keys(e.types.structs))this.registerStructType(t,e.types.structs[t]);if(e.types&&e.types.enums)for(let t of Object.keys(e.types.enums))this.registerEnumType(t,e.types.enums[t]);if(e.types&&e.types.aliases)for(let t of Object.keys(e.types.aliases))this.registerAlias(t,e.types.aliases[t]);!1!==e.withPrimitives&&function(e){e.registerType(Qt.U8,(function(e,t){return e.write8(t)}),(function(e){return e.read8()}),(e=>e<256)),e.registerType(Qt.U16,(function(e,t){return e.write16(t)}),(function(e){return e.read16()}),(e=>e<65536)),e.registerType(Qt.U32,(function(e,t){return e.write32(t)}),(function(e){return e.read32()}),(e=>e<=4294967296n)),e.registerType(Qt.U64,(function(e,t){return e.write64(t)}),(function(e){return e.read64()})),e.registerType(Qt.U128,(function(e,t){return e.write128(t)}),(function(e){return e.read128()})),e.registerType(Qt.U256,(function(e,t){return e.write256(t)}),(function(e){return e.read256()})),e.registerType(Qt.BOOL,(function(e,t){return e.write8(t)}),(function(e){return"1"===e.read8().toString(10)})),e.registerType(Qt.STRING,(function(e,t){return e.writeVec(Array.from(t),((e,t)=>e.write8(t.charCodeAt(0))))}),(function(e){return e.readVec((e=>e.read8())).map((e=>String.fromCharCode(Number(e)))).join("")}),(e=>!0)),e.registerType(Qt.HEX,(function(e,t){return e.writeVec(Array.from(ut(t)),((e,t)=>e.write8(t)))}),(function(e){let t=e.readVec((e=>e.read8()));return ct(new Uint8Array(t))})),e.registerType(Qt.BASE58,(function(e,t){return e.writeVec(Array.from(at(t)),((e,t)=>e.write8(t)))}),(function(e){let t=e.readVec((e=>e.read8()));return st(new Uint8Array(t))})),e.registerType(Qt.BASE64,(function(e,t){return e.writeVec(Array.from(tt(t)),((e,t)=>e.write8(t)))}),(function(e){let t=e.readVec((e=>e.read8()));return nt(new Uint8Array(t))}))}(this)}tempKey(){return"bcs-struct-"+ ++this.counter}ser(e,t,r){if("string"===typeof e||Array.isArray(e)){const{name:n,params:i}=this.parseTypeName(e);return this.getTypeInterface(n).encode(this,t,r,i)}if("object"===typeof e){const n=this.tempKey();return new Yt(this).registerStructType(n,e).ser(n,t,r)}throw new Error(`Incorrect type passed into the '.ser()' function. \n${JSON.stringify(e)}`)}de(e,t,r){if("string"===typeof t){if(!r)throw new Error("To pass a string to `bcs.de`, specify encoding");t=function(e,t){switch(t){case"base58":return at(e);case"base64":return tt(e);case"hex":return ut(e);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}(t,r)}if("string"===typeof e||Array.isArray(e)){const{name:r,params:n}=this.parseTypeName(e);return this.getTypeInterface(r).decode(this,t,n)}if("object"===typeof e){const n=new Yt(this),i=this.tempKey();return n.registerStructType(i,e).de(i,t,r)}throw new Error(`Incorrect type passed into the '.de()' function. \n${JSON.stringify(e)}`)}hasType(e){return this.types.has(e)}registerAlias(e,t){return this.types.set(e,t),this}registerType(e,t,r,n=()=>!0){const{name:i,params:o}=this.parseTypeName(e);return this.types.set(i,{encode(e,t,r,n){const i=o.reduce(((e,t,r)=>Object.assign(e,{[t]:n[r]})),{});return this._encodeRaw.call(e,new dt(r),t,n,i)},decode(e,t,r){const n=o.reduce(((e,t,n)=>Object.assign(e,{[t]:r[n]})),{});return this._decodeRaw.call(e,new lt(t),r,n)},_encodeRaw(e,r,o,s){if(n(r))return t.call(this,e,r,o,s);throw new Error(`Validation failed for type ${i}, data: ${r}`)},_decodeRaw(e,t,n){return r.call(this,e,t,n)}}),this}registerBcsType(e,t){return this.registerType(e,((e,r,n)=>{const i=n.map((e=>new At({name:String(e),write:(t,r)=>{const{name:i,params:o}=this.parseTypeName(e),s=this.getTypeInterface(i),a=o.reduce(((e,t,r)=>Object.assign(e,{[t]:n[r]})),{});return s._encodeRaw.call(this,r,t,o,a)},read:()=>{throw new Error("Not implemented")}})));return t(...i).write(r,e),e}),((e,r)=>{const n=r.map((e=>new At({name:String(e),write:(e,t)=>{throw new Error("Not implemented")},read:t=>{const{name:n,params:i}=this.parseTypeName(e),o=this.getTypeInterface(n),s=i.reduce(((e,t,n)=>Object.assign(e,{[t]:r[n]})),{});return o._decodeRaw.call(this,t,i,s)}})));return t(...n).read(e)})),this}registerAddressType(e,t,r="hex"){switch(r){case"base64":return this.registerType(e,(function(e,t){return tt(t).reduce(((e,t)=>e.write8(t)),e)}),(function(e){return nt(e.readBytes(t))}));case"hex":return this.registerType(e,(function(e,t){return ut(t).reduce(((e,t)=>e.write8(t)),e)}),(function(e){return ct(e.readBytes(t))}));default:throw new Error("Unsupported encoding! Use either hex or base64")}}registerVectorType(e){let{name:t,params:r}=this.parseTypeName(e);if(r.length>1)throw new Error("Vector can have only one type parameter; got "+t);return this.registerType(e,(function(t,r,n,i){return t.writeVec(r,((t,r)=>{let o=n[0];if(!o)throw new Error(`Incorrect number of type parameters passed a to vector '${e}'`);let{name:s,params:a}=this.parseTypeName(o);if(this.hasType(s))return this.getTypeInterface(s)._encodeRaw.call(this,t,r,a,i);if(!(s in i))throw new Error(`Unable to find a matching type definition for ${s} in vector; make sure you passed a generic`);let{name:u,params:c}=this.parseTypeName(i[s]);return this.getTypeInterface(u)._encodeRaw.call(this,t,r,c,i)}))}),(function(t,r,n){return t.readVec((t=>{let i=r[0];if(!i)throw new Error(`Incorrect number of type parameters passed to a vector '${e}'`);let{name:o,params:s}=this.parseTypeName(i);if(this.hasType(o))return this.getTypeInterface(o)._decodeRaw.call(this,t,s,n);if(!(o in n))throw new Error(`Unable to find a matching type definition for ${o} in vector; make sure you passed a generic`);let{name:a,params:u}=this.parseTypeName(n[o]);return this.getTypeInterface(a)._decodeRaw.call(this,t,u,n)}))}))}registerStructType(e,t){for(let s in t){let e=this.tempKey(),r=t[s];Array.isArray(r)||"string"===typeof r||(t[s]=e,this.registerStructType(e,r))}let r=Object.freeze(t),n=Object.keys(r),{name:i,params:o}=this.parseTypeName(e);return this.registerType(e,(function(e,t,s,a){if(!t||t.constructor!==Object)throw new Error(`Expected ${i} to be an Object, got: ${t}`);if(s.length!==o.length)throw new Error(`Incorrect number of generic parameters passed; expected: ${o.length}, got: ${s.length}`);for(let u of n){if(!(u in t))throw new Error(`Struct ${i} requires field ${u}:${r[u]}`);const{name:n,params:c}=this.parseTypeName(r[u]);if(o.includes(n)){const r=o.indexOf(n);let{name:c,params:f}=this.parseTypeName(s[r]);if(this.hasType(c)){this.getTypeInterface(c)._encodeRaw.call(this,e,t[u],f,a);continue}if(!(c in a))throw new Error(`Unable to find a matching type definition for ${c} in ${i}; make sure you passed a generic`);let{name:l,params:h}=this.parseTypeName(a[c]);this.getTypeInterface(l)._encodeRaw.call(this,e,t[u],h,a)}else this.getTypeInterface(n)._encodeRaw.call(this,e,t[u],c,a)}return e}),(function(e,t,s){if(t.length!==o.length)throw new Error(`Incorrect number of generic parameters passed; expected: ${o.length}, got: ${t.length}`);let a={};for(let u of n){const{name:n,params:c}=this.parseTypeName(r[u]);if(o.includes(n)){const r=o.indexOf(n);let{name:c,params:f}=this.parseTypeName(t[r]);if(this.hasType(c)){a[u]=this.getTypeInterface(c)._decodeRaw.call(this,e,f,s);continue}if(!(c in s))throw new Error(`Unable to find a matching type definition for ${c} in ${i}; make sure you passed a generic`);let{name:l,params:h}=this.parseTypeName(s[c]);a[u]=this.getTypeInterface(l)._decodeRaw.call(this,e,h,s)}else a[u]=this.getTypeInterface(n)._decodeRaw.call(this,e,c,s)}return a}))}registerEnumType(e,t){for(let s in t){let e=this.tempKey(),r=t[s];null===r||Array.isArray(r)||"string"===typeof r||(t[s]=e,this.registerStructType(e,r))}let r=Object.freeze(t),n=Object.keys(r),{name:i,params:o}=this.parseTypeName(e);return this.registerType(e,(function(e,t,s,a){if(!t)throw new Error(`Unable to write enum "${i}", missing data.\nReceived: "${t}"`);if("object"!==typeof t)throw new Error(`Incorrect data passed into enum "${i}", expected object with properties: "${n.join(" | ")}".\nReceived: "${JSON.stringify(t)}"`);let u=Object.keys(t)[0];if(void 0===u)throw new Error(`Empty object passed as invariant of the enum "${i}"`);let c=n.indexOf(u);if(-1===c)throw new Error(`Unknown invariant of the enum "${i}", allowed values: "${n.join(" | ")}"; received "${u}"`);let f=n[c],l=r[f];if(e.write8(c),null===l)return e;let h=o.indexOf(l),d=-1===h?l:s[h];{let{name:r,params:n}=this.parseTypeName(d);return this.getTypeInterface(r)._encodeRaw.call(this,e,t[u],n,a)}}),(function(e,t,s){let a=e.readULEB(),u=n[a],c=r[u];if(-1===a)throw new Error(`Decoding type mismatch, expected enum "${i}" invariant index, received "${a}"`);if(null===c)return{[u]:!0};let f=o.indexOf(c),l=-1===f?c:t[f];{let{name:t,params:r}=this.parseTypeName(l);return{[u]:this.getTypeInterface(t)._decodeRaw.call(this,e,r,s)}}}))}getTypeInterface(e){let t=this.types.get(e);if("string"===typeof t){let e=[];for(;"string"===typeof t;){if(e.includes(t))throw new Error(`Recursive definition found: ${e.join(" -> ")} -> ${t}`);e.push(t),t=this.types.get(t)}}if(void 0===t)throw new Error(`Type ${e} is not registered`);return t}parseTypeName(e){if(Array.isArray(e)){let[t,...r]=e;return{name:t,params:r}}if("string"!==typeof e)throw new Error(`Illegal type passed as a name of the type: ${e}`);let[t,r]=this.schema.genericSeparators||["<",">"],n=e.indexOf(t),i=Array.from(e).reverse().indexOf(r);if(-1===n&&-1===i)return{name:e,params:[]};if(-1===n||-1===i)throw new Error(`Unclosed generic in name '${e}'`);return{name:e.slice(0,n),params:ht(e.slice(n+1,e.length-i-1),this.schema.genericSeparators)}}};let Qt=Yt;Qt.U8="u8",Qt.U16="u16",Qt.U32="u32",Qt.U64="u64",Qt.U128="u128",Qt.U256="u256",Qt.BOOL="bool",Qt.VECTOR="vector",Qt.ADDRESS="address",Qt.STRING="string",Qt.HEX="hex-string",Qt.BASE58="base58-string",Qt.BASE64="base64-string";const er={u8:e=>Mt({name:"u8",readMethod:"read8",writeMethod:"write8",size:1,maxValue:255,...e}),u16:e=>Mt({name:"u16",readMethod:"read16",writeMethod:"write16",size:2,maxValue:65535,...e}),u32:e=>Mt({name:"u32",readMethod:"read32",writeMethod:"write32",size:4,maxValue:2**32-1,...e}),u64:e=>Pt({name:"u64",readMethod:"read64",writeMethod:"write64",size:8,maxValue:2n**64n-1n,...e}),u128:e=>Pt({name:"u128",readMethod:"read128",writeMethod:"write128",size:16,maxValue:2n**128n-1n,...e}),u256:e=>Pt({name:"u256",readMethod:"read256",writeMethod:"write256",size:32,maxValue:2n**256n-1n,...e}),bool:e=>It({name:"bool",size:1,read:e=>1===e.read8(),write:(e,t)=>t.write8(e?1:0),...e,validate:t=>{if(e?.validate?.(t),"boolean"!==typeof t)throw new TypeError("Expected boolean, found "+typeof t)}}),uleb128:e=>function({serialize:e,...t}){const r=new At({...t,serialize:e,write:(e,t)=>{for(const n of r.serialize(e).toBytes())t.write8(n)}});return r}({name:"uleb128",read:e=>e.readULEB(),serialize:e=>Uint8Array.from(ft(e)),...e}),bytes:(e,t)=>It({name:`bytes[${e}]`,size:e,read:t=>t.readBytes(e),write:(t,r)=>{for(let n=0;n<e;n++)r.write8(t[n]??0)},...t,validate:r=>{if(t?.validate?.(r),!("length"in r))throw new TypeError("Expected array, found "+typeof r);if(r.length!==e)throw new TypeError(`Expected array of length ${e}, found ${r.length}`)}}),string:e=>function({toBytes:e,fromBytes:t,...r}){return new At({...r,read:e=>{const r=e.readULEB(),n=e.readBytes(r);return t(n)},write:(t,r)=>{const n=e(t);r.writeULEB(n.length);for(let e=0;e<n.length;e++)r.write8(n[e])},serialize:t=>{const r=e(t),n=ft(r.length),i=new Uint8Array(n.length+r.length);return i.set(n,0),i.set(r,n.length),i},validate:e=>{if("string"!==typeof e)throw new TypeError(`Invalid ${r.name} value: ${e}. Expected string`);r.validate?.(e)}})}({name:"string",toBytes:e=>(new TextEncoder).encode(e),fromBytes:e=>(new TextDecoder).decode(e),...e}),fixedArray:(e,t,r)=>new At({name:`${t.name}[${e}]`,read:r=>{const n=new Array(e);for(let i=0;i<e;i++)n[i]=t.read(r);return n},write:(e,r)=>{for(const n of e)t.write(n,r)},...r,validate:t=>{if(r?.validate?.(t),!("length"in t))throw new TypeError("Expected array, found "+typeof t);if(t.length!==e)throw new TypeError(`Expected array of length ${e}, found ${t.length}`)}}),option:e=>er.enum(`Option<${e.name}>`,{None:null,Some:e}).transform({input:e=>null==e?{None:!0}:{Some:e},output:e=>"Some"in e?e.Some:null}),vector:(e,t)=>new At({name:`vector<${e.name}>`,read:t=>{const r=t.readULEB(),n=new Array(r);for(let i=0;i<r;i++)n[i]=e.read(t);return n},write:(t,r)=>{r.writeULEB(t.length);for(const n of t)e.write(n,r)},...t,validate:e=>{if(t?.validate?.(e),!("length"in e))throw new TypeError("Expected array, found "+typeof e)}}),tuple:(e,t)=>new At({name:`(${e.map((e=>e.name)).join(", ")})`,serializedSize:t=>{let r=0;for(let n=0;n<e.length;n++){const i=e[n].serializedSize(t[n]);if(null==i)return null;r+=i}return r},read:t=>{const r=[];for(const n of e)r.push(n.read(t));return r},write:(t,r)=>{for(let n=0;n<e.length;n++)e[n].write(t[n],r)},...t,validate:r=>{if(t?.validate?.(r),!Array.isArray(r))throw new TypeError("Expected array, found "+typeof r);if(r.length!==e.length)throw new TypeError(`Expected array of length ${e.length}, found ${r.length}`)}}),struct(e,t,r){const n=Object.entries(t);return new At({name:e,serializedSize:e=>{let t=0;for(const[r,i]of n){const n=i.serializedSize(e[r]);if(null==n)return null;t+=n}return t},read:e=>{const t={};for(const[r,i]of n)t[r]=i.read(e);return t},write:(e,t)=>{for(const[r,i]of n)i.write(e[r],t)},...r,validate:e=>{if(r?.validate?.(e),"object"!==typeof e||null==e)throw new TypeError("Expected object, found "+typeof e)}})},enum(e,t,r){const n=Object.entries(t);return new At({name:e,read:e=>{const t=e.readULEB(),[r,i]=n[t];return{[r]:i?.read(e)??!0}},write:(e,t)=>{const[r,i]=Object.entries(e)[0];for(let o=0;o<n.length;o++){const[e,s]=n[o];if(e===r)return t.writeULEB(o),void s?.write(i,t)}},...r,validate:e=>{if(r?.validate?.(e),"object"!==typeof e||null==e)throw new TypeError("Expected object, found "+typeof e);const n=Object.keys(e);if(1!==n.length)throw new TypeError(`Expected object with one key, found ${n.length}`);const[i]=n;if(!Object.hasOwnProperty.call(t,i))throw new TypeError(`Invalid enum variant ${i}`)}})},map:(e,t)=>er.vector(er.tuple([e,t])).transform({name:`Map<${e.name}, ${t.name}>`,input:e=>[...e.entries()],output:e=>{const t=new Map;for(const[r,n]of e)t.set(r,n);return t}}),generic:(e,t)=>(...e)=>t(...e).transform({name:`${t.name}<${e.map((e=>e.name)).join(", ")}>`,input:e=>e,output:e=>e}),lazy:e=>function(e){let t=null;function r(){return t||(t=e()),t}return new At({name:"lazy",read:e=>r().read(e),serializedSize:e=>r().serializedSize(e),write:(e,t)=>r().write(e,t),serialize:(e,t)=>r().serialize(e,t).toBytes()})}(e)};function tr(e){try{return 32===at(e).length}catch(tp){return!1}}function rr(e){return function(e){return/^(0x|0X)?[a-fA-F0-9]+$/.test(e)&&e.length%2===0}(e)&&32===function(e){return/^(0x|0X)/.test(e)?(e.length-2)/2:e.length/2}(e)}function nr(e){return rr(e)}function ir(e,t=!1){let r=e.toLowerCase();return!t&&r.startsWith("0x")&&(r=r.slice(2)),`0x${r.padStart(64,"0")}`}function or(e,t=!1){return ir(e,t)}const sr=/^vector<(.+)>$/,ar=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/;class ur{static parseFromStr(e,t=!1){if("address"===e)return{address:null};if("bool"===e)return{bool:null};if("u8"===e)return{u8:null};if("u16"===e)return{u16:null};if("u32"===e)return{u32:null};if("u64"===e)return{u64:null};if("u128"===e)return{u128:null};if("u256"===e)return{u256:null};if("signer"===e)return{signer:null};const r=e.match(sr);if(r)return{vector:ur.parseFromStr(r[1],t)};const n=e.match(ar);if(n){return{struct:{address:t?ir(n[1]):n[1],module:n[2],name:n[3],typeParams:void 0===n[5]?[]:ur.parseStructTypeArgs(n[5],t)}}}throw new Error(`Encountered unexpected token when parsing type args for ${e}`)}static parseStructTypeArgs(e,t=!1){return ht(e).map((e=>ur.parseFromStr(e,t)))}static tagToString(e){if("bool"in e)return"bool";if("u8"in e)return"u8";if("u16"in e)return"u16";if("u32"in e)return"u32";if("u64"in e)return"u64";if("u128"in e)return"u128";if("u256"in e)return"u256";if("address"in e)return"address";if("signer"in e)return"signer";if("vector"in e)return`vector<${ur.tagToString(e.vector)}>`;if("struct"in e){const t=e.struct,r=t.typeParams.map(ur.tagToString).join(", ");return`${t.address}::${t.module}::${t.name}${r?`<${r}>`:""}`}throw new Error("Invalid TypeTag")}}const cr=new Qt({genericSeparators:["<",">"],vectorType:"vector",addressLength:32,addressEncoding:"hex",types:{enums:{"Option<T>":{None:null,Some:"T"}}}});function fr(e){return er.u64({name:"unsafe_u64",...e}).transform({input:e=>e,output:e=>Number(e)})}function lr(e){return e.transform({input:e=>({[e.kind]:e}),output:e=>{const t=Object.keys(e)[0];return{kind:t,...e[t]}}})}const hr=er.bytes(32).transform({input:e=>"string"===typeof e?ut(ir(e)):e,output:e=>ir(ct(e))}),dr=er.vector(er.u8()).transform({name:"ObjectDigest",input:e=>at(e),output:e=>st(new Uint8Array(e))}),pr=er.struct("SuiObjectRef",{objectId:hr,version:er.u64(),digest:dr}),gr=er.struct("SharedObjectRef",{objectId:hr,initialSharedVersion:er.u64(),mutable:er.bool()}),yr=er.enum("ObjectArg",{ImmOrOwned:pr,Shared:gr,Receiving:pr}),mr=er.enum("CallArg",{Pure:er.vector(er.u8()),Object:yr,ObjVec:er.vector(yr)}),br=er.enum("TypeTag",{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:er.lazy((()=>br)),struct:er.lazy((()=>xr)),u16:null,u32:null,u256:null}),wr=lr(er.enum("Argument",{GasCoin:null,Input:er.struct("Input",{index:er.u16()}),Result:er.struct("Result",{index:er.u16()}),NestedResult:er.struct("NestedResult",{index:er.u16(),resultIndex:er.u16()})})),vr=er.struct("ProgrammableMoveCall",{package:hr,module:er.string(),function:er.string(),type_arguments:er.vector(br),arguments:er.vector(wr)}).transform({input:e=>{const[t,r,n]=e.target.split("::"),i=e.typeArguments.map((e=>ur.parseFromStr(e,!0)));return{package:ir(t),module:r,function:n,type_arguments:i,arguments:e.arguments}},output:e=>({target:[e.package,e.module,e.function].join("::"),arguments:e.arguments,typeArguments:e.type_arguments.map(ur.tagToString)})}),_r=lr(er.enum("Transaction",{MoveCall:vr,TransferObjects:er.struct("TransferObjects",{objects:er.vector(wr),address:wr}),SplitCoins:er.struct("SplitCoins",{coin:wr,amounts:er.vector(wr)}),MergeCoins:er.struct("MergeCoins",{destination:wr,sources:er.vector(wr)}),Publish:er.struct("Publish",{modules:er.vector(er.vector(er.u8())),dependencies:er.vector(hr)}),MakeMoveVec:er.struct("MakeMoveVec",{type:function(e){return er.enum("Option",{None:null,Some:e})}(br),objects:er.vector(wr)}),Upgrade:er.struct("Upgrade",{modules:er.vector(er.vector(er.u8())),dependencies:er.vector(hr),packageId:hr,ticket:wr})})),Sr=er.struct("ProgrammableTransaction",{inputs:er.vector(mr),transactions:er.vector(_r)}),Er=er.enum("TransactionKind",{ProgrammableTransaction:Sr,ChangeEpoch:null,Genesis:null,ConsensusCommitPrologue:null}),Ar=er.enum("TransactionExpiration",{None:null,Epoch:fr()}),xr=er.struct("StructTag",{address:hr,module:er.string(),name:er.string(),typeParams:er.vector(br)}),kr=er.struct("GasData",{payment:er.vector(pr),owner:hr,price:er.u64(),budget:er.u64()}),Tr=er.struct("TransactionDataV1",{kind:Er,sender:hr,gasData:kr,expiration:Ar}),Ir=er.enum("TransactionData",{V1:Tr}),Mr=er.enum("IntentScope",{TransactionData:null,TransactionEffects:null,CheckpointSummary:null,PersonalMessage:null}),Pr=er.enum("IntentVersion",{V0:null}),Br=er.enum("AppId",{Sui:null}),Or=er.struct("Intent",{scope:Mr,version:Pr,appId:Br}),Cr=er.generic(["T"],(e=>er.struct("IntentMessage<T>",{intent:Or,value:e}))),Ur=er.enum("CompressedSignature",{ED25519:er.fixedArray(64,er.u8()),Secp256k1:er.fixedArray(64,er.u8()),Secp256r1:er.fixedArray(64,er.u8()),ZkLogin:er.vector(er.u8())}),Nr=er.enum("PublicKey",{ED25519:er.fixedArray(32,er.u8()),Secp256k1:er.fixedArray(33,er.u8()),Secp256r1:er.fixedArray(33,er.u8()),ZkLogin:er.vector(er.u8())}),Rr=er.struct("MultiSigPkMap",{pubKey:Nr,weight:er.u8()}),Lr=er.struct("MultiSigPublicKey",{pk_map:er.vector(Rr),threshold:er.u16()}),zr=er.struct("MultiSig",{sigs:er.vector(Ur),bitmap:er.u16(),multisig_pk:Lr}),jr=er.vector(er.u8()).transform({input:e=>"string"===typeof e?tt(e):e,output:e=>nt(new Uint8Array(e))}),Dr=er.struct("SenderSignedTransaction",{intentMessage:Cr(Ir),txSignatures:er.vector(jr)}),qr=er.vector(Dr,{name:"SenderSignedData"}),Kr={...er,U8:er.u8(),U16:er.u16(),U32:er.u32(),U64:er.u64(),U128:er.u128(),U256:er.u256(),ULEB128:er.uleb128(),Bool:er.bool(),String:er.string(),Address:hr,Argument:wr,CallArg:mr,CompressedSignature:Ur,GasData:kr,MultiSig:zr,MultiSigPkMap:Rr,MultiSigPublicKey:Lr,ObjectArg:yr,ObjectDigest:dr,ProgrammableMoveCall:vr,ProgrammableTransaction:Sr,PublicKey:Nr,SenderSignedData:qr,SenderSignedTransaction:Dr,SharedObjectRef:gr,StructTag:xr,SuiObjectRef:pr,Transaction:_r,TransactionData:Ir,TransactionDataV1:Tr,TransactionExpiration:Ar,TransactionKind:Er,TypeTag:br,ser:cr.ser.bind(cr),de:cr.de.bind(cr),getTypeInterface:cr.getTypeInterface.bind(cr),hasType:cr.hasType.bind(cr),parseTypeName:cr.parseTypeName.bind(cr),registerAddressType:cr.registerAddressType.bind(cr),registerAlias:cr.registerAlias.bind(cr),registerBcsType:cr.registerBcsType.bind(cr),registerEnumType:cr.registerEnumType.bind(cr),registerStructType:cr.registerStructType.bind(cr),registerType:cr.registerType.bind(cr),types:cr.types};cr.registerBcsType("utf8string",(()=>er.string({name:"utf8string"}))),cr.registerBcsType("unsafe_u64",(()=>fr())),cr.registerBcsType("enumKind",(e=>lr(e))),[hr,wr,mr,Ur,kr,zr,Rr,Lr,yr,dr,vr,Sr,Nr,qr,gr,xr,pr,_r,Ir,Tr,Ar,Er,br].forEach((e=>{cr.registerBcsType(e.name,(()=>e))}));BigInt(1e9);const Hr="0x1",Fr=(or("0x6"),or("0x5"),Vt({digest:Zt(),objectId:Zt(),version:Jt([qt("number",(e=>"number"===typeof e&&!isNaN(e)||`Expected a number, but received: ${Ct(e)}`)),Zt(),qt("bigint",(e=>"bigint"===typeof e))])})),Wr=Jt([Vt({ImmOrOwned:Fr}),Vt({Shared:Vt({objectId:Zt(),initialSharedVersion:Jt([Ft(),Zt()]),mutable:qt("boolean",(e=>"boolean"===typeof e))})}),Vt({Receiving:Fr})]),$r=Vt({Pure:Ht(Ft())}),Vr=Vt({Object:Wr}),Gr=Jt([$r,Vr]);const Zr={Pure:function(e,t){return{Pure:Array.from(e instanceof Uint8Array?e:kt(e)?e.toBytes():Kr.ser(t,e,{maxSize:1/0}).toBytes())}},ObjectRef:({objectId:e,digest:t,version:r})=>({Object:{ImmOrOwned:{digest:t,version:r,objectId:ir(e)}}}),SharedObjectRef:({objectId:e,mutable:t,initialSharedVersion:r})=>({Object:{Shared:{mutable:t,initialSharedVersion:r,objectId:ir(e)}}}),ReceivingRef:({objectId:e,digest:t,version:r})=>({Object:{Receiving:{digest:t,version:r,objectId:ir(e)}}})};function Jr(e){return"object"===typeof e&&"Object"in e&&"Shared"in e.Object?e.Object.Shared:void 0}function Xr(e,t){return zt(e,t)}function Yr(e){return"object"===typeof e&&"MutableReference"in e?e.MutableReference:void 0}function Qr(e){return"object"===typeof e&&"Reference"in e?e.Reference:void 0}function en(e){if("object"===typeof e&&"Struct"in e)return e;const t=Qr(e),r=Yr(e);return"object"===typeof t&&"Struct"in t?t:"object"===typeof r&&"Struct"in r?r:void 0}const tn={address:"0x2",module:"object",name:"ID"},rn={address:Hr,module:"ascii",name:"String"},nn={address:Hr,module:"string",name:"String"},on={address:Hr,module:"option",name:"Option"},sn=(e,t)=>e.address===t.address&&e.module===t.module&&e.name===t.name;function an(e,t){if("undefined"!==typeof t&&typeof t!==e)throw new Error(`Expect ${t} to be ${e}, received ${typeof t}`)}const un=["Address","Bool","U8","U16","U32","U64","U128","U256"];function cn(e,t){if("string"===typeof e&&un.includes(e)){if(e in["U8","U16","U32","U64","U128","U256"])an("number",t);else if("Bool"===e)an("boolean",t);else if("Address"===e&&(an("string",t),t&&!rr(t)))throw new Error("Invalid Sui Address");return e.toLowerCase()}if("string"===typeof e)throw new Error(`Unknown pure normalized type ${JSON.stringify(e,null,2)}`);if("Vector"in e){if((void 0===t||"string"===typeof t)&&"U8"===e.Vector)return"string";if(void 0!==t&&!Array.isArray(t))throw new Error(`Expect ${t} to be a array, received ${typeof t}`);const r=cn(e.Vector,t?t[0]:void 0);if(void 0===r)return;return`vector<${r}>`}if("Struct"in e){if(sn(e.Struct,rn))return"string";if(sn(e.Struct,nn))return"utf8string";if(sn(e.Struct,tn))return"address";if(sn(e.Struct,on)){return cn({Vector:e.Struct.typeArguments[0]},t)}}}const fn=Jt([Vt({kind:Wt("Input"),index:Ft(),value:Gt(Kt()),type:Gt(Wt("object"))}),Vt({kind:Wt("Input"),index:Ft(),value:Gt(Kt()),type:Wt("pure")})]),ln=Jt([...[fn,Vt({kind:Wt("GasCoin")}),Vt({kind:Wt("Result"),index:Ft()}),Vt({kind:Wt("NestedResult"),index:Ft(),resultIndex:Ft()})]]),hn=Vt({kind:Wt("MoveCall"),target:qt("target",Zt().validator),typeArguments:Ht(Zt()),arguments:Ht(ln)}),dn=Vt({kind:Wt("TransferObjects"),objects:Ht(ln),address:ln}),pn=Vt({kind:Wt("SplitCoins"),coin:ln,amounts:Ht(ln)}),gn=Vt({kind:Wt("MergeCoins"),destination:ln,sources:Ht(ln)}),yn=Vt({kind:Wt("MakeMoveVec"),type:Gt((bn=Zt(),wn=Xt(),mn=new Lt({type:"record",schema:null,*entries(e){if(Ot(e))for(const t in e){const r=e[t];yield[t,t,bn],yield[t,r,wn]}},validator:e=>Ot(e)||`Expected an object, but received: ${Ct(e)}`}),Jt([Vt({None:Jt([Wt(!0),Wt(null)])}),Vt({Some:mn})]))),objects:Ht(ln)});var mn,bn,wn;const vn=Vt({kind:Wt("Publish"),modules:Ht(Ht(Ft())),dependencies:Ht(Zt())});const _n=Vt({kind:Wt("Upgrade"),modules:Ht(Ht(Ft())),dependencies:Ht(Zt()),packageId:Zt(),ticket:ln}),Sn=[hn,dn,pn,gn,vn,_n,yn];Jt([...Sn]);var En,An,xn,kn,Tn,In,Mn,Pn,Bn,On,Cn,Un=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},Nn=(e,t,r)=>(Un(e,t,"read from private field"),r?r.call(e):t.get(e)),Rn=(e,t,r)=>(Un(e,t,"access private method"),r);const Ln={maxPureArgumentSize:16384,maxTxGas:5e10,maxGasObjects:256,maxTxSizeBytes:131072};function zn(e){if(!e.client)throw new Error("No provider passed to Transaction#build, but transaction data was not sufficient to build offline.");return e.client}const jn=Symbol.for("@mysten/transaction"),Dn={maxTxGas:"max_tx_gas",maxGasObjects:"max_gas_payment_objects",maxTxSizeBytes:"max_tx_size_bytes",maxPureArgumentSize:"max_pure_argument_size"};En=new WeakMap,new WeakSet,new WeakSet,An=new WeakSet,xn=function(e,{protocolConfig:t,limits:r}){if(r&&"number"===typeof r[e])return r[e];if(!t)return Ln[e];const n=t?.attributes[Dn[e]];if(!n)throw new Error(`Missing expected protocol config: "${Dn[e]}"`);const i="u64"in n?n.u64:"u32"in n?n.u32:n.f64;if(!i)throw new Error(`Unexpected protocol config value found for: "${Dn[e]}"`);return Number(i)},kn=new WeakSet,Tn=function(e){const t=Rn(this,An,xn).call(this,"maxPureArgumentSize",e);Nn(this,En).inputs.forEach(((e,r)=>{if(jt(e.value,$r)&&e.value.Pure.length>t)throw new Error(`Input at index ${r} is too large, max pure input size is ${t} bytes, got ${e.value.Pure.length} bytes`)}))},In=new WeakSet,Mn=async function(e){if(Nn(this,En).gasConfig.payment){const t=Rn(this,An,xn).call(this,"maxGasObjects",e);if(Nn(this,En).gasConfig.payment.length>t)throw new Error(`Payment objects exceed maximum amount: ${t}`)}if(e.onlyTransactionKind||Nn(this,En).gasConfig.payment)return;const t=Nn(this,En).gasConfig.owner??Nn(this,En).sender,r=(await zn(e).getCoins({owner:t,coinType:"0x2::sui::SUI"})).data.filter((e=>!Nn(this,En).inputs.find((t=>!!(jt(t.value,Gr)&&"Object"in t.value&&"ImmOrOwned"in t.value.Object)&&e.coinObjectId===t.value.Object.ImmOrOwned.objectId)))).slice(0,Rn(this,An,xn).call(this,"maxGasObjects",e)-1).map((e=>({objectId:e.coinObjectId,digest:e.digest,version:e.version})));if(!r.length)throw new Error("No valid gas coins found for the transaction.");this.setGasPayment(r)},Pn=new WeakSet,Bn=async function(e){e.onlyTransactionKind||Nn(this,En).gasConfig.price||this.setGasPrice(await zn(e).getReferenceGasPrice())},On=new WeakSet,Cn=async function(e){const{inputs:t,transactions:r}=Nn(this,En),n=[],i=[];if(t.forEach((e=>{"object"!==e.type||"string"!==typeof e.value||i.push({id:ir(e.value),input:e})})),r.forEach((e=>{if("MoveCall"===e.kind){e.arguments.some((e=>"Input"===e.kind&&!jt(t[e.index].value,Gr)))&&n.push(e)}if("SplitCoins"===e.kind&&e.amounts.forEach((e=>{if("Input"===e.kind){const r=t[e.index];"object"!==typeof r.value&&(r.value=Zr.Pure(Kr.U64.serialize(r.value)))}})),"TransferObjects"===e.kind&&"Input"===e.address.kind){const r=t[e.address.index];"object"!==typeof r.value&&(r.value=Zr.Pure(Kr.Address.serialize(r.value)))}})),n.length&&await Promise.all(n.map((async r=>{const[n,o,s]=r.target.split("::"),a=await zn(e).getNormalizedMoveFunction({package:or(n),module:o,function:s}),u=a.parameters.length>0&&function(e){const t=en(e)?.Struct;return"0x2"===t?.address&&"tx_context"===t?.module&&"TxContext"===t?.name}(a.parameters.at(-1)),c=u?a.parameters.slice(0,a.parameters.length-1):a.parameters;if(c.length!==r.arguments.length)throw new Error("Incorrect number of arguments.");c.forEach(((e,n)=>{const o=r.arguments[n];if("Input"!==o.kind)return;const s=t[o.index];if(jt(s.value,Gr))return;const a=s.value,u=cn(e,a);if(u)return void(s.value=Zr.Pure(a,u));if(!(null!=en(e)||"object"===typeof e&&"TypeParameter"in e))throw new Error(`Unknown call arg type ${JSON.stringify(e,null,2)} for value ${JSON.stringify(a,null,2)}`);if("string"!==typeof a)throw new Error(`Expect the argument to be an object id string, got ${JSON.stringify(a,null,2)}`);i.push({id:a,input:s,normalizedType:e})}))}))),i.length){const t=[...new Set(i.map((({id:e})=>e)))],r=((e,t)=>Array.from({length:Math.ceil(e.length/t)},((r,n)=>e.slice(n*t,n*t+t))))(t,50),n=(await Promise.all(r.map((t=>zn(e).multiGetObjects({ids:t,options:{showOwner:!0}}))))).flat();let o=new Map(t.map(((e,t)=>[e,n[t]])));const s=Array.from(o).filter((([e,t])=>t.error)).map((([e,t])=>e));if(s.length)throw new Error(`The following input objects are invalid: ${s.join(", ")}`);i.forEach((({id:e,input:t,normalizedType:r})=>{const n=o.get(e),i=n.data?.owner,s=i&&"object"===typeof i&&"Shared"in i?i.Shared.initial_shared_version:void 0;if(s){const n=null!=r&&null==Yr(r)&&null==Qr(r),i=(a=t.value,(Jr(a)?.mutable??!1)||n||null!=r&&null!=Yr(r));t.value=Zr.SharedObjectRef({objectId:e,initialSharedVersion:s,mutable:i})}else r&&function(e){const t=en(e);return!!t&&"0x2"===t.Struct.address&&"transfer"===t.Struct.module&&"Receiving"===t.Struct.name}(r)?t.value=Zr.ReceivingRef(n.data):t.value=Zr.ObjectRef(n.data);var a}))}},new WeakSet;const qn={"-32700":"ParseError","-32600":"InvalidRequest","-32601":"MethodNotFound","-32602":"InvalidParams","-32603":"InternalError"};class Kn extends Error{}class Hn extends Kn{constructor(e,t){super(e),this.code=t,this.type=qn[t]??"ServerError"}}class Fn extends Kn{constructor(e,t,r){super(e),this.status=t,this.statusText=r}}var Wn,$n,Vn,Gn,Zn,Jn,Xn,Yn,Qn,ei,ti=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},ri=(e,t,r)=>(ti(e,t,"read from private field"),r?r.call(e):t.get(e)),ni=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},ii=(e,t,r,n)=>(ti(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),oi=(e,t,r)=>(ti(e,t,"access private method"),r);const si={WebSocketConstructor:"undefined"!==typeof WebSocket?WebSocket:void 0,callTimeout:3e4,reconnectTimeout:3e3,maxReconnects:5};class ai{constructor(e,t={}){if(ni(this,Xn),ni(this,Qn),ni(this,Wn,0),ni(this,$n,0),ni(this,Vn,null),ni(this,Gn,null),ni(this,Zn,new Set),ni(this,Jn,new Map),this.endpoint=e,this.options={...si,...t},!this.options.WebSocketConstructor)throw new Error("Missing WebSocket constructor");this.endpoint.startsWith("http")&&(this.endpoint=function(e){const t=new URL(e);return t.protocol=t.protocol.replace("http","ws"),t.toString()}(this.endpoint))}async makeRequest(e,t){const r=await oi(this,Xn,Yn).call(this);return new Promise(((n,i)=>{ii(this,Wn,ri(this,Wn)+1),ri(this,Jn).set(ri(this,Wn),{resolve:n,reject:i,timeout:setTimeout((()=>{ri(this,Jn).delete(ri(this,Wn)),i(new Error(`Request timeout: ${e}`))}),this.options.callTimeout)}),r.send(JSON.stringify({jsonrpc:"2.0",id:ri(this,Wn),method:e,params:t}))})).then((({error:e,result:t})=>{if(e)throw new Hn(e.message,e.code);return t}))}async subscribe(e){const t=new ui(e);return ri(this,Zn).add(t),await t.subscribe(this),()=>t.unsubscribe(this)}}Wn=new WeakMap,$n=new WeakMap,Vn=new WeakMap,Gn=new WeakMap,Zn=new WeakMap,Jn=new WeakMap,Xn=new WeakSet,Yn=function(){return ri(this,Gn)||ii(this,Gn,new Promise((e=>{ri(this,Vn)?.close(),ii(this,Vn,new this.options.WebSocketConstructor(this.endpoint)),ri(this,Vn).addEventListener("open",(()=>{ii(this,$n,0),e(ri(this,Vn))})),ri(this,Vn).addEventListener("close",(()=>{var e,t,r,n;(e=this,t=$n,{set _(n){ii(e,t,n,r)},get _(){return ri(e,t,n)}})._++,ri(this,$n)<=this.options.maxReconnects&&setTimeout((()=>{oi(this,Qn,ei).call(this)}),this.options.reconnectTimeout)})),ri(this,Vn).addEventListener("message",(({data:e})=>{let t;try{t=JSON.parse(e)}catch(r){return void console.error(new Error(`Failed to parse RPC message: ${e}`,{cause:r}))}if("id"in t&&null!=t.id&&ri(this,Jn).has(t.id)){const{resolve:e,timeout:r}=ri(this,Jn).get(t.id);clearTimeout(r),e(t)}else if("params"in t){const{params:e}=t;ri(this,Zn).forEach((t=>{t.subscriptionId===e.subscription&&e.subscription===t.subscriptionId&&t.onMessage(e.result)}))}}))}))),ri(this,Gn)},Qn=new WeakSet,ei=async function(){return ri(this,Vn)?.close(),ii(this,Gn,null),Promise.allSettled([...ri(this,Zn)].map((e=>e.subscribe(this))))};class ui{constructor(e){this.subscriptionId=null,this.subscribed=!1,this.input=e}onMessage(e){this.subscribed&&this.input.onMessage(e)}async unsubscribe(e){const{subscriptionId:t}=this;return this.subscribed=!1,null!=t&&(this.subscriptionId=null,e.makeRequest(this.input.unsubscribe,[t]))}async subscribe(e){this.subscriptionId=null,this.subscribed=!0;const t=await e.makeRequest(this.input.method,this.input.params);this.subscribed&&(this.subscriptionId=t)}}var ci,fi,li,hi,di,pi=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},gi=(e,t,r)=>(pi(e,t,"read from private field"),r?r.call(e):t.get(e)),yi=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},mi=(e,t,r,n)=>(pi(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);class bi{constructor(e){yi(this,hi),yi(this,ci,0),yi(this,fi,void 0),yi(this,li,void 0),mi(this,fi,e)}fetch(e,t){const r=gi(this,fi).fetch??globalThis.fetch;if(!this.fetch)throw new Error("The current environment does not support fetch, you can provide a fetch implementation in the options for SuiHTTPTransport.");return r(e,t)}async request(e){mi(this,ci,gi(this,ci)+1);const t=await this.fetch(gi(this,fi).rpc?.url??gi(this,fi).url,{method:"POST",headers:{"Content-Type":"application/json","Client-Sdk-Type":"typescript","Client-Sdk-Version":"0.51.0","Client-Target-Api-Version":"1.21.0",...gi(this,fi).rpc?.headers},body:JSON.stringify({jsonrpc:"2.0",id:gi(this,ci),method:e.method,params:e.params})});if(!t.ok)throw new Fn(`Unexpected status code: ${t.status}`,t.status,t.statusText);const r=await t.json();if("error"in r&&null!=r.error)throw new Hn(r.error.message,r.error.code);return r.result}async subscribe(e){const t=await(r=this,n=hi,i=di,pi(r,n,"access private method"),i).call(this).subscribe(e);var r,n,i;return async()=>!!(await t())}}ci=new WeakMap,fi=new WeakMap,li=new WeakMap,hi=new WeakSet,di=function(){if(!gi(this,li)){const e=gi(this,fi).WebSocketConstructor??globalThis.WebSocket;if(!e)throw new Error("The current environment does not support WebSocket, you can provide a WebSocketConstructor in the options for SuiHTTPTransport.");mi(this,li,new ai(gi(this,fi).websocket?.url??gi(this,fi).url,{WebSocketConstructor:e,...gi(this,fi).websocket}))}return gi(this,li)};const wi=Symbol.for("@mysten/SuiClient");class vi{get[wi](){return!0}constructor(e){this.transport=e.transport??new bi({url:e.url})}async getRpcApiVersion(){return(await this.transport.request({method:"rpc.discover",params:[]})).info.version}async getCoins(e){if(!e.owner||!rr(ir(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getCoins",params:[e.owner,e.coinType,e.cursor,e.limit]})}async getAllCoins(e){if(!e.owner||!rr(ir(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllCoins",params:[e.owner,e.cursor,e.limit]})}async getBalance(e){if(!e.owner||!rr(ir(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getBalance",params:[e.owner,e.coinType]})}async getAllBalances(e){if(!e.owner||!rr(ir(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getAllBalances",params:[e.owner]})}async getCoinMetadata(e){return await this.transport.request({method:"suix_getCoinMetadata",params:[e.coinType]})}async getTotalSupply(e){return await this.transport.request({method:"suix_getTotalSupply",params:[e.coinType]})}async call(e,t){return await this.transport.request({method:e,params:t})}async getMoveFunctionArgTypes(e){return await this.transport.request({method:"sui_getMoveFunctionArgTypes",params:[e.package,e.module,e.function]})}async getNormalizedMoveModulesByPackage(e){return await this.transport.request({method:"sui_getNormalizedMoveModulesByPackage",params:[e.package]})}async getNormalizedMoveModule(e){return await this.transport.request({method:"sui_getNormalizedMoveModule",params:[e.package,e.module]})}async getNormalizedMoveFunction(e){return await this.transport.request({method:"sui_getNormalizedMoveFunction",params:[e.package,e.module,e.function]})}async getNormalizedMoveStruct(e){return await this.transport.request({method:"sui_getNormalizedMoveStruct",params:[e.package,e.module,e.struct]})}async getOwnedObjects(e){if(!e.owner||!rr(ir(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getOwnedObjects",params:[e.owner,{filter:e.filter,options:e.options},e.cursor,e.limit]})}async getObject(e){if(!e.id||!nr(or(e.id)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"sui_getObject",params:[e.id,e.options]})}async tryGetPastObject(e){return await this.transport.request({method:"sui_tryGetPastObject",params:[e.id,e.version,e.options]})}async multiGetObjects(e){e.ids.forEach((e=>{if(!e||!nr(or(e)))throw new Error(`Invalid Sui Object id ${e}`)}));if(e.ids.length!==new Set(e.ids).size)throw new Error(`Duplicate object ids in batch call ${e.ids}`);return await this.transport.request({method:"sui_multiGetObjects",params:[e.ids,e.options]})}async queryTransactionBlocks(e){return await this.transport.request({method:"suix_queryTransactionBlocks",params:[{filter:e.filter,options:e.options},e.cursor,e.limit,"descending"===(e.order||"descending")]})}async getTransactionBlock(e){if(!tr(e.digest))throw new Error("Invalid Transaction digest");return await this.transport.request({method:"sui_getTransactionBlock",params:[e.digest,e.options]})}async multiGetTransactionBlocks(e){e.digests.forEach((e=>{if(!tr(e))throw new Error(`Invalid Transaction digest ${e}`)}));if(e.digests.length!==new Set(e.digests).size)throw new Error(`Duplicate digests in batch call ${e.digests}`);return await this.transport.request({method:"sui_multiGetTransactionBlocks",params:[e.digests,e.options]})}async executeTransactionBlock(e){return await this.transport.request({method:"sui_executeTransactionBlock",params:["string"===typeof e.transactionBlock?e.transactionBlock:nt(e.transactionBlock),Array.isArray(e.signature)?e.signature:[e.signature],e.options,e.requestType]})}async signAndExecuteTransactionBlock({transactionBlock:e,signer:t,...r}){let n;e instanceof Uint8Array?n=e:(e.setSenderIfNotSet(t.toSuiAddress()),n=await e.build({client:this}));const{signature:i,bytes:o}=await t.signTransactionBlock(n);return this.executeTransactionBlock({transactionBlock:o,signature:i,...r})}async getTotalTransactionBlocks(){const e=await this.transport.request({method:"sui_getTotalTransactionBlocks",params:[]});return BigInt(e)}async getReferenceGasPrice(){const e=await this.transport.request({method:"suix_getReferenceGasPrice",params:[]});return BigInt(e)}async getStakes(e){if(!e.owner||!rr(ir(e.owner)))throw new Error("Invalid Sui address");return await this.transport.request({method:"suix_getStakes",params:[e.owner]})}async getStakesByIds(e){return e.stakedSuiIds.forEach((e=>{if(!e||!nr(or(e)))throw new Error(`Invalid Sui Stake id ${e}`)})),await this.transport.request({method:"suix_getStakesByIds",params:[e.stakedSuiIds]})}async getLatestSuiSystemState(){return await this.transport.request({method:"suix_getLatestSuiSystemState",params:[]})}async queryEvents(e){return await this.transport.request({method:"suix_queryEvents",params:[e.query,e.cursor,e.limit,"descending"===(e.order||"descending")]})}async subscribeEvent(e){return this.transport.subscribe({method:"suix_subscribeEvent",unsubscribe:"suix_unsubscribeEvent",params:[e.filter],onMessage:e.onMessage})}async subscribeTransaction(e){return this.transport.subscribe({method:"suix_subscribeTransaction",unsubscribe:"suix_unsubscribeTransaction",params:[e.filter],onMessage:e.onMessage})}async devInspectTransactionBlock(e){let t;if((r=e.transactionBlock)&&"object"===typeof r&&!0===r[jn])e.transactionBlock.setSenderIfNotSet(e.sender),t=nt(await e.transactionBlock.build({client:this,onlyTransactionKind:!0}));else if("string"===typeof e.transactionBlock)t=e.transactionBlock;else{if(!(e.transactionBlock instanceof Uint8Array))throw new Error("Unknown transaction block format.");t=nt(e.transactionBlock)}var r;return await this.transport.request({method:"sui_devInspectTransactionBlock",params:[e.sender,t,e.gasPrice?.toString(),e.epoch]})}async dryRunTransactionBlock(e){return await this.transport.request({method:"sui_dryRunTransactionBlock",params:["string"===typeof e.transactionBlock?e.transactionBlock:nt(e.transactionBlock)]})}async getDynamicFields(e){if(!e.parentId||!nr(or(e.parentId)))throw new Error("Invalid Sui Object id");return await this.transport.request({method:"suix_getDynamicFields",params:[e.parentId,e.cursor,e.limit]})}async getDynamicFieldObject(e){return await this.transport.request({method:"suix_getDynamicFieldObject",params:[e.parentId,e.name]})}async getLatestCheckpointSequenceNumber(){const e=await this.transport.request({method:"sui_getLatestCheckpointSequenceNumber",params:[]});return String(e)}async getCheckpoint(e){return await this.transport.request({method:"sui_getCheckpoint",params:[e.id]})}async getCheckpoints(e){return await this.transport.request({method:"sui_getCheckpoints",params:[e.cursor,e?.limit,e.descendingOrder]})}async getCommitteeInfo(e){return await this.transport.request({method:"suix_getCommitteeInfo",params:[e?.epoch]})}async getNetworkMetrics(){return await this.transport.request({method:"suix_getNetworkMetrics",params:[]})}async getAddressMetrics(){return await this.transport.request({method:"suix_getLatestAddressMetrics",params:[]})}async getEpochMetrics(e){return await this.transport.request({method:"suix_getEpochMetrics",params:[e?.cursor,e?.limit,e?.descendingOrder]})}async getAllEpochAddressMetrics(e){return await this.transport.request({method:"suix_getAllEpochAddressMetrics",params:[e?.descendingOrder]})}async getEpochs(e){return await this.transport.request({method:"suix_getEpochs",params:[e?.cursor,e?.limit,e?.descendingOrder]})}async getMoveCallMetrics(){return await this.transport.request({method:"suix_getMoveCallMetrics",params:[]})}async getCurrentEpoch(){return await this.transport.request({method:"suix_getCurrentEpoch",params:[]})}async getValidatorsApy(){return await this.transport.request({method:"suix_getValidatorsApy",params:[]})}async getChainIdentifier(){const e=await this.getCheckpoint({id:"0"});return ct(at(e.digest).slice(0,4))}async resolveNameServiceAddress(e){return await this.transport.request({method:"suix_resolveNameServiceAddress",params:[e.name]})}async resolveNameServiceNames(e){return await this.transport.request({method:"suix_resolveNameServiceNames",params:[e.address,e.cursor,e.limit]})}async getProtocolConfig(e){return await this.transport.request({method:"sui_getProtocolConfig",params:[e?.version]})}async waitForTransactionBlock({signal:e,timeout:t=6e4,pollInterval:r=2e3,...n}){const i=AbortSignal.timeout(t),o=new Promise(((e,t)=>{i.addEventListener("abort",(()=>t(i.reason)))}));for(o.catch((()=>{}));!i.aborted;){e?.throwIfAborted();try{return await this.getTransactionBlock(n)}catch(tp){await Promise.race([new Promise((e=>setTimeout(e,r))),o])}}throw i.throwIfAborted(),new Error("Unexpected error while waiting for transaction block.")}}function _i(e){switch(e){case"mainnet":return"https://fullnode.mainnet.sui.io:443";case"testnet":return"https://fullnode.testnet.sui.io:443";case"devnet":return"https://fullnode.devnet.sui.io:443";case"localnet":return"http://127.0.0.1:9000";default:throw new Error(`Unknown network: ${e}`)}}var Si=r("8hvg");function Ei(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`positive integer expected, not ${e}`)}function Ai(e,...t){if(!function(e){return e instanceof Uint8Array||null!=e&&"object"===typeof e&&"Uint8Array"===e.constructor.name}(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error(`Uint8Array expected of length ${t}, not of length=${e.length}`)}function xi(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Ei(e.outputLen),Ei(e.blockLen)}function ki(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Ti(e,t){Ai(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const Ii=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),Mi=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),Pi=(e,t)=>e<<32-t|e>>>t,Bi=68===new Uint8Array(new Uint32Array([287454020]).buffer)[0],Oi=e=>e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255,Ci=Bi?e=>e:e=>Oi(e);function Ui(e){for(let t=0;t<e.length;t++)e[t]=Oi(e[t])}const Ni=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Ri(e){Ai(e);let t="";for(let r=0;r<e.length;r++)t+=Ni[e[r]];return t}const Li=48,zi=57,ji=65,Di=70,qi=97,Ki=102;function Hi(e){return e>=Li&&e<=zi?e-Li:e>=ji&&e<=Di?e-(ji-10):e>=qi&&e<=Ki?e-(qi-10):void 0}function Fi(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){const t=Hi(e.charCodeAt(o)),r=Hi(e.charCodeAt(o+1));if(void 0===t||void 0===r){const t=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+o)}n[i]=16*t+r}return n}function Wi(e){return"string"===typeof e&&(e=function(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}(e)),Ai(e),e}class $i{clone(){return this._cloneInto()}}function Vi(e){const t=t=>e().update(Wi(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function Gi(e){const t=(t,r)=>e(r).update(Wi(t)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=t=>e(t),t}const Zi=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3]);class Ji extends $i{constructor(e,t,r={},n,i,o){if(super(),this.blockLen=e,this.outputLen=t,this.length=0,this.pos=0,this.finished=!1,this.destroyed=!1,Ei(e),Ei(t),Ei(n),t<0||t>n)throw new Error("outputLen bigger than keyLen");if(void 0!==r.key&&(r.key.length<1||r.key.length>n))throw new Error(`key must be up 1..${n} byte long or undefined`);if(void 0!==r.salt&&r.salt.length!==i)throw new Error(`salt must be ${i} byte long or undefined`);if(void 0!==r.personalization&&r.personalization.length!==o)throw new Error(`personalization must be ${o} byte long or undefined`);this.buffer32=Ii(this.buffer=new Uint8Array(e))}update(e){ki(this);const{blockLen:t,buffer:r,buffer32:n}=this,i=(e=Wi(e)).length,o=e.byteOffset,s=e.buffer;for(let a=0;a<i;){this.pos===t&&(Bi||Ui(n),this.compress(n,0,!1),Bi||Ui(n),this.pos=0);const u=Math.min(t-this.pos,i-a),c=o+a;if(u!==t||c%4||!(a+u<i))r.set(e.subarray(a,a+u),this.pos),this.pos+=u,this.length+=u,a+=u;else{const e=new Uint32Array(s,c,Math.floor((i-a)/4));Bi||Ui(e);for(let r=0;a+t<i;r+=n.length,a+=t)this.length+=t,this.compress(e,r,!1);Bi||Ui(e)}}return this}digestInto(e){ki(this),Ti(e,this);const{pos:t,buffer32:r}=this;this.finished=!0,this.buffer.subarray(t).fill(0),Bi||Ui(r),this.compress(r,0,!0),Bi||Ui(r);const n=Ii(e);this.get().forEach(((e,t)=>n[t]=Ci(e)))}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){const{buffer:t,length:r,finished:n,destroyed:i,outputLen:o,pos:s}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.length=r,e.finished=n,e.destroyed=i,e.outputLen=o,e.buffer.set(t),e.pos=s,e}}const Xi=BigInt(2**32-1),Yi=BigInt(32);function Qi(e,t=!1){return t?{h:Number(e&Xi),l:Number(e>>Yi&Xi)}:{h:0|Number(e>>Yi&Xi),l:0|Number(e&Xi)}}function eo(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=Qi(e[i],t);[r[i],n[i]]=[o,s]}return[r,n]}const to=(e,t,r)=>e<<r|t>>>32-r,ro=(e,t,r)=>t<<r|e>>>32-r,no=(e,t,r)=>t<<r-32|e>>>64-r,io=(e,t,r)=>e<<r-32|t>>>64-r;const oo={fromBig:Qi,split:eo,toBig:(e,t)=>BigInt(e>>>0)<<Yi|BigInt(t>>>0),shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:to,rotlSL:ro,rotlBH:no,rotlBL:io,add:function(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/2**32|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,add5H:(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)},so=oo,ao=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),uo=new Uint32Array(32);function co(e,t,r,n,i,o){const s=i[o],a=i[o+1];let u=uo[2*e],c=uo[2*e+1],f=uo[2*t],l=uo[2*t+1],h=uo[2*r],d=uo[2*r+1],p=uo[2*n],g=uo[2*n+1],y=so.add3L(u,f,s);c=so.add3H(y,c,l,a),u=0|y,({Dh:g,Dl:p}={Dh:g^c,Dl:p^u}),({Dh:g,Dl:p}={Dh:so.rotr32H(g,p),Dl:so.rotr32L(g,p)}),({h:d,l:h}=so.add(d,h,g,p)),({Bh:l,Bl:f}={Bh:l^d,Bl:f^h}),({Bh:l,Bl:f}={Bh:so.rotrSH(l,f,24),Bl:so.rotrSL(l,f,24)}),uo[2*e]=u,uo[2*e+1]=c,uo[2*t]=f,uo[2*t+1]=l,uo[2*r]=h,uo[2*r+1]=d,uo[2*n]=p,uo[2*n+1]=g}function fo(e,t,r,n,i,o){const s=i[o],a=i[o+1];let u=uo[2*e],c=uo[2*e+1],f=uo[2*t],l=uo[2*t+1],h=uo[2*r],d=uo[2*r+1],p=uo[2*n],g=uo[2*n+1],y=so.add3L(u,f,s);c=so.add3H(y,c,l,a),u=0|y,({Dh:g,Dl:p}={Dh:g^c,Dl:p^u}),({Dh:g,Dl:p}={Dh:so.rotrSH(g,p,16),Dl:so.rotrSL(g,p,16)}),({h:d,l:h}=so.add(d,h,g,p)),({Bh:l,Bl:f}={Bh:l^d,Bl:f^h}),({Bh:l,Bl:f}={Bh:so.rotrBH(l,f,63),Bl:so.rotrBL(l,f,63)}),uo[2*e]=u,uo[2*e+1]=c,uo[2*t]=f,uo[2*t+1]=l,uo[2*r]=h,uo[2*r+1]=d,uo[2*n]=p,uo[2*n+1]=g}class lo extends Ji{constructor(e={}){super(128,void 0===e.dkLen?64:e.dkLen,e,64,16,16),this.v0l=0|ao[0],this.v0h=0|ao[1],this.v1l=0|ao[2],this.v1h=0|ao[3],this.v2l=0|ao[4],this.v2h=0|ao[5],this.v3l=0|ao[6],this.v3h=0|ao[7],this.v4l=0|ao[8],this.v4h=0|ao[9],this.v5l=0|ao[10],this.v5h=0|ao[11],this.v6l=0|ao[12],this.v6h=0|ao[13],this.v7l=0|ao[14],this.v7h=0|ao[15];const t=e.key?e.key.length:0;if(this.v0l^=this.outputLen|t<<8|65536|1<<24,e.salt){const t=Ii(Wi(e.salt));this.v4l^=Ci(t[0]),this.v4h^=Ci(t[1]),this.v5l^=Ci(t[2]),this.v5h^=Ci(t[3])}if(e.personalization){const t=Ii(Wi(e.personalization));this.v6l^=Ci(t[0]),this.v6h^=Ci(t[1]),this.v7l^=Ci(t[2]),this.v7h^=Ci(t[3])}if(e.key){const t=new Uint8Array(this.blockLen);t.set(Wi(e.key)),this.update(t)}}get(){let{v0l:e,v0h:t,v1l:r,v1h:n,v2l:i,v2h:o,v3l:s,v3h:a,v4l:u,v4h:c,v5l:f,v5h:l,v6l:h,v6h:d,v7l:p,v7h:g}=this;return[e,t,r,n,i,o,s,a,u,c,f,l,h,d,p,g]}set(e,t,r,n,i,o,s,a,u,c,f,l,h,d,p,g){this.v0l=0|e,this.v0h=0|t,this.v1l=0|r,this.v1h=0|n,this.v2l=0|i,this.v2h=0|o,this.v3l=0|s,this.v3h=0|a,this.v4l=0|u,this.v4h=0|c,this.v5l=0|f,this.v5h=0|l,this.v6l=0|h,this.v6h=0|d,this.v7l=0|p,this.v7h=0|g}compress(e,t,r){this.get().forEach(((e,t)=>uo[t]=e)),uo.set(ao,16);let{h:n,l:i}=so.fromBig(BigInt(this.length));uo[24]=ao[8]^i,uo[25]=ao[9]^n,r&&(uo[28]=~uo[28],uo[29]=~uo[29]);let o=0;const s=Zi;for(let a=0;a<12;a++)co(0,4,8,12,e,t+2*s[o++]),fo(0,4,8,12,e,t+2*s[o++]),co(1,5,9,13,e,t+2*s[o++]),fo(1,5,9,13,e,t+2*s[o++]),co(2,6,10,14,e,t+2*s[o++]),fo(2,6,10,14,e,t+2*s[o++]),co(3,7,11,15,e,t+2*s[o++]),fo(3,7,11,15,e,t+2*s[o++]),co(0,5,10,15,e,t+2*s[o++]),fo(0,5,10,15,e,t+2*s[o++]),co(1,6,11,12,e,t+2*s[o++]),fo(1,6,11,12,e,t+2*s[o++]),co(2,7,8,13,e,t+2*s[o++]),fo(2,7,8,13,e,t+2*s[o++]),co(3,4,9,14,e,t+2*s[o++]),fo(3,4,9,14,e,t+2*s[o++]);this.v0l^=uo[0]^uo[16],this.v0h^=uo[1]^uo[17],this.v1l^=uo[2]^uo[18],this.v1h^=uo[3]^uo[19],this.v2l^=uo[4]^uo[20],this.v2h^=uo[5]^uo[21],this.v3l^=uo[6]^uo[22],this.v3h^=uo[7]^uo[23],this.v4l^=uo[8]^uo[24],this.v4h^=uo[9]^uo[25],this.v5l^=uo[10]^uo[26],this.v5h^=uo[11]^uo[27],this.v6l^=uo[12]^uo[28],this.v6h^=uo[13]^uo[29],this.v7l^=uo[14]^uo[30],this.v7h^=uo[15]^uo[31],uo.fill(0)}destroy(){this.destroyed=!0,this.buffer32.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const ho=Gi((e=>new lo(e)));var po=r("/aXE"),go=(e=>(e[e.TransactionData=0]="TransactionData",e[e.TransactionEffects=1]="TransactionEffects",e[e.CheckpointSummary=2]="CheckpointSummary",e[e.PersonalMessage=3]="PersonalMessage",e))(go||{});function yo(e,t){const r=function(e){return[e,0,0]}(e),n=new Uint8Array(r.length+t.length);return n.set(r),n.set(t,r.length),n}const mo={ED25519:0,Secp256k1:1,Secp256r1:2,MultiSig:3,ZkLogin:5},bo={ED25519:32,Secp256k1:33,Secp256r1:33},wo={0:"ED25519",1:"Secp256k1",2:"Secp256r1",3:"MultiSig",5:"ZkLogin"};function vo(e,t){const r=function(e,t){return Fi(e.toString(16).padStart(2*t,"0").slice(2*-t))}(e,t),n=function(e){for(let t=0;t<e.length;t++)if(0!==e[t])return t;return-1}(r);return-1===n?new Uint8Array([0]):r.slice(n)}function _o(e){if(1!==e.length)throw new Error("Invalid base64Url character: "+e);const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".indexOf(e);if(-1===t)throw new Error("Invalid base64Url character: "+e);const r=t.toString(2).padStart(6,"0");return Array.from(r).map(Number)}function So(e,t){if(e.length<2)throw new Error(`Input (s = ${e}) is not tightly packed because s.length < 2`);let r=function(e){let t=[];for(let r=0;r<e.length;r++){const n=_o(e.charAt(r));t=t.concat(n)}return t}(e);const n=t%4;if(0===n);else if(1===n)r=r.slice(2);else{if(2!==n)throw new Error(`Input (s = ${e}) is not tightly packed because i%4 = 3 (i = ${t}))`);r=r.slice(4)}const i=(t+e.length-1)%4;if(3===i);else if(2===i)r=r.slice(0,r.length-2);else{if(1!==i)throw new Error(`Input (s = ${e}) is not tightly packed because (i + s.length - 1)%4 = 0 (i = ${t}))`);r=r.slice(0,r.length-4)}if(r.length%8!==0)throw new Error("We should never reach here...");const o=new Uint8Array(Math.floor(r.length/8));let s=0;for(let a=0;a<r.length;a+=8){const e=r.slice(a,a+8),t=parseInt(e.join(""),2);o[s++]=t}return(new TextDecoder).decode(o)}function Eo(e,t){const r=So(e.value,e.indexMod4),[n,i]=function(e){if("}"!==e.slice(-1)&&","!==e.slice(-1))throw new Error("Invalid claim");const t=JSON.parse("{"+e.slice(0,-1)+"}");if(1!==Object.keys(t).length)throw new Error("Invalid claim");const r=Object.keys(t)[0];return[r,t[r]]}(r);if(n!==t)throw new Error(`Invalid field name: found ${n} expected ${t}`);return i}const Ao=er.struct("ZkLoginSignature",{inputs:er.struct("ZkLoginSignatureInputs",{proofPoints:er.struct("ZkLoginSignatureInputsProofPoints",{a:er.vector(er.string()),b:er.vector(er.vector(er.string())),c:er.vector(er.string())}),issBase64Details:er.struct("ZkLoginSignatureInputsClaim",{value:er.string(),indexMod4:er.u8()}),headerBase64:er.string(),addressSeed:er.string()}),maxEpoch:er.u64(),userSignature:er.vector(er.u8())});function xo(e){const t=tt(e),r=wo[t[0]];switch(r){case"MultiSig":return{serializedSignature:e,signatureScheme:r,multisig:Kr.MultiSig.parse(t.slice(1)),bytes:t};case"ZkLogin":const n=t.slice(1),{inputs:i,maxEpoch:o,userSignature:s}=function(e){return Ao.parse("string"===typeof e?tt(e):e)}(n),{issBase64Details:a,addressSeed:u}=i,c=Eo(a,"iss"),f=function(e,t){const r=vo(e,32);"accounts.google.com"===t&&(t="https://accounts.google.com");const n=(new TextEncoder).encode(t),i=new Uint8Array(2+r.length+n.length);return i.set([mo.ZkLogin]),i.set([n.length],1),i.set(n,2),i.set(r,2+n.length),ir(Ri(ho(i,{dkLen:32})).slice(0,64))}(BigInt(u),c);return{serializedSignature:e,signatureScheme:r,zkLogin:{inputs:i,maxEpoch:o,userSignature:s,iss:c,address:f,addressSeed:BigInt(u)},signature:t};case"ED25519":case"Secp256k1":case"Secp256r1":const l=bo[r],h=t.slice(1,t.length-l);return{serializedSignature:e,signatureScheme:r,signature:h,publicKey:t.slice(1+h.length),bytes:t};default:throw new Error("Unsupported signature scheme")}}const ko="suiprivkey";class To{async signWithIntent(e,t){const r=yo(t,e),n=ho(r,{dkLen:32}),i=function({signature:e,signatureScheme:t,publicKey:r}){if(!r)throw new Error("`publicKey` is required");const n=r.toRawBytes(),i=new Uint8Array(1+e.length+n.length);return i.set([mo[t]]),i.set(e,1),i.set(n,1+e.length),nt(i)}({signature:await this.sign(n),signatureScheme:this.getKeyScheme(),publicKey:this.getPublicKey()});return{signature:i,bytes:nt(e)}}async signTransactionBlock(e){return this.signWithIntent(e,go.TransactionData)}async signPersonalMessage(e){return this.signWithIntent(er.vector(er.u8()).serialize(e).toBytes(),go.PersonalMessage)}toSuiAddress(){return this.getPublicKey().toSuiAddress()}}class Io extends To{export(){return{schema:this.getKeyScheme(),privateKey:this.getSecretKey()}}}function Mo(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function Po(e,...t){if(!function(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Bo(e){if("function"!==typeof e||"function"!==typeof e.create)throw new Error("Hash should be wrapped by utils.wrapConstructor");Mo(e.outputLen),Mo(e.blockLen)}function Oo(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}const Co="object"===typeof globalThis&&"crypto"in globalThis?globalThis.crypto:void 0;function Uo(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function No(e,t){return e<<32-t|e>>>t}function Ro(e,t){return e<<t|e>>>32-t>>>0}const Lo=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));const zo=48,jo=57,Do=65,qo=70,Ko=97,Ho=102;function Fo(e){return e>=zo&&e<=jo?e-zo:e>=Do&&e<=qo?e-(Do-10):e>=Ko&&e<=Ho?e-(Ko-10):void 0}function Wo(e){if("string"!==typeof e)throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array((new TextEncoder).encode(e))}function $o(e){return"string"===typeof e&&(e=Wo(e)),Po(e),e}function Vo(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];Po(r),t+=r.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const t=e[n];r.set(t,i),i+=t.length}return r}class Go{clone(){return this._cloneInto()}}function Zo(e){const t=t=>e().update($o(t)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function Jo(e=32){if(Co&&"function"===typeof Co.getRandomValues)return Co.getRandomValues(new Uint8Array(e));if(Co&&"function"===typeof Co.randomBytes)return Co.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}class Xo extends Go{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,Bo(e);const r=$o(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return Oo(this),this.iHash.update(e),this}digestInto(e){Oo(this),Po(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Yo=(e,t,r)=>new Xo(e,t).update(r).digest();function Qo(e,t,r,n){Bo(e);const i=function(e,t){if(void 0!==t&&"[object Object]"!=={}.toString.call(t))throw new Error("Options should be object or undefined");return Object.assign(e,t)}({dkLen:32,asyncTick:10},n),{c:o,dkLen:s,asyncTick:a}=i;if(Mo(o),Mo(s),Mo(a),o<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const u=$o(t),c=$o(r),f=new Uint8Array(s),l=Yo.create(e,u),h=l._cloneInto().update(c);return{c:o,dkLen:s,asyncTick:a,DK:f,PRF:l,PRFSalt:h}}function es(e,t,r,n,i){return e.destroy(),t.destroy(),n&&n.destroy(),i.fill(0),r}function ts(e,t,r){return e&t^~e&r}function rs(e,t,r){return e&t^e&r^t&r}Yo.create=(e,t)=>new Xo(e,t);class ns extends Go{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Uo(this.buffer)}update(e){Oo(this);const{view:t,buffer:r,blockLen:n}=this,i=(e=$o(e)).length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);if(s!==n)r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===n&&(this.process(t,0),this.pos=0);else{const t=Uo(e);for(;n<=i-o;o+=n)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){Oo(this),function(e,t){Po(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(r,0),o=0);for(let f=o;f<n;f++)t[f]=0;!function(e,t,r,n){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),u=n?4:0,c=n?0:4;e.setUint32(t+u,s,n),e.setUint32(t+c,a,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);const s=Uo(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=a/4,c=this.get();if(u>c.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)s.setUint32(4*f,c[f],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}}const is=BigInt(2**32-1),os=BigInt(32);function ss(e,t=!1){return t?{h:Number(e&is),l:Number(e>>os&is)}:{h:0|Number(e>>os&is),l:0|Number(e&is)}}const as={fromBig:ss,split:function(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l:s}=ss(e[i],t);[r[i],n[i]]=[o,s]}return[r,n]},toBig:(e,t)=>BigInt(e>>>0)<<os|BigInt(t>>>0),shrSH:(e,t,r)=>e>>>r,shrSL:(e,t,r)=>e<<32-r|t>>>r,rotrSH:(e,t,r)=>e>>>r|t<<32-r,rotrSL:(e,t,r)=>e<<32-r|t>>>r,rotrBH:(e,t,r)=>e<<64-r|t>>>r-32,rotrBL:(e,t,r)=>e>>>r-32|t<<64-r,rotr32H:(e,t)=>t,rotr32L:(e,t)=>e,rotlSH:(e,t,r)=>e<<r|t>>>32-r,rotlSL:(e,t,r)=>t<<r|e>>>32-r,rotlBH:(e,t,r)=>t<<r-32|e>>>64-r,rotlBL:(e,t,r)=>e<<r-32|t>>>64-r,add:function(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:0|i}},add3L:(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),add3H:(e,t,r,n)=>t+r+n+(e/2**32|0)|0,add4L:(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),add4H:(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,add5H:(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0,add5L:(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0)},us=as,[cs,fs]=(()=>us.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),ls=new Uint32Array(80),hs=new Uint32Array(80);class ds extends ns{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:o,Dh:s,Dl:a,Eh:u,El:c,Fh:f,Fl:l,Gh:h,Gl:d,Hh:p,Hl:g}=this;return[e,t,r,n,i,o,s,a,u,c,f,l,h,d,p,g]}set(e,t,r,n,i,o,s,a,u,c,f,l,h,d,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|u,this.El=0|c,this.Fh=0|f,this.Fl=0|l,this.Gh=0|h,this.Gl=0|d,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let b=0;b<16;b++,t+=4)ls[b]=e.getUint32(t),hs[b]=e.getUint32(t+=4);for(let b=16;b<80;b++){const e=0|ls[b-15],t=0|hs[b-15],r=us.rotrSH(e,t,1)^us.rotrSH(e,t,8)^us.shrSH(e,t,7),n=us.rotrSL(e,t,1)^us.rotrSL(e,t,8)^us.shrSL(e,t,7),i=0|ls[b-2],o=0|hs[b-2],s=us.rotrSH(i,o,19)^us.rotrBH(i,o,61)^us.shrSH(i,o,6),a=us.rotrSL(i,o,19)^us.rotrBL(i,o,61)^us.shrSL(i,o,6),u=us.add4L(n,a,hs[b-7],hs[b-16]),c=us.add4H(u,r,s,ls[b-7],ls[b-16]);ls[b]=0|c,hs[b]=0|u}let{Ah:r,Al:n,Bh:i,Bl:o,Ch:s,Cl:a,Dh:u,Dl:c,Eh:f,El:l,Fh:h,Fl:d,Gh:p,Gl:g,Hh:y,Hl:m}=this;for(let b=0;b<80;b++){const e=us.rotrSH(f,l,14)^us.rotrSH(f,l,18)^us.rotrBH(f,l,41),t=us.rotrSL(f,l,14)^us.rotrSL(f,l,18)^us.rotrBL(f,l,41),w=f&h^~f&p,v=l&d^~l&g,_=us.add5L(m,t,v,fs[b],hs[b]),S=us.add5H(_,y,e,w,cs[b],ls[b]),E=0|_,A=us.rotrSH(r,n,28)^us.rotrBH(r,n,34)^us.rotrBH(r,n,39),x=us.rotrSL(r,n,28)^us.rotrBL(r,n,34)^us.rotrBL(r,n,39),k=r&i^r&s^i&s,T=n&o^n&a^o&a;y=0|p,m=0|g,p=0|h,g=0|d,h=0|f,d=0|l,({h:f,l:l}=us.add(0|u,0|c,0|S,0|E)),u=0|s,c=0|a,s=0|i,a=0|o,i=0|r,o=0|n;const I=us.add3L(E,x,T);r=us.add3H(I,S,A,k),n=0|I}({h:r,l:n}=us.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:o}=us.add(0|this.Bh,0|this.Bl,0|i,0|o)),({h:s,l:a}=us.add(0|this.Ch,0|this.Cl,0|s,0|a)),({h:u,l:c}=us.add(0|this.Dh,0|this.Dl,0|u,0|c)),({h:f,l:l}=us.add(0|this.Eh,0|this.El,0|f,0|l)),({h:h,l:d}=us.add(0|this.Fh,0|this.Fl,0|h,0|d)),({h:p,l:g}=us.add(0|this.Gh,0|this.Gl,0|p,0|g)),({h:y,l:m}=us.add(0|this.Hh,0|this.Hl,0|y,0|m)),this.set(r,n,i,o,s,a,u,c,f,l,h,d,p,g,y,m)}roundClean(){ls.fill(0),hs.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const ps=Zo((()=>new ds));function gs(e){if("string"!==typeof e)throw new TypeError("invalid mnemonic type: "+typeof e);return e.normalize("NFKD")}function ys(e){const t=gs(e),r=t.split(" ");if(![12,15,18,21,24].includes(r.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:r}}const ms=e=>gs("mnemonic"+e);function bs(e,t=""){return function(e,t,r,n){const{c:i,dkLen:o,DK:s,PRF:a,PRFSalt:u}=Qo(e,t,r,n);let c;const f=new Uint8Array(4),l=Uo(f),h=new Uint8Array(a.outputLen);for(let d=1,p=0;p<o;d++,p+=a.outputLen){const e=s.subarray(p,p+a.outputLen);l.setInt32(0,d,!1),(c=u._cloneInto(c)).update(f).digestInto(h),e.set(h.subarray(0,e.length));for(let t=1;t<i;t++){a._cloneInto(c).update(h).digestInto(h);for(let t=0;t<e.length;t++)e[t]^=h[t]}}return es(a,u,s,c,h)}(ps,ys(e).nfkd,ms(t),{c:2048,dkLen:64})}function ws(e){return!!new RegExp("^m\\/44'\\/784'\\/[0-9]+'\\/[0-9]+'\\/[0-9]+'+$").test(e)}function vs(e){return ct(function(e){return bs(e,"")}(e))}class _s extends $i{constructor(e,t){super(),this.finished=!1,this.destroyed=!1,xi(e);const r=Wi(t);if(this.iHash=e.create(),"function"!==typeof this.iHash.update)throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const n=this.blockLen,i=new Uint8Array(n);i.set(r.length>n?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),i.fill(0)}update(e){return ki(this),this.iHash.update(e),this}digestInto(e){ki(this),Ai(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:t,iHash:r,finished:n,destroyed:i,blockLen:o,outputLen:s}=this;return e.finished=n,e.destroyed=i,e.blockLen=o,e.outputLen=s,e.oHash=t._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Ss=(e,t,r)=>new _s(e,t).update(r).digest();Ss.create=(e,t)=>new _s(e,t);const Es=(e,t,r)=>e&t^~e&r,As=(e,t,r)=>e&t^e&r^t&r;class xs extends $i{constructor(e,t,r,n){super(),this.blockLen=e,this.outputLen=t,this.padOffset=r,this.isLE=n,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Mi(this.buffer)}update(e){ki(this);const{view:t,buffer:r,blockLen:n}=this,i=(e=Wi(e)).length;for(let o=0;o<i;){const s=Math.min(n-this.pos,i-o);if(s!==n)r.set(e.subarray(o,o+s),this.pos),this.pos+=s,o+=s,this.pos===n&&(this.process(t,0),this.pos=0);else{const t=Mi(e);for(;n<=i-o;o+=n)this.process(t,o)}}return this.length+=e.length,this.roundClean(),this}digestInto(e){ki(this),Ti(e,this),this.finished=!0;const{buffer:t,view:r,blockLen:n,isLE:i}=this;let{pos:o}=this;t[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>n-o&&(this.process(r,0),o=0);for(let f=o;f<n;f++)t[f]=0;!function(e,t,r,n){if("function"===typeof e.setBigUint64)return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),s=Number(r>>i&o),a=Number(r&o),u=n?4:0,c=n?0:4;e.setUint32(t+u,s,n),e.setUint32(t+c,a,n)}(r,n-8,BigInt(8*this.length),i),this.process(r,0);const s=Mi(e),a=this.outputLen;if(a%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=a/4,c=this.get();if(u>c.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)s.setUint32(4*f,c[f],i)}digest(){const{buffer:e,outputLen:t}=this;this.digestInto(e);const r=e.slice(0,t);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:t,buffer:r,length:n,finished:i,destroyed:o,pos:s}=this;return e.length=n,e.pos=s,e.finished=i,e.destroyed=o,n%t&&e.buffer.set(r),e}}const[ks,Ts]=(()=>so.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map((e=>BigInt(e)))))(),Is=new Uint32Array(80),Ms=new Uint32Array(80);class Ps extends xs{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:t,Bh:r,Bl:n,Ch:i,Cl:o,Dh:s,Dl:a,Eh:u,El:c,Fh:f,Fl:l,Gh:h,Gl:d,Hh:p,Hl:g}=this;return[e,t,r,n,i,o,s,a,u,c,f,l,h,d,p,g]}set(e,t,r,n,i,o,s,a,u,c,f,l,h,d,p,g){this.Ah=0|e,this.Al=0|t,this.Bh=0|r,this.Bl=0|n,this.Ch=0|i,this.Cl=0|o,this.Dh=0|s,this.Dl=0|a,this.Eh=0|u,this.El=0|c,this.Fh=0|f,this.Fl=0|l,this.Gh=0|h,this.Gl=0|d,this.Hh=0|p,this.Hl=0|g}process(e,t){for(let b=0;b<16;b++,t+=4)Is[b]=e.getUint32(t),Ms[b]=e.getUint32(t+=4);for(let b=16;b<80;b++){const e=0|Is[b-15],t=0|Ms[b-15],r=so.rotrSH(e,t,1)^so.rotrSH(e,t,8)^so.shrSH(e,t,7),n=so.rotrSL(e,t,1)^so.rotrSL(e,t,8)^so.shrSL(e,t,7),i=0|Is[b-2],o=0|Ms[b-2],s=so.rotrSH(i,o,19)^so.rotrBH(i,o,61)^so.shrSH(i,o,6),a=so.rotrSL(i,o,19)^so.rotrBL(i,o,61)^so.shrSL(i,o,6),u=so.add4L(n,a,Ms[b-7],Ms[b-16]),c=so.add4H(u,r,s,Is[b-7],Is[b-16]);Is[b]=0|c,Ms[b]=0|u}let{Ah:r,Al:n,Bh:i,Bl:o,Ch:s,Cl:a,Dh:u,Dl:c,Eh:f,El:l,Fh:h,Fl:d,Gh:p,Gl:g,Hh:y,Hl:m}=this;for(let b=0;b<80;b++){const e=so.rotrSH(f,l,14)^so.rotrSH(f,l,18)^so.rotrBH(f,l,41),t=so.rotrSL(f,l,14)^so.rotrSL(f,l,18)^so.rotrBL(f,l,41),w=f&h^~f&p,v=l&d^~l&g,_=so.add5L(m,t,v,Ts[b],Ms[b]),S=so.add5H(_,y,e,w,ks[b],Is[b]),E=0|_,A=so.rotrSH(r,n,28)^so.rotrBH(r,n,34)^so.rotrBH(r,n,39),x=so.rotrSL(r,n,28)^so.rotrBL(r,n,34)^so.rotrBL(r,n,39),k=r&i^r&s^i&s,T=n&o^n&a^o&a;y=0|p,m=0|g,p=0|h,g=0|d,h=0|f,d=0|l,({h:f,l:l}=so.add(0|u,0|c,0|S,0|E)),u=0|s,c=0|a,s=0|i,a=0|o,i=0|r,o=0|n;const I=so.add3L(E,x,T);r=so.add3H(I,S,A,k),n=0|I}({h:r,l:n}=so.add(0|this.Ah,0|this.Al,0|r,0|n)),({h:i,l:o}=so.add(0|this.Bh,0|this.Bl,0|i,0|o)),({h:s,l:a}=so.add(0|this.Ch,0|this.Cl,0|s,0|a)),({h:u,l:c}=so.add(0|this.Dh,0|this.Dl,0|u,0|c)),({h:f,l:l}=so.add(0|this.Eh,0|this.El,0|f,0|l)),({h:h,l:d}=so.add(0|this.Fh,0|this.Fl,0|h,0|d)),({h:p,l:g}=so.add(0|this.Gh,0|this.Gl,0|p,0|g)),({h:y,l:m}=so.add(0|this.Hh,0|this.Hl,0|y,0|m)),this.set(r,n,i,o,s,a,u,c,f,l,h,d,p,g,y,m)}roundClean(){Is.fill(0),Ms.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Bs=Vi((()=>new Ps)),Os=new RegExp("^m(\\/[0-9]+')+$"),Cs=e=>e.replace("'",""),Us=(e,t,r=2147483648)=>{if(!(e=>!!Os.test(e)&&!e.split("/").slice(1).map(Cs).some(isNaN))(e))throw new Error("Invalid derivation path");const{key:n,chainCode:i}=(e=>{const t=Ss.create(Bs,"ed25519 seed").update(ut(e)).digest();return{key:t.slice(0,32),chainCode:t.slice(32)}})(t);return e.split("/").slice(1).map(Cs).map((e=>parseInt(e,10))).reduce(((e,t)=>(({key:e,chainCode:t},r)=>{const n=new ArrayBuffer(4);new DataView(n).setUint32(0,r);const i=new Uint8Array(1+e.length+n.byteLength);i.set(new Uint8Array(1).fill(0)),i.set(e,1),i.set(new Uint8Array(n,0,n.byteLength),e.length+1);const o=Ss.create(Bs,t).update(i).digest();return{key:o.slice(0,32),chainCode:o.slice(32)}})(e,t+r)),{key:n,chainCode:i})};function Ns(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}class Rs{equals(e){return Ns(this.toRawBytes(),e.toRawBytes())}toBase64(){return nt(this.toRawBytes())}toString(){throw new Error("`toString` is not implemented on public keys. Use `toBase64()` or `toRawBytes()` instead.")}toSuiPublicKey(){return nt(this.toSuiBytes())}verifyWithIntent(e,t,r){const n=yo(r,e),i=ho(n,{dkLen:32});return this.verify(i,t)}verifyPersonalMessage(e,t){return this.verifyWithIntent(Kr.vector(Kr.u8()).serialize(e).toBytes(),t,go.PersonalMessage)}verifyTransactionBlock(e,t){return this.verifyWithIntent(e,t,go.TransactionData)}toSuiBytes(){const e=this.toRawBytes(),t=new Uint8Array(e.length+1);return t.set([this.flag()]),t.set(e,1),t}toSuiAddress(){return ir(Ri(ho(this.toSuiBytes(),{dkLen:32})).slice(0,64))}}class Ls extends Rs{constructor(e){if(super(),"string"===typeof e?this.data=tt(e):e instanceof Uint8Array?this.data=e:this.data=Uint8Array.from(e),32!==this.data.length)throw new Error(`Invalid public key input. Expected 32 bytes, got ${this.data.length}`)}equals(e){return super.equals(e)}toRawBytes(){return this.data}flag(){return mo.ED25519}async verify(e,t){let r;if("string"===typeof t){const e=xo(t);if("ED25519"!==e.signatureScheme)throw new Error("Invalid signature scheme");if(!Ns(this.toRawBytes(),e.publicKey))throw new Error("Signature does not match public key");r=e.signature}else r=t;return Si.sign.detached.verify(e,r,this.toRawBytes())}}Ls.SIZE=32;const zs="m/44'/784'/0'/0'/0'";class js extends Io{constructor(e){super(),this.keypair=e||Si.sign.keyPair()}getKeyScheme(){return"ED25519"}static generate(){return new js(Si.sign.keyPair())}static fromSecretKey(e,t){const r=e.length;if(32!==r)throw new Error(`Wrong secretKey size. Expected 32 bytes, got ${r}.`);const n=Si.sign.keyPair.fromSeed(e);if(!t||!t.skipValidation){const e=(new TextEncoder).encode("sui validation"),t=Si.sign.detached(e,n.secretKey);if(!Si.sign.detached.verify(e,t,n.publicKey))throw new Error("provided secretKey is invalid")}return new js(n)}getPublicKey(){return new Ls(this.keypair.publicKey)}getSecretKey(){return function(e,t){if(32!==e.length)throw new Error("Invalid bytes length");const r=mo[t],n=new Uint8Array(e.length+1);return n.set([r]),n.set(e,1),po.bech32.encode(ko,po.bech32.toWords(n))}(this.keypair.secretKey.slice(0,32),this.getKeyScheme())}async sign(e){return this.signData(e)}signData(e){return Si.sign.detached(e,this.keypair.secretKey)}static deriveKeypair(e,t){if(null==t&&(t=zs),!ws(t))throw new Error("Invalid derivation path");const{key:r}=Us(t,vs(e));return js.fromSecretKey(r)}static deriveKeypairFromSeed(e,t){if(null==t&&(t=zs),!ws(t))throw new Error("Invalid derivation path");const{key:r}=Us(t,e);return js.fromSecretKey(r)}}const Ds="sui:mainnet";var qs,Ks,Hs,Fs,Ws,$s,Vs=function(e,t,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(e):n?n.value:t.get(e)},Gs=function(e,t,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(e,r):i?i.value=r:t.set(e,r),r};class Zs{get address(){return Vs(this,qs,"f")}get publicKey(){return Vs(this,Ks,"f").slice()}get chains(){return Vs(this,Hs,"f").slice()}get features(){return Vs(this,Fs,"f").slice()}get label(){return Vs(this,Ws,"f")}get icon(){return Vs(this,$s,"f")}constructor(e){qs.set(this,void 0),Ks.set(this,void 0),Hs.set(this,void 0),Fs.set(this,void 0),Ws.set(this,void 0),$s.set(this,void 0),new.target===Zs&&Object.freeze(this),Gs(this,qs,e.address,"f"),Gs(this,Ks,e.publicKey.slice(),"f"),Gs(this,Hs,e.chains.slice(),"f"),Gs(this,Fs,e.features.slice(),"f"),Gs(this,Ws,e.label,"f"),Gs(this,$s,e.icon,"f")}}function Js(e){if(!Number.isSafeInteger(e))throw new Error(`Wrong integer: ${e}`)}function Xs(e){return e instanceof Uint8Array||null!=e&&"object"===typeof e&&"Uint8Array"===e.constructor.name}function Ys(...e){const t=e=>e,r=(e,t)=>r=>e(t(r)),n=e.map((e=>e.encode)).reduceRight(r,t),i=e.map((e=>e.decode)).reduce(r,t);return{encode:n,decode:i}}function Qs(e){return{encode:t=>{if(!Array.isArray(t)||t.length&&"number"!==typeof t[0])throw new Error("alphabet.encode input should be an array of numbers");return t.map((t=>{if(Js(t),t<0||t>=e.length)throw new Error(`Digit index outside alphabet: ${t} (alphabet: ${e.length})`);return e[t]}))},decode:t=>{if(!Array.isArray(t)||t.length&&"string"!==typeof t[0])throw new Error("alphabet.decode input should be array of strings");return t.map((t=>{if("string"!==typeof t)throw new Error(`alphabet.decode: not string element=${t}`);const r=e.indexOf(t);if(-1===r)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return r}))}}}function ea(e=""){if("string"!==typeof e)throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&"string"!==typeof t[0])throw new Error("join.encode input should be array of strings");for(let e of t)if("string"!==typeof e)throw new Error(`join.encode: non-string input=${e}`);return t.join(e)},decode:t=>{if("string"!==typeof t)throw new Error("join.decode input should be string");return t.split(e)}}}function ta(e,t="="){if(Js(e),"string"!==typeof t)throw new Error("padding chr should be string");return{encode(r){if(!Array.isArray(r)||r.length&&"string"!==typeof r[0])throw new Error("padding.encode input should be array of strings");for(let e of r)if("string"!==typeof e)throw new Error(`padding.encode: non-string input=${e}`);for(;r.length*e%8;)r.push(t);return r},decode(r){if(!Array.isArray(r)||r.length&&"string"!==typeof r[0])throw new Error("padding.encode input should be array of strings");for(let e of r)if("string"!==typeof e)throw new Error(`padding.decode: non-string input=${e}`);let n=r.length;if(n*e%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--)if(!((n-1)*e%8))throw new Error("Invalid padding: string has too much padding");return r.slice(0,n)}}}function ra(e){if("function"!==typeof e)throw new Error("normalize fn should be function");return{encode:e=>e,decode:t=>e(t)}}qs=new WeakMap,Ks=new WeakMap,Hs=new WeakMap,Fs=new WeakMap,Ws=new WeakMap,$s=new WeakMap;const na=(e,t)=>t?na(t,e%t):e,ia=(e,t)=>e+(t-na(e,t));function oa(e,t,r,n){if(!Array.isArray(e))throw new Error("convertRadix2: data should be array");if(t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(ia(t,r)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${ia(t,r)}`);let i=0,o=0;const s=2**r-1,a=[];for(const u of e){if(Js(u),u>=2**t)throw new Error(`convertRadix2: invalid data word=${u} from=${t}`);if(i=i<<t|u,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=r;o-=r)a.push((i>>o-r&s)>>>0);i&=2**o-1}if(i=i<<r-o&s,!n&&o>=t)throw new Error("Excess padding");if(!n&&i)throw new Error(`Non-zero padding: ${i}`);return n&&o>0&&a.push(i>>>0),a}function sa(e,t=!1){if(Js(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(ia(8,e)>32||ia(e,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!Xs(r))throw new Error("radix2.encode input should be Uint8Array");return oa(Array.from(r),8,e,!t)},decode:r=>{if(!Array.isArray(r)||r.length&&"number"!==typeof r[0])throw new Error("radix2.decode input should be array of numbers");return Uint8Array.from(oa(r,e,8,t))}}}sa(4),Qs("0123456789ABCDEF"),ea(""),sa(5),Qs("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),ta(5),ea(""),sa(5),Qs("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),ea(""),sa(5),Qs("0123456789ABCDEFGHIJKLMNOPQRSTUV"),ta(5),ea(""),sa(5),Qs("0123456789ABCDEFGHIJKLMNOPQRSTUV"),ea(""),sa(5),Qs("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),ea(""),ra((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")));const aa=Ys(sa(6),Qs("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),ta(6),ea(""));sa(6),Qs("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),ea(""),sa(6),Qs("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),ta(6),ea(""),sa(6),Qs("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),ea(""),Qs("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),ea("");sa(4),Qs("0123456789abcdef"),ea(""),ra((e=>{if("string"!==typeof e||e.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()}));function ua(e,t){return function(e){return Boolean("string"===typeof e?.prototype?.constructor?.name)}(e)?new e({message:t}):e({message:t})}class ca extends Error{constructor(e){super(e.message),this.code="ERR_ASSERTION"}}r("Dp+g").Buffer;!function(){const e=[]}();function fa(e){return e instanceof Uint8Array}function la(e){!function(e,t="Assertion failed.",r=ca){if(!e){if(t instanceof Error)throw t;throw ua(r,t)}}(fa(e),"Value must be a Uint8Array.")}function ha(e){return la(e),aa.encode(e)}var da;!function(e){e.STANDARD__CONNECT="standard:connect",e.STANDARD__DISCONNECT="standard:disconnect",e.STANDARD__EVENTS="standard:events",e.SUI__SIGN_AND_EXECUTE_TRANSACTION_BLOCK="sui:signAndExecuteTransactionBlock",e.SUI__SIGN_TRANSACTION_BLOCK="sui:signTransactionBlock",e.SUI__SIGN_PERSONAL_MESSAGE="sui:signPersonalMessage"}(da||(da={}));var pa=function(e){k(r,e);var t=N(r);function r(){var e;g(this,r),_(C(e=t.call(this)),"_rpcUrl",void 0),_(C(e),"_namespace","sui"),_(C(e),"_signMethod","ed25519");var n=C(e);_(C(e),"connect",i(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("sui connect called"),e.next=4,n._requestNormalConnect();case 4:return n.emit("change",{accounts:n.accounts}),e.abrupt("return",{accounts:n.accounts});case 8:throw e.prev=8,e.t0=e.catch(0),n.reportError(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])}))));var o=C(e);_(C(e),"signPersonalMessage",function(){var e=i(s().mark((function e(t){var r,n,i,a,u,c;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.getIsUniversalSign();case 3:return r=e.sent,e.next=6,o.getIsNewSuiSign();case 6:if(n=e.sent,!r||!n){e.next=17;break}if(o._connectedAddress){e.next=10;break}throw new Error("No connected address, please connect first");case 10:return i={id:1,jsonrpc:"2.0",method:"sui_signPersonalMessage",params:{sender:o._connectedPubKey,message:btoa((new TextDecoder).decode(t.message))}},e.next=13,o._universalSign({type:"signMessage",request:i});case 13:return a=e.sent,u=a.signature,c=a.transaction,e.abrupt("return",{signature:u,bytes:c});case 17:return e.next=19,o._previewMessage((new TextDecoder).decode(t.message));case 19:return e.abrupt("return",o._keyPair.signPersonalMessage(t.message));case 22:throw e.prev=22,e.t0=e.catch(0),o.reportError(e.t0),e.t0;case 26:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(t){return e.apply(this,arguments)}}());var a=C(e);_(C(e),"signTransactionBlock",function(){var e=i(s().mark((function e(t){var r,n,i,o,u,c,f,l,h,d,p,g,y;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.transactionBlock,e.prev=1,a._connectedAddress){e.next=4;break}throw new Error("No connected address, please connect first");case 4:return e.next=6,a.getIsUniversalSign();case 6:return n=e.sent,e.next=9,a.getIsNewSuiSign();case 9:return i=e.sent,u=new vi({url:null!==(o=a._rpcUrl)&&void 0!==o?o:_i("mainnet")}),r.setSender(a._connectedAddress),e.next=15,r.build({client:u});case 15:if(c=e.sent,globalThis.blockBytes=c,globalThis.base64blockBytes=et.Buffer.from(c).toString("base64"),!n||!i){e.next=26;break}return f={id:1,jsonrpc:"2.0",method:"sui_signTransaction",params:{sender:a._connectedAddress,transactionJson:r.serialize(),txBytes:ha(c)}},e.next=22,a._universalSign({type:"signTransaction",request:f});case 22:return l=e.sent,h=l.signature,d=l.transaction,e.abrupt("return",{signature:h,transactionBlockBytes:d});case 26:return e.next=28,a._previewTransaction(r.blockData);case 28:return e.next=30,a._keyPair.signTransactionBlock(c);case 30:return p=e.sent,g=p.signature,y=p.bytes,e.abrupt("return",{signature:g,transactionBlockBytes:y});case 36:throw e.prev=36,e.t0=e.catch(1),a.reportError(e.t0),e.t0;case 40:case"end":return e.stop()}}),e,null,[[1,36]])})));return function(t){return e.apply(this,arguments)}}());var u=C(e);_(C(e),"signAndExecuteTransactionBlock",function(){var e=i(s().mark((function e(t){var r,n,i,o,a,c,f,l,h,d,p;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.transactionBlock,n=t.options,i=t.requestType,e.prev=1,console.log("sui signAndExecuteTransactionBlock called",r,n,i),r.setSender(u._connectedAddress),a=new vi({url:null!==(o=u._rpcUrl)&&void 0!==o?o:_i("mainnet")}),e.next=8,r.build({client:a});case 8:return c=e.sent,e.next=11,u.getIsUniversalSign();case 11:return f=e.sent,e.next=14,u.getIsNewSuiSign();case 14:if(l=e.sent,!f||!l){e.next=21;break}return h={id:1,jsonrpc:"2.0",method:"sui_signTransaction",params:{sender:u._connectedAddress,transactionJson:r.serialize(),txBytes:ha(c)}},e.next=19,u._universalSign({type:"sendTransaction",request:h});case 19:return d=e.sent.txHash,e.abrupt("return",{digest:d});case 21:return e.next=23,u._previewTransaction(r.blockData);case 23:return e.next=25,u._keyPair.signTransactionBlock(c);case 25:return p=e.sent.signature,console.log("blockBytes",r.serialize()),console.log("sui signAndExecuteTransactionBlock",et.Buffer.from(c).toString("base64"),p),e.abrupt("return",u._requestRPC({method:"sui_executeTransactionBlock",params:[et.Buffer.from(c).toString("base64"),[p]],chainId:pe}));case 31:throw e.prev=31,e.t0=e.catch(1),u.reportError(e.t0),e.t0;case 35:case"end":return e.stop()}}),e,null,[[1,31]])})));return function(t){return e.apply(this,arguments)}}());var c=C(e);return _(C(e),"disconnect",i(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c._requestDisconnect());case 1:case"end":return e.stop()}}),e)})))),Le(C(e)),e}return X(r,[{key:"version",get:function(){return"1.0.0"}},{key:"name",get:function(){return ce}},{key:"icon",get:function(){return fe}},{key:"chains",get:function(){return[Ds]}},{key:"accounts",get:function(){return console.log("sui accounts called"),this._connectedAddress?[new Zs({address:this._connectedAddress,publicKey:et.Buffer.from(this._connectedPubKey,"hex"),chains:this.chains,features:Object.values(da)})]:[]}},{key:"getIsNewSuiSign",value:function(){var e=this;return i(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._request(te.requestIsNewSuiSign));case 1:case"end":return t.stop()}}),t)})))()}},{key:"features",get:function(){var e,t=this;return _(e={},da.STANDARD__CONNECT,{version:"1.0.0",connect:this.connect}),_(e,da.STANDARD__DISCONNECT,{version:"1.0.0",disconnect:this.disconnect}),_(e,da.STANDARD__EVENTS,{version:"1.0.0",on:function(e,r){t.on(e,r)}}),_(e,da.SUI__SIGN_AND_EXECUTE_TRANSACTION_BLOCK,{version:"1.0.0",signAndExecuteTransactionBlock:this.signAndExecuteTransactionBlock}),_(e,da.SUI__SIGN_TRANSACTION_BLOCK,{version:"1.0.0",signTransactionBlock:this.signTransactionBlock}),_(e,da.SUI__SIGN_PERSONAL_MESSAGE,{version:"1.0.0",signPersonalMessage:this.signPersonalMessage}),e}},{key:"_keyPair",get:function(){var e=this,t=new js;return t.getPublicKey=function(){return new Ls(e.accounts[0].publicKey)},t.sign=function(t){return e._requestSign({data:t})},t}}]),r}(Ye),ga=4294967295,ya=18446744073709551615n,ma=340282366920938463463374607431768211455n,ba=115792089237316195423570985008687907853269984665640564039457584007913129639935n,wa=class extends Error{constructor(e,t){super(e),this.invalidReason=t}},va=(e=>(e.TOO_SHORT="too_short",e.INVALID_LENGTH="invalid_length",e.INVALID_HEX_CHARS="invalid_hex_chars",e))(va||{}),_a=class e{constructor(e){this.data=e}toUint8Array(){return this.data}toStringWithoutPrefix(){return Ri(this.data)}toString(){return`0x${this.toStringWithoutPrefix()}`}static fromString(t){let r=t;if(r.startsWith("0x")&&(r=r.slice(2)),0===r.length)throw new wa("Hex string is too short, must be at least 1 char long, excluding the optional leading 0x.","too_short");if(r.length%2!==0)throw new wa("Hex string must be an even number of hex characters.","invalid_length");try{return new e(Fi(r))}catch(tp){throw new wa(`Hex string contains invalid hex characters: ${tp?.message}`,"invalid_hex_chars")}}static fromHexInput(t){return t instanceof Uint8Array?new e(t):e.fromString(t)}static isValid(t){try{return e.fromString(t),{valid:!0}}catch(r){return{valid:!1,invalidReason:r?.invalidReason,invalidReasonMessage:r?.message}}}equals(e){return this.data.length===e.data.length&&this.data.every(((t,r)=>t===e.data[r]))}},Sa=Object.defineProperty,Ea=Object.getOwnPropertyDescriptor,Aa=(e,t,r,n)=>{for(var i,o=n>1?void 0:n?Ea(t,r):t,s=e.length-1;s>=0;s--)(i=e[s])&&(o=(n?i(t,r,o):i(o))||o);return n&&o&&Sa(t,r,o),o},xa=class{bcsToBytes(){let e=new ka;return this.serialize(e),e.toUint8Array()}bcsToHex(){let e=this.bcsToBytes();return _a.fromHexInput(e)}},ka=class{constructor(e=64){if(e<=0)throw new Error("Length needs to be greater than 0");this.buffer=new ArrayBuffer(e),this.offset=0}ensureBufferWillHandleSize(e){for(;this.buffer.byteLength<this.offset+e;){let e=new ArrayBuffer(2*this.buffer.byteLength);new Uint8Array(e).set(new Uint8Array(this.buffer)),this.buffer=e}}appendToBuffer(e){this.ensureBufferWillHandleSize(e.length),new Uint8Array(this.buffer,this.offset).set(e),this.offset+=e.length}serializeWithFunction(e,t,r){this.ensureBufferWillHandleSize(t);let n=new DataView(this.buffer,this.offset);e.apply(n,[0,r,!0]),this.offset+=t}serializeStr(e){let t=new TextEncoder;this.serializeBytes(t.encode(e))}serializeBytes(e){this.serializeU32AsUleb128(e.length),this.appendToBuffer(e)}serializeFixedBytes(e){this.appendToBuffer(e)}serializeBool(e){Ta(e);let t=e?1:0;this.appendToBuffer(new Uint8Array([t]))}serializeU8(e){this.appendToBuffer(new Uint8Array([e]))}serializeU16(e){this.serializeWithFunction(DataView.prototype.setUint16,2,e)}serializeU32(e){this.serializeWithFunction(DataView.prototype.setUint32,4,e)}serializeU64(e){let t=BigInt(e)&BigInt(ga),r=BigInt(e)>>BigInt(32);this.serializeU32(Number(t)),this.serializeU32(Number(r))}serializeU128(e){let t=BigInt(e)&ya,r=BigInt(e)>>BigInt(64);this.serializeU64(t),this.serializeU64(r)}serializeU256(e){let t=BigInt(e)&ma,r=BigInt(e)>>BigInt(128);this.serializeU128(t),this.serializeU128(r)}serializeU32AsUleb128(e){let t=e,r=[];for(;t>>>7;)r.push(127&t|128),t>>>=7;r.push(t),this.appendToBuffer(new Uint8Array(r))}toUint8Array(){return new Uint8Array(this.buffer).slice(0,this.offset)}serialize(e){e.serialize(this)}serializeVector(e){this.serializeU32AsUleb128(e.length),e.forEach((e=>{e.serialize(this)}))}};function Ta(e){if("boolean"!=typeof e)throw new Error(`${e} is not a boolean value`)}Aa([Pa(0,255)],ka.prototype,"serializeU8",1),Aa([Pa(0,65535)],ka.prototype,"serializeU16",1),Aa([Pa(0,ga)],ka.prototype,"serializeU32",1),Aa([Pa(BigInt(0),ya)],ka.prototype,"serializeU64",1),Aa([Pa(BigInt(0),ma)],ka.prototype,"serializeU128",1),Aa([Pa(BigInt(0),ba)],ka.prototype,"serializeU256",1),Aa([Pa(0,ga)],ka.prototype,"serializeU32AsUleb128",1);var Ia=(e,t,r)=>`${e} is out of range: [${t}, ${r}]`;function Ma(e,t,r){let n=BigInt(e);if(n>BigInt(r)||n<BigInt(t))throw new Error(Ia(e,t,r))}function Pa(e,t){return(r,n,i)=>{let o=i.value;return i.value=function(r){return Ma(r,e,t),o.apply(this,[r])},i}}var Ba=(e=>(e.INCORRECT_NUMBER_OF_BYTES="incorrect_number_of_bytes",e.INVALID_HEX_CHARS="invalid_hex_chars",e.TOO_SHORT="too_short",e.TOO_LONG="too_long",e.LEADING_ZERO_X_REQUIRED="leading_zero_x_required",e.LONG_FORM_REQUIRED_UNLESS_SPECIAL="long_form_required_unless_special",e.INVALID_PADDING_ZEROES="INVALID_PADDING_ZEROES",e))(Ba||{}),Oa=class e extends xa{constructor(t){if(super(),t.length!==e.LENGTH)throw new wa("AccountAddress data should be exactly 32 bytes long","incorrect_number_of_bytes");this.data=t}isSpecial(){return this.data.slice(0,this.data.length-1).every((e=>0===e))&&this.data[this.data.length-1]<16}toString(){return`0x${this.toStringWithoutPrefix()}`}toStringWithoutPrefix(){let e=Ri(this.data);return this.isSpecial()&&(e=e[e.length-1]),e}toStringLong(){return`0x${this.toStringLongWithoutPrefix()}`}toStringLongWithoutPrefix(){return Ri(this.data)}toUint8Array(){return this.data}serialize(e){e.serializeFixedBytes(this.data)}serializeForEntryFunction(e){let t=this.bcsToBytes();e.serializeBytes(t)}serializeForScriptFunction(e){e.serializeU32AsUleb128(3),e.serialize(this)}static deserialize(t){let r=t.deserializeFixedBytes(e.LENGTH);return new e(r)}static fromStringStrict(t){if(!t.startsWith("0x"))throw new wa("Hex string must start with a leading 0x.","leading_zero_x_required");let r=e.fromString(t);if(t.length!==e.LONG_STRING_LENGTH+2){if(!r.isSpecial())throw new wa(`The given hex string ${t} is not a special address, it must be represented as 0x + 64 chars.`,"long_form_required_unless_special");if(3!==t.length)throw new wa(`The given hex string ${t} is a special address not in LONG form, it must be 0x0 to 0xf without padding zeroes.`,"INVALID_PADDING_ZEROES")}return r}static fromString(t){let r,n=t;if(t.startsWith("0x")&&(n=t.slice(2)),0===n.length)throw new wa("Hex string is too short, must be 1 to 64 chars long, excluding the leading 0x.","too_short");if(n.length>64)throw new wa("Hex string is too long, must be 1 to 64 chars long, excluding the leading 0x.","too_long");try{r=Fi(n.padStart(64,"0"))}catch(za){throw new wa(`Hex characters are invalid: ${za?.message}`,"invalid_hex_chars")}return new e(r)}static from(t){return t instanceof e?t:t instanceof Uint8Array?new e(t):e.fromString(t)}static fromStrict(t){return t instanceof e?t:t instanceof Uint8Array?new e(t):e.fromStringStrict(t)}static isValid(t){try{return t.strict?e.fromStrict(t.input):e.from(t.input),{valid:!0}}catch(tp){return{valid:!1,invalidReason:tp?.invalidReason,invalidReasonMessage:tp?.message}}}equals(e){return this.data.length===e.data.length&&this.data.every(((t,r)=>t===e.data[r]))}};Oa.LENGTH=32,Oa.LONG_STRING_LENGTH=64,Oa.ZERO=Oa.from("0x0"),Oa.ONE=Oa.from("0x1"),Oa.TWO=Oa.from("0x2"),Oa.THREE=Oa.from("0x3"),Oa.FOUR=Oa.from("0x4");var Ca=Oa,Ua="\n    fragment CurrentTokenOwnershipFields on current_token_ownerships_v2 {\n  token_standard\n  token_properties_mutated_v1\n  token_data_id\n  table_type_v1\n  storage_id\n  property_version_v1\n  owner_address\n  last_transaction_version\n  last_transaction_timestamp\n  is_soulbound_v2\n  is_fungible_v2\n  amount\n  current_token_data {\n    collection_id\n    description\n    is_fungible_v2\n    largest_property_version_v1\n    last_transaction_timestamp\n    last_transaction_version\n    maximum\n    supply\n    token_data_id\n    token_name\n    token_properties\n    token_standard\n    token_uri\n    decimals\n    current_collection {\n      collection_id\n      collection_name\n      creator_address\n      current_supply\n      description\n      last_transaction_timestamp\n      last_transaction_version\n      max_supply\n      mutable_description\n      mutable_uri\n      table_handle_v1\n      token_standard\n      total_minted_v2\n      uri\n    }\n  }\n}\n    ",Na="\n    query getAccountCoinsCount($address: String) {\n  current_fungible_asset_balances_aggregate(\n    where: {owner_address: {_eq: $address}}\n  ) {\n    aggregate {\n      count\n    }\n  }\n}\n    ",Ra="\n    query getAccountCoinsData($where_condition: current_fungible_asset_balances_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_fungible_asset_balances_order_by!]) {\n  current_fungible_asset_balances(\n    where: $where_condition\n    offset: $offset\n    limit: $limit\n    order_by: $order_by\n  ) {\n    amount\n    asset_type\n    is_frozen\n    is_primary\n    last_transaction_timestamp\n    last_transaction_version\n    owner_address\n    storage_id\n    token_standard\n    metadata {\n      token_standard\n      symbol\n      supply_aggregator_table_key_v1\n      supply_aggregator_table_handle_v1\n      project_uri\n      name\n      last_transaction_version\n      last_transaction_timestamp\n      icon_uri\n      decimals\n      creator_address\n      asset_type\n    }\n  }\n}\n    ",La="\n    query getAccountCollectionsWithOwnedTokens($where_condition: current_collection_ownership_v2_view_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_collection_ownership_v2_view_order_by!]) {\n  current_collection_ownership_v2_view(\n    where: $where_condition\n    offset: $offset\n    limit: $limit\n    order_by: $order_by\n  ) {\n    current_collection {\n      collection_id\n      collection_name\n      creator_address\n      current_supply\n      description\n      last_transaction_timestamp\n      last_transaction_version\n      mutable_description\n      max_supply\n      mutable_uri\n      table_handle_v1\n      token_standard\n      total_minted_v2\n      uri\n    }\n    collection_id\n    collection_name\n    collection_uri\n    creator_address\n    distinct_tokens\n    last_transaction_version\n    owner_address\n    single_token_uri\n  }\n}\n    ",za="\n    query getAccountOwnedObjects($where_condition: current_objects_bool_exp, $offset: Int, $limit: Int, $order_by: [current_objects_order_by!]) {\n  current_objects(\n    where: $where_condition\n    offset: $offset\n    limit: $limit\n    order_by: $order_by\n  ) {\n    allow_ungated_transfer\n    state_key_hash\n    owner_address\n    object_address\n    last_transaction_version\n    last_guid_creation_num\n    is_deleted\n  }\n}\n    ",ja=`\n    query getAccountOwnedTokens($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {\n  current_token_ownerships_v2(\n    where: $where_condition\n    offset: $offset\n    limit: $limit\n    order_by: $order_by\n  ) {\n    ...CurrentTokenOwnershipFields\n  }\n}\n    ${Ua}`,Da=`\n    query getAccountOwnedTokensFromCollection($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {\n  current_token_ownerships_v2(\n    where: $where_condition\n    offset: $offset\n    limit: $limit\n    order_by: $order_by\n  ) {\n    ...CurrentTokenOwnershipFields\n  }\n}\n    ${Ua}`,qa="\n    query getAccountTokensCount($where_condition: current_token_ownerships_v2_bool_exp, $offset: Int, $limit: Int) {\n  current_token_ownerships_v2_aggregate(\n    where: $where_condition\n    offset: $offset\n    limit: $limit\n  ) {\n    aggregate {\n      count\n    }\n  }\n}\n    ",Ka="\n    query getAccountTransactionsCount($address: String) {\n  account_transactions_aggregate(where: {account_address: {_eq: $address}}) {\n    aggregate {\n      count\n    }\n  }\n}\n    ",Ha="\n    query getChainTopUserTransactions($limit: Int) {\n  user_transactions(limit: $limit, order_by: {version: desc}) {\n    version\n  }\n}\n    ",Fa="\n    query getCollectionData($where_condition: current_collections_v2_bool_exp!) {\n  current_collections_v2(where: $where_condition) {\n    collection_id\n    collection_name\n    creator_address\n    current_supply\n    description\n    last_transaction_timestamp\n    last_transaction_version\n    max_supply\n    mutable_description\n    mutable_uri\n    table_handle_v1\n    token_standard\n    total_minted_v2\n    uri\n  }\n}\n    ",Wa="\n    query getCurrentFungibleAssetBalances($where_condition: current_fungible_asset_balances_bool_exp, $offset: Int, $limit: Int) {\n  current_fungible_asset_balances(\n    where: $where_condition\n    offset: $offset\n    limit: $limit\n  ) {\n    amount\n    asset_type\n    is_frozen\n    is_primary\n    last_transaction_timestamp\n    last_transaction_version\n    owner_address\n    storage_id\n    token_standard\n  }\n}\n    ",$a="\n    query getDelegatedStakingActivities($delegatorAddress: String, $poolAddress: String) {\n  delegated_staking_activities(\n    where: {delegator_address: {_eq: $delegatorAddress}, pool_address: {_eq: $poolAddress}}\n  ) {\n    amount\n    delegator_address\n    event_index\n    event_type\n    pool_address\n    transaction_version\n  }\n}\n    ",Va="\n    query getEvents($where_condition: events_bool_exp, $offset: Int, $limit: Int, $order_by: [events_order_by!]) {\n  events(\n    where: $where_condition\n    offset: $offset\n    limit: $limit\n    order_by: $order_by\n  ) {\n    account_address\n    creation_number\n    data\n    event_index\n    sequence_number\n    transaction_block_height\n    transaction_version\n    type\n    indexed_type\n  }\n}\n    ",Ga="\n    query getFungibleAssetActivities($where_condition: fungible_asset_activities_bool_exp, $offset: Int, $limit: Int) {\n  fungible_asset_activities(\n    where: $where_condition\n    offset: $offset\n    limit: $limit\n  ) {\n    amount\n    asset_type\n    block_height\n    entry_function_id_str\n    event_index\n    gas_fee_payer_address\n    is_frozen\n    is_gas_fee\n    is_transaction_success\n    owner_address\n    storage_id\n    storage_refund_amount\n    token_standard\n    transaction_timestamp\n    transaction_version\n    type\n  }\n}\n    ",Za="\n    query getFungibleAssetMetadata($where_condition: fungible_asset_metadata_bool_exp, $offset: Int, $limit: Int) {\n  fungible_asset_metadata(where: $where_condition, offset: $offset, limit: $limit) {\n    icon_uri\n    project_uri\n    supply_aggregator_table_handle_v1\n    supply_aggregator_table_key_v1\n    creator_address\n    asset_type\n    decimals\n    last_transaction_timestamp\n    last_transaction_version\n    name\n    symbol\n    token_standard\n  }\n}\n    ",Ja="\n    query getNames($offset: Int, $limit: Int, $where_condition: current_aptos_names_bool_exp, $order_by: [current_aptos_names_order_by!]) {\n  current_aptos_names(\n    limit: $limit\n    where: $where_condition\n    order_by: $order_by\n    offset: $offset\n  ) {\n    ...AnsTokenFragment\n  }\n}\n    \n    fragment AnsTokenFragment on current_aptos_names {\n  domain\n  expiration_timestamp\n  registered_address\n  subdomain\n  token_standard\n  is_primary\n  owner_address\n}\n    ",Xa="\n    query getNumberOfDelegators($where_condition: num_active_delegator_per_pool_bool_exp, $order_by: [num_active_delegator_per_pool_order_by!]) {\n  num_active_delegator_per_pool(where: $where_condition, order_by: $order_by) {\n    num_active_delegator\n    pool_address\n  }\n}\n    ",Ya="\n    query getProcessorStatus($where_condition: processor_status_bool_exp) {\n  processor_status(where: $where_condition) {\n    last_success_version\n    processor\n    last_updated\n  }\n}\n    ",Qa="\n    query getTokenActivity($where_condition: token_activities_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [token_activities_v2_order_by!]) {\n  token_activities_v2(\n    where: $where_condition\n    order_by: $order_by\n    offset: $offset\n    limit: $limit\n  ) {\n    ...TokenActivitiesFields\n  }\n}\n    \n    fragment TokenActivitiesFields on token_activities_v2 {\n  after_value\n  before_value\n  entry_function_id_str\n  event_account_address\n  event_index\n  from_address\n  is_fungible_v2\n  property_version_v1\n  to_address\n  token_amount\n  token_data_id\n  token_standard\n  transaction_timestamp\n  transaction_version\n  type\n}\n    ",eu=`\n    query getCurrentTokenOwnership($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {\n  current_token_ownerships_v2(\n    where: $where_condition\n    offset: $offset\n    limit: $limit\n    order_by: $order_by\n  ) {\n    ...CurrentTokenOwnershipFields\n  }\n}\n    ${Ua}`,tu="\n    query getTokenData($where_condition: current_token_datas_v2_bool_exp, $offset: Int, $limit: Int, $order_by: [current_token_datas_v2_order_by!]) {\n  current_token_datas_v2(\n    where: $where_condition\n    offset: $offset\n    limit: $limit\n    order_by: $order_by\n  ) {\n    collection_id\n    description\n    is_fungible_v2\n    largest_property_version_v1\n    last_transaction_timestamp\n    last_transaction_version\n    maximum\n    supply\n    token_data_id\n    token_name\n    token_properties\n    token_standard\n    token_uri\n    decimals\n    current_collection {\n      collection_id\n      collection_name\n      creator_address\n      current_supply\n      description\n      last_transaction_timestamp\n      last_transaction_version\n      max_supply\n      mutable_description\n      mutable_uri\n      table_handle_v1\n      token_standard\n      total_minted_v2\n      uri\n    }\n  }\n}\n    ";var ru=class extends Error{constructor(e,t,r){super(r),this.name="AptosApiError",this.url=t.url,this.status=t.status,this.statusText=t.statusText,this.data=t.data,this.request=e}},nu={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",429:"Too Many Requests",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable"};async function iu(e,t,r){let n,{url:i,path:o}=e,s=o?`${i}/${o}`:i,a=await async function(e,t){let{url:r,method:n,body:i,contentType:o,params:s,overrides:a}=e,u={...a?.HEADERS,"x-aptos-client":"aptos-typescript-sdk/1.11.0","content-type":o??"application/json"};return a?.AUTH_TOKEN&&(u.Authorization=`Bearer ${a?.AUTH_TOKEN}`),a?.API_KEY&&(u.Authorization=`Bearer ${a?.API_KEY}`),t.provider({url:r,method:n,body:i,params:s,headers:u,overrides:a})}({...e,url:s},t.client),u={status:a.status,statusText:a.statusText,data:a.data,headers:a.headers,config:a.config,request:a.request,url:s};if(401===u.status)throw new ru(e,u,`Error: ${u.data}`);if("Indexer"===r){let t=u.data;if(t.errors)throw new ru(e,u,`Indexer error: ${t.errors[0].message}`??0);u.data=t.data}if(u.status>=200&&u.status<300)return u;throw n=u&&u.data&&"message"in u.data&&"error_code"in u.data?JSON.stringify(u.data):u.status in nu?nu[u.status]:`Unhandled Error ${u.status} : ${u.statusText}`,new ru(e,u,`${r} error: ${n}`)}async function ou(e){let{aptosConfig:t,overrides:r,params:n,contentType:i,acceptType:o,path:s,originMethod:a,type:u}=e;return iu({url:t.getRequestUrl(u),method:"GET",originMethod:a,path:s,contentType:i,acceptType:o,params:n,overrides:{...t.clientConfig,...r}},t,e.type)}async function su(e){let{aptosConfig:t}=e;return ou({...e,type:"Fullnode",overrides:{...t.clientConfig,...t.fullnodeConfig,...e.overrides,HEADERS:{...t.clientConfig?.HEADERS,...t.fullnodeConfig?.HEADERS}}})}async function au(e){let t,r=[],n=e.params;do{let i=await ou({type:"Fullnode",aptosConfig:e.aptosConfig,originMethod:e.originMethod,path:e.path,params:n,overrides:e.overrides});t=i.headers["x-aptos-cursor"],delete i.headers,r.push(...i.data),n.start=t}while(null!=t);return r}async function uu(e){let{type:t,originMethod:r,path:n,body:i,acceptType:o,contentType:s,params:a,aptosConfig:u,overrides:c}=e;return iu({url:u.getRequestUrl(t),method:"POST",originMethod:r,path:n,body:i,contentType:s,acceptType:o,params:a,overrides:c},u,e.type)}async function cu(e){let{aptosConfig:t}=e;return uu({...e,type:"Fullnode",overrides:{...t.clientConfig,...t.fullnodeConfig,...e.overrides,HEADERS:{...t.clientConfig?.HEADERS,...t.fullnodeConfig?.HEADERS}}})}async function fu(e){let{aptosConfig:t}=e,{data:r}=await su({aptosConfig:t,originMethod:"getLedgerInfo",path:""});return r}async function lu(e){let{aptosConfig:t,handle:r,data:n,options:i}=e;return(await cu({aptosConfig:t,originMethod:"getTableItem",path:`tables/${r}/item`,params:{ledger_version:i?.ledgerVersion},body:n})).data}async function hu(e){let{aptosConfig:t,query:r,originMethod:n}=e,{data:i}=await async function(e){let{aptosConfig:t}=e;return uu({...e,type:"Indexer",overrides:{...t.clientConfig,...t.indexerConfig,...e.overrides,HEADERS:{...t.clientConfig?.HEADERS,...t.indexerConfig?.HEADERS}}})}({aptosConfig:t,originMethod:n??"queryIndexer",path:"",body:r,overrides:{WITH_CREDENTIALS:!1}});return i}async function du(e){let t=await async function(e){let{aptosConfig:t}=e;return(await hu({aptosConfig:t,query:{query:Ya},originMethod:"getProcessorStatuses"})).processor_status}({aptosConfig:e.aptosConfig});return BigInt(t[0].last_success_version)}async function pu(e){let{aptosConfig:t,processorType:r}=e;return(await hu({aptosConfig:t,query:{query:Ya,variables:{where_condition:{processor:{_eq:r}}}},originMethod:"getProcessorStatus"})).processor_status[0]}async function gu(e){let{aptosConfig:t,options:r}=e;(e=>{if(e&&e.length>300)throw new Error("Event type length exceeds the maximum length of 300")})(r?.where?.indexed_type?._eq);let n={query:Va,variables:{where_condition:r?.where,offset:r?.offset,limit:r?.limit,order_by:r?.orderBy}};return(await hu({aptosConfig:t,query:n,originMethod:"getEvents"})).events}async function yu(e){return new Promise((t=>{setTimeout(t,e)}))}var mu=new Map;function bu(e,t,r){return async(...n)=>{if(mu.has(t)){let{value:e,timestamp:n}=mu.get(t);if(void 0===r||Date.now()-n<=r)return e}let i=await e(...n);return mu.set(t,{value:i,timestamp:Date.now()}),i}}var wu=(e=>(e.FULLNODE="Fullnode",e.INDEXER="Indexer",e.FAUCET="Faucet",e))(wu||{}),vu="0x1::aptos_coin::AptosCoin",_u="APTOS::RawTransactionWithData",Su=(e=>(e.ACCOUNT_TRANSACTION_PROCESSOR="account_transactions_processor",e.DEFAULT="default_processor",e.EVENTS_PROCESSOR="events_processor",e.FUNGIBLE_ASSET_PROCESSOR="fungible_asset_processor",e.STAKE_PROCESSOR="stake_processor",e.TOKEN_V2_PROCESSOR="token_v2_processor",e.USER_TRANSACTION_PROCESSOR="user_transaction_processor",e))(Su||{});async function Eu(e){let{aptosConfig:t}=e;return bu((async()=>{let{data:e}=await su({aptosConfig:t,originMethod:"getGasPriceEstimation",path:"estimate_gas_price"});return e}),`gas-price-${t.network}`,3e5)()}async function Au(e){let{aptosConfig:t,transactionHash:r}=e,{data:n}=await su({aptosConfig:t,path:`transactions/by_hash/${r}`,originMethod:"getTransactionByHash"});return n}async function xu(e){let t,r,{aptosConfig:n,transactionHash:i,options:o}=e,s=o?.timeoutSecs??20,a=o?.checkSuccess??!0,u=!0,c=0,f=200;for(;u&&!(c>=s);){try{if(t=await Au({aptosConfig:n,transactionHash:i}),u="pending_transaction"===t.type,!u)break}catch(l){if(!(l instanceof ru)||(r=l,404!==l.status&&l.status>=400&&l.status<500))throw l}await yu(f),c+=f/1e3,f*=1.5}if(void 0===t)throw r||new Tu(`Fetching transaction ${i} failed and timed out after ${s} seconds`,t);if("pending_transaction"===t.type)throw new Tu(`Transaction ${i} timed out in pending state after ${s} seconds`,t);if(!a)return t;if(!t.success)throw new Iu(`Transaction ${i} failed with an error: ${t.vm_status}`,t);return t}async function ku(e){let{aptosConfig:t,processorType:r}=e,n=BigInt(e.minimumLedgerVersion),i=(new Date).getTime(),o=BigInt(-1);for(;o<n;){if((new Date).getTime()-i>3e3)throw new Error("waitForLastSuccessIndexerVersionSync timeout");if(o=void 0===r?await du({aptosConfig:t}):(await pu({aptosConfig:t,processorType:r})).last_success_version,o>=n)break;await yu(200)}}var Tu=class extends Error{constructor(e,t){super(e),this.lastSubmittedTransaction=t}},Iu=class extends Error{constructor(e,t){super(e),this.transaction=t}};async function Mu(e){void 0!==e.minimumLedgerVersion&&await ku({aptosConfig:e.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:e.processorType})}var Pu=class{constructor(e){this.config=e}async getModuleEventsByEventType(e){return await Mu({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"events_processor"}),async function(e){let{aptosConfig:t,eventType:r,options:n}=e;return gu({aptosConfig:t,options:{where:{account_address:{_eq:"0x0000000000000000000000000000000000000000000000000000000000000000"},creation_number:{_eq:"0"},sequence_number:{_eq:"0"},indexed_type:{_eq:r}},pagination:n,orderBy:n?.orderBy}})}({aptosConfig:this.config,...e})}async getAccountEventsByCreationNumber(e){return await Mu({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"events_processor"}),async function(e){let{accountAddress:t,aptosConfig:r,creationNumber:n,options:i}=e;return gu({aptosConfig:r,options:{where:{account_address:{_eq:Ca.from(t).toStringLong()},creation_number:{_eq:n}},pagination:i,orderBy:i?.orderBy}})}({aptosConfig:this.config,...e})}async getAccountEventsByEventType(e){return await Mu({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"events_processor"}),async function(e){let{accountAddress:t,aptosConfig:r,eventType:n,options:i}=e;return gu({aptosConfig:r,options:{where:{account_address:{_eq:Ca.from(t).toStringLong()},indexed_type:{_eq:n}},pagination:i,orderBy:i?.orderBy}})}({aptosConfig:this.config,...e})}async getEvents(e){return await Mu({config:this.config,minimumLedgerVersion:e?.minimumLedgerVersion,processorType:"events_processor"}),gu({aptosConfig:this.config,...e})}};async function Bu(e){let{aptosConfig:t,accountAddress:r,amount:n,options:i}=e,o=i?.timeoutSecs||20,{data:s}=await async function(e){let{aptosConfig:t}=e,r={...t,clientConfig:{...t.clientConfig}};return delete r?.clientConfig?.API_KEY,uu({...e,type:"Faucet",overrides:{...r.clientConfig,...r.faucetConfig,...e.overrides,HEADERS:{...r.clientConfig?.HEADERS,...r.faucetConfig?.HEADERS}}})}({aptosConfig:t,path:"fund",body:{address:Ca.from(r).toString(),amount:n},originMethod:"fundAccount"}),a=s.txn_hashes[0],u=await xu({aptosConfig:t,transactionHash:a,options:{timeoutSecs:o,checkSuccess:i?.checkSuccess}});if("user_transaction"===u.type)return u;throw new Error(`Unexpected transaction received for fund account: ${u.type}`)}var Ou=class{constructor(e){this.config=e}async fundAccount(e){let t=await Bu({aptosConfig:this.config,...e});return!1!==e.options?.waitForIndexer&&await ku({aptosConfig:this.config,minimumLedgerVersion:BigInt(t.version)}),t}},Cu=class e extends xa{constructor(e){super(),this.identifier=e}serialize(e){e.serializeStr(this.identifier)}static deserialize(t){let r=t.deserializeStr();return new e(r)}},Uu=class extends xa{static deserialize(e){let t=e.deserializeUleb128AsU32();switch(t){case 0:return Nu.load(e);case 1:return Ru.load(e);case 2:return ju.load(e);case 3:return Du.load(e);case 4:return Ku.load(e);case 5:return Hu.load(e);case 6:return $u.load(e);case 7:return Vu.load(e);case 8:return Lu.load(e);case 9:return zu.load(e);case 10:return qu.load(e);case 255:return Wu.load(e);default:throw new Error(`Unknown variant index for TypeTag: ${t}`)}}isBool(){return this instanceof Nu}isAddress(){return this instanceof Ku}isGeneric(){return this instanceof Wu}isSigner(){return this instanceof Hu}isVector(){return this instanceof $u}isStruct(){return this instanceof Vu}isU8(){return this instanceof Ru}isU16(){return this instanceof Lu}isU32(){return this instanceof zu}isU64(){return this instanceof ju}isU128(){return this instanceof Du}isU256(){return this instanceof qu}},Nu=class e extends Uu{toString(){return"bool"}serialize(e){e.serializeU32AsUleb128(0)}static load(t){return new e}},Ru=class e extends Uu{toString(){return"u8"}serialize(e){e.serializeU32AsUleb128(1)}static load(t){return new e}},Lu=class e extends Uu{toString(){return"u16"}serialize(e){e.serializeU32AsUleb128(8)}static load(t){return new e}},zu=class e extends Uu{toString(){return"u32"}serialize(e){e.serializeU32AsUleb128(9)}static load(t){return new e}},ju=class e extends Uu{toString(){return"u64"}serialize(e){e.serializeU32AsUleb128(2)}static load(t){return new e}},Du=class e extends Uu{toString(){return"u128"}serialize(e){e.serializeU32AsUleb128(3)}static load(t){return new e}},qu=class e extends Uu{toString(){return"u256"}serialize(e){e.serializeU32AsUleb128(10)}static load(t){return new e}},Ku=class e extends Uu{toString(){return"address"}serialize(e){e.serializeU32AsUleb128(4)}static load(t){return new e}},Hu=class e extends Uu{toString(){return"signer"}serialize(e){e.serializeU32AsUleb128(5)}static load(t){return new e}},Fu=class e extends Uu{constructor(e){super(),this.value=e}toString(){return`&${this.value.toString()}`}serialize(e){e.serializeU32AsUleb128(254)}static load(t){let r=Uu.deserialize(t);return new e(r)}},Wu=class e extends Uu{constructor(e){if(super(),this.value=e,e<0)throw new Error("Generic type parameter index cannot be negative")}toString(){return`T${this.value}`}serialize(e){e.serializeU32AsUleb128(255),e.serializeU32(this.value)}static load(t){let r=t.deserializeU32();return new e(r)}},$u=class e extends Uu{constructor(e){super(),this.value=e}toString(){return`vector<${this.value.toString()}>`}static u8(){return new e(new Ru)}serialize(e){e.serializeU32AsUleb128(6),this.value.serialize(e)}static load(t){let r=Uu.deserialize(t);return new e(r)}},Vu=class e extends Uu{constructor(e){super(),this.value=e}toString(){let e="";return this.value.typeArgs.length>0&&(e=`<${this.value.typeArgs.map((e=>e.toString())).join(", ")}>`),`${this.value.address.toString()}::${this.value.moduleName.identifier}::${this.value.name.identifier}${e}`}serialize(e){e.serializeU32AsUleb128(7),this.value.serialize(e)}static load(t){let r=Gu.deserialize(t);return new e(r)}isTypeTag(e,t,r){return this.value.moduleName.identifier===t&&this.value.name.identifier===r&&this.value.address.equals(e)}isString(){return this.isTypeTag(Ca.ONE,"string","String")}isOption(){return this.isTypeTag(Ca.ONE,"option","Option")}isObject(){return this.isTypeTag(Ca.ONE,"object","Object")}},Gu=class e extends xa{constructor(e,t,r,n){super(),this.address=e,this.moduleName=t,this.name=r,this.typeArgs=n}serialize(e){e.serialize(this.address),e.serialize(this.moduleName),e.serialize(this.name),e.serializeVector(this.typeArgs)}static deserialize(t){let r=Ca.deserialize(t),n=Cu.deserialize(t),i=Cu.deserialize(t),o=t.deserializeVector(Uu);return new e(r,n,i,o)}};function Zu(){return new Gu(Ca.ONE,new Cu("string"),new Cu("String"),[])}function Ju(e){return new Gu(Ca.ONE,new Cu("object"),new Cu("Object"),[e])}function Xu(e){return!!e.match(/^[_a-zA-Z0-9]+$/)}function Yu(e){return!!e.match(/\s/)}function Qu(e,t){let r=t;for(;r<e.length;r+=1){if(!Yu(e[r]))break}return r}var ec=(e=>(e.InvalidTypeTag="unknown type",e.UnexpectedGenericType="unexpected generic type",e.UnexpectedTypeArgumentClose="unexpected '>'",e.UnexpectedWhitespaceCharacter="unexpected whitespace character",e.UnexpectedComma="unexpected ','",e.TypeArgumentCountMismatch="type argument count doesn't match expected amount",e.MissingTypeArgumentClose="no matching '>' for '<'",e.UnexpectedPrimitiveTypeArguments="primitive types not expected to have type arguments",e.UnexpectedVectorTypeArgumentCount="vector type expected to have exactly one type argument",e.UnexpectedStructFormat="unexpected struct format, must be of the form 0xaddress::module_name::struct_name",e.InvalidModuleNameCharacter="module name must only contain alphanumeric or '_' characters",e.InvalidStructNameCharacter="struct name must only contain alphanumeric or '_' characters",e))(ec||{}),tc=class extends Error{constructor(e,t){super(`Failed to parse typeTag '${e}', ${t}`)}};function rc(e,t){let r=t?.allowGenerics??!1,n=[],i=[],o=[],s=0,a="",u=1;for(;s<e.length;){let t=e[s];if("<"===t)n.push({savedExpectedTypes:u,savedStr:a,savedTypes:o}),a="",o=[],u=1;else if(">"===t){if(""!==a){let e=nc(a,i,r);o.push(e)}let t=n.pop();if(void 0===t)throw new tc(e,"unexpected '>'");if(u!==o.length)throw new tc(e,"type argument count doesn't match expected amount");let{savedStr:s,savedTypes:c,savedExpectedTypes:f}=t;i=o,o=c,a=s,u=f}else if(","===t){if(0!==a.length){let e=nc(a,i,r);i=[],o.push(e),a="",u+=1}}else{if(Yu(t)){let t=!1;if(0!==a.length){let e=nc(a,i,r);i=[],o.push(e),a="",t=!0}s=Qu(e,s);let n=e[s];if(s<e.length&&t&&","!==n&&">"!==n)throw new tc(e,"unexpected whitespace character");continue}a+=t}s+=1}if(n.length>0)throw new tc(e,"no matching '>' for '<'");switch(o.length){case 0:return nc(a,i,r);case 1:if(""===a)return o[0];throw new tc(e,"unexpected ','");default:throw new tc(e,"unexpected whitespace character")}}function nc(e,t,r){switch(e){case"&signer":if(t.length>0)throw new tc(e,"primitive types not expected to have type arguments");return new Fu(new Hu);case"signer":if(t.length>0)throw new tc(e,"primitive types not expected to have type arguments");return new Hu;case"bool":if(t.length>0)throw new tc(e,"primitive types not expected to have type arguments");return new Nu;case"address":if(t.length>0)throw new tc(e,"primitive types not expected to have type arguments");return new Ku;case"u8":if(t.length>0)throw new tc(e,"primitive types not expected to have type arguments");return new Ru;case"u16":if(t.length>0)throw new tc(e,"primitive types not expected to have type arguments");return new Lu;case"u32":if(t.length>0)throw new tc(e,"primitive types not expected to have type arguments");return new zu;case"u64":if(t.length>0)throw new tc(e,"primitive types not expected to have type arguments");return new ju;case"u128":if(t.length>0)throw new tc(e,"primitive types not expected to have type arguments");return new Du;case"u256":if(t.length>0)throw new tc(e,"primitive types not expected to have type arguments");return new qu;case"vector":if(1!==t.length)throw new tc(e,"vector type expected to have exactly one type argument");return new $u(t[0]);default:if(function(e){return!!e.match(/^T[0-9]+$/)}(e)){if(r)return new Wu(Number(e.split("T")[1]));throw new tc(e,"unexpected generic type")}if(!e.match(/:/))throw new tc(e,"unknown type");let n=e.split("::");if(3!==n.length)throw new tc(e,"unexpected struct format, must be of the form 0xaddress::module_name::struct_name");if(!Xu(n[1]))throw new tc(e,"module name must only contain alphanumeric or '_' characters");if(!Xu(n[2]))throw new tc(e,"struct name must only contain alphanumeric or '_' characters");return new Vu(new Gu(Ca.fromString(n[0]),new Cu(n[1]),new Cu(n[2]),t))}}var ic=class e extends xa{constructor(e){super(),this.value=_a.fromHexInput(e).toUint8Array()}serialize(e){e.serializeFixedBytes(this.value)}serializeForEntryFunction(e){e.serialize(this)}serializeForScriptFunction(e){e.serialize(this)}static deserialize(t,r){let n=t.deserializeFixedBytes(r);return new e(n)}},oc=class e extends xa{constructor(e){super(),Ta(e),this.value=e}serialize(e){e.serializeBool(this.value)}serializeForEntryFunction(e){let t=this.bcsToBytes();e.serializeBytes(t)}serializeForScriptFunction(e){e.serializeU32AsUleb128(5),e.serialize(this)}static deserialize(t){return new e(t.deserializeBool())}},sc=class e extends xa{constructor(e){super(),Ma(e,0,255),this.value=e}serialize(e){e.serializeU8(this.value)}serializeForEntryFunction(e){let t=this.bcsToBytes();e.serializeBytes(t)}serializeForScriptFunction(e){e.serializeU32AsUleb128(0),e.serialize(this)}static deserialize(t){return new e(t.deserializeU8())}},ac=class e extends xa{constructor(e){super(),Ma(e,0,65535),this.value=e}serialize(e){e.serializeU16(this.value)}serializeForEntryFunction(e){let t=this.bcsToBytes();e.serializeBytes(t)}serializeForScriptFunction(e){e.serializeU32AsUleb128(6),e.serialize(this)}static deserialize(t){return new e(t.deserializeU16())}},uc=class e extends xa{constructor(e){super(),Ma(e,0,ga),this.value=e}serialize(e){e.serializeU32(this.value)}serializeForEntryFunction(e){let t=this.bcsToBytes();e.serializeBytes(t)}serializeForScriptFunction(e){e.serializeU32AsUleb128(7),e.serialize(this)}static deserialize(t){return new e(t.deserializeU32())}},cc=class e extends xa{constructor(e){super(),Ma(e,BigInt(0),ya),this.value=BigInt(e)}serialize(e){e.serializeU64(this.value)}serializeForEntryFunction(e){let t=this.bcsToBytes();e.serializeBytes(t)}serializeForScriptFunction(e){e.serializeU32AsUleb128(1),e.serialize(this)}static deserialize(t){return new e(t.deserializeU64())}},fc=class e extends xa{constructor(e){super(),Ma(e,BigInt(0),ma),this.value=BigInt(e)}serialize(e){e.serializeU128(this.value)}serializeForEntryFunction(e){let t=this.bcsToBytes();e.serializeBytes(t)}serializeForScriptFunction(e){e.serializeU32AsUleb128(2),e.serialize(this)}static deserialize(t){return new e(t.deserializeU128())}},lc=class e extends xa{constructor(e){super(),Ma(e,BigInt(0),ba),this.value=BigInt(e)}serialize(e){e.serializeU256(this.value)}serializeForEntryFunction(e){let t=this.bcsToBytes();e.serializeBytes(t)}serializeForScriptFunction(e){e.serializeU32AsUleb128(8),e.serialize(this)}static deserialize(t){return new e(t.deserializeU256())}},hc=class e extends xa{constructor(e){super(),this.values=e}serializeForEntryFunction(e){let t=this.bcsToBytes();e.serializeBytes(t)}serializeForScriptFunction(e){if(!(this.values[0]instanceof sc)&&void 0!==this.values[0])throw new Error("Script function arguments only accept u8 vectors");e.serializeU32AsUleb128(4),e.serialize(this)}static U8(t){let r;if(Array.isArray(t)&&"number"==typeof t[0])r=t;else if("string"==typeof t){let e=_a.fromHexInput(t);r=Array.from(e.toUint8Array())}else{if(!(t instanceof Uint8Array))throw new Error("Invalid input type");r=Array.from(t)}return new e(r.map((e=>new sc(e))))}static U16(t){return new e(t.map((e=>new ac(e))))}static U32(t){return new e(t.map((e=>new uc(e))))}static U64(t){return new e(t.map((e=>new cc(e))))}static U128(t){return new e(t.map((e=>new fc(e))))}static U256(t){return new e(t.map((e=>new lc(e))))}static Bool(t){return new e(t.map((e=>new oc(e))))}static MoveString(t){return new e(t.map((e=>new dc(e))))}serialize(e){e.serializeVector(this.values)}static deserialize(t,r){let n=t.deserializeUleb128AsU32(),i=new Array;for(let e=0;e<n;e+=1)i.push(r.deserialize(t));return new e(i)}},dc=class e extends xa{constructor(e){super(),this.value=e}serialize(e){e.serializeStr(this.value)}serializeForEntryFunction(e){let t=this.bcsToBytes();e.serializeBytes(t)}serializeForScriptFunction(e){let t=this.bcsToBytes().slice(1);hc.U8(t).serializeForScriptFunction(e)}static deserialize(t){return new e(t.deserializeStr())}},pc=class e extends xa{constructor(e){super(),this.vec=new hc(typeof e<"u"&&null!==e?[e]:[]),[this.value]=this.vec.values}serializeForEntryFunction(e){let t=this.bcsToBytes();e.serializeBytes(t)}unwrap(){if(this.isSome())return this.vec.values[0];throw new Error("Called unwrap on a MoveOption with no value")}isSome(){return 1===this.vec.values.length}serialize(e){this.vec.serialize(e)}static U8(t){return new e(null!=t?new sc(t):void 0)}static U16(t){return new e(null!=t?new ac(t):void 0)}static U32(t){return new e(null!=t?new uc(t):void 0)}static U64(t){return new e(null!=t?new cc(t):void 0)}static U128(t){return new e(null!=t?new fc(t):void 0)}static U256(t){return new e(null!=t?new lc(t):void 0)}static Bool(t){return new e(null!=t?new oc(t):void 0)}static MoveString(t){return new e(null!=t?new dc(t):void 0)}static deserialize(t,r){let n=hc.deserialize(t,r);return new e(n.values[0])}};function gc(e){return"string"==typeof e}function yc(e){return"number"==typeof e}function mc(e){return"number"==typeof e||"bigint"==typeof e||"string"==typeof e}function bc(e){return wc(e)||Sc(e)||Ec(e)||Ac(e)||xc(e)||kc(e)||Tc(e)||vc(e)||_c(e)||function(e){return e instanceof ic}(e)||e instanceof hc||e instanceof pc}function wc(e){return e instanceof oc}function vc(e){return e instanceof Ca}function _c(e){return e instanceof dc}function Sc(e){return e instanceof sc}function Ec(e){return e instanceof ac}function Ac(e){return e instanceof uc}function xc(e){return e instanceof cc}function kc(e){return e instanceof fc}function Tc(e){return e instanceof lc}function Ic(e,t){throw new Error(`Type mismatch for argument ${t}, expected '${e}'`)}function Mc(e){let t=e.split("::");if(3!==t.length)throw new Error(`Invalid function ${e}`);return{moduleAddress:t[0],moduleName:t[1],functionName:t[2]}}var Pc=class extends xa{toString(){let e=this.toUint8Array();return _a.fromHexInput(e).toString()}},Bc=class extends Pc{},Oc=class extends xa{toString(){let e=this.toUint8Array();return _a.fromHexInput(e).toString()}},Cc=/^m\/44'\/637'\/[0-9]+'\/[0-9]+'\/[0-9]+'?$/,Uc=/^m\/44'\/637'\/[0-9]+'\/[0-9]+\/[0-9]+$/,Nc=(e=>(e.ED25519="ed25519 seed",e))(Nc||{});var Rc=(e,t)=>{let r=Ss.create(Bs,e).update(t).digest();return{key:r.slice(0,32),chainCode:r.slice(32)}},Lc=e=>e.replace("'",""),zc=e=>bs(e.trim().split(/\s+/).map((e=>e.toLowerCase())).join(" "));const jc=[],Dc=[],qc=[],Kc=BigInt(0),Hc=BigInt(1),Fc=BigInt(2),Wc=BigInt(7),$c=BigInt(256),Vc=BigInt(113);for(let r=0,wx=Hc,vx=1,_x=0;r<24;r++){[vx,_x]=[_x,(2*vx+3*_x)%5],jc.push(2*(5*_x+vx)),Dc.push((r+1)*(r+2)/2%64);let e=Kc;for(let t=0;t<7;t++)wx=(wx<<Hc^(wx>>Wc)*Vc)%$c,wx&Fc&&(e^=Hc<<(Hc<<BigInt(t))-Hc);qc.push(e)}const[Gc,Zc]=eo(qc,!0),Jc=(e,t,r)=>r>32?no(e,t,r):to(e,t,r),Xc=(e,t,r)=>r>32?io(e,t,r):ro(e,t,r);class Yc extends $i{constructor(e,t,r,n=!1,i=24){if(super(),this.blockLen=e,this.suffix=t,this.outputLen=r,this.enableXOF=n,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ei(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Ii(this.state)}keccak(){Bi||Ui(this.state32),function(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let n=0;n<10;n++)r[n]=e[n]^e[n+10]^e[n+20]^e[n+30]^e[n+40];for(let n=0;n<10;n+=2){const t=(n+8)%10,i=(n+2)%10,o=r[i],s=r[i+1],a=Jc(o,s,1)^r[t],u=Xc(o,s,1)^r[t+1];for(let r=0;r<50;r+=10)e[n+r]^=a,e[n+r+1]^=u}let t=e[2],i=e[3];for(let r=0;r<24;r++){const n=Dc[r],o=Jc(t,i,n),s=Xc(t,i,n),a=jc[r];t=e[a],i=e[a+1],e[a]=o,e[a+1]=s}for(let n=0;n<50;n+=10){for(let t=0;t<10;t++)r[t]=e[n+t];for(let t=0;t<10;t++)e[n+t]^=~r[(t+2)%10]&r[(t+4)%10]}e[0]^=Gc[n],e[1]^=Zc[n]}r.fill(0)}(this.state32,this.rounds),Bi||Ui(this.state32),this.posOut=0,this.pos=0}update(e){ki(this);const{blockLen:t,state:r}=this,n=(e=Wi(e)).length;for(let i=0;i<n;){const o=Math.min(t-this.pos,n-i);for(let t=0;t<o;t++)r[this.pos++]^=e[i++];this.pos===t&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:t,pos:r,blockLen:n}=this;e[r]^=t,0!==(128&t)&&r===n-1&&this.keccak(),e[n-1]^=128,this.keccak()}writeInto(e){ki(this,!1),Ai(e),this.finish();const t=this.state,{blockLen:r}=this;for(let n=0,i=e.length;n<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-n);e.set(t.subarray(this.posOut,this.posOut+o),n),this.posOut+=o,n+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Ei(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Ti(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:t,suffix:r,outputLen:n,rounds:i,enableXOF:o}=this;return e||(e=new Yc(t,r,n,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=n,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Qc=(e,t,r)=>Vi((()=>new Yc(t,e,r))),ef=Qc(6,136,32),tf=Qc(1,136,32);var rf=class e extends xa{constructor(t){super();let{data:r}=t,n=_a.fromHexInput(r);if(n.toUint8Array().length!==e.LENGTH)throw new Error(`Authentication Key length should be ${e.LENGTH}`);this.data=n}serialize(e){e.serializeFixedBytes(this.data.toUint8Array())}static deserialize(t){let r=t.deserializeFixedBytes(e.LENGTH);return new e({data:r})}toString(){return this.data.toString()}toUint8Array(){return this.data.toUint8Array()}static fromSchemeAndBytes(t){let{scheme:r,input:n}=t,i=_a.fromHexInput(n).toUint8Array(),o=new Uint8Array([...i,r]),s=ef.create();s.update(o);let a=s.digest();return new e({data:a})}static fromPublicKeyAndScheme(e){let{publicKey:t}=e;return t.authKey()}static fromPublicKey(e){let{publicKey:t}=e;return t.authKey()}derivedAddress(){return new Ca(this.data.toUint8Array())}};rf.LENGTH=32;var nf=rf,of=class e extends Bc{constructor(t){super();let r=_a.fromHexInput(t);if(r.toUint8Array().length!==e.LENGTH)throw new Error(`PublicKey length should be ${e.LENGTH}`);this.key=r}verifySignature(e){let{message:t,signature:r}=e;if(!(r instanceof ff))return!1;let n=_a.fromHexInput(t).toUint8Array(),i=r.toUint8Array(),o=this.key.toUint8Array();return Si.sign.detached.verify(n,i,o)}authKey(){return nf.fromSchemeAndBytes({scheme:0,input:this.toUint8Array()})}toUint8Array(){return this.key.toUint8Array()}serialize(e){e.serializeBytes(this.key.toUint8Array())}static deserialize(t){let r=t.deserializeBytes();return new e(r)}static isPublicKey(t){return t instanceof e}};of.LENGTH=32;var sf=of,af=class e extends xa{constructor(t){super();let r=_a.fromHexInput(t);if(r.toUint8Array().length!==e.LENGTH)throw new Error(`PrivateKey length should be ${e.LENGTH}`);this.signingKeyPair=Si.sign.keyPair.fromSeed(r.toUint8Array().slice(0,e.LENGTH))}static generate(){let t=Si.sign.keyPair();return new e(t.secretKey.slice(0,e.LENGTH))}static fromDerivationPath(t,r){if(!function(e){return Cc.test(e)}(t))throw new Error(`Invalid derivation path ${t}`);return e.fromDerivationPathInner(t,zc(r))}static fromDerivationPathInner(t,r,n=2147483648){let{key:i,chainCode:o}=Rc(e.SLIP_0010_SEED,r),s=(e=>e.split("/").slice(1).map(Lc))(t).map((e=>parseInt(e,10))),{key:a}=s.reduce(((e,t)=>(({key:e,chainCode:t},r)=>{let n=new ArrayBuffer(4);new DataView(n).setUint32(0,r);let i=new Uint8Array(n),o=new Uint8Array([0]),s=new Uint8Array([...o,...e,...i]);return Rc(t,s)})(e,t+n)),{key:i,chainCode:o});return new e(a)}publicKey(){let e=this.signingKeyPair.publicKey;return new sf(e)}sign(e){let t=_a.fromHexInput(e).toUint8Array(),r=Si.sign.detached(t,this.signingKeyPair.secretKey);return new ff(r)}toUint8Array(){return this.signingKeyPair.secretKey.slice(0,e.LENGTH)}toString(){return _a.fromHexInput(this.toUint8Array()).toString()}serialize(e){e.serializeBytes(this.toUint8Array())}static deserialize(t){let r=t.deserializeBytes();return new e(r)}static isPrivateKey(t){return t instanceof e}};af.LENGTH=32,af.SLIP_0010_SEED="ed25519 seed";var uf=af,cf=class e extends Oc{constructor(t){super();let r=_a.fromHexInput(t);if(r.toUint8Array().length!==e.LENGTH)throw new Error(`Signature length should be ${e.LENGTH}`);this.data=r}toUint8Array(){return this.data.toUint8Array()}serialize(e){e.serializeBytes(this.data.toUint8Array())}static deserialize(t){let r=t.deserializeBytes();return new e(r)}};cf.LENGTH=64;var ff=cf,lf=class e extends Bc{constructor(t){super();let{publicKeys:r,threshold:n}=t;if(r.length>e.MAX_KEYS||r.length<e.MIN_KEYS)throw new Error(`Must have between ${e.MIN_KEYS} and ${e.MAX_KEYS} public keys, inclusive`);if(n<e.MIN_THRESHOLD||n>r.length)throw new Error(`Threshold must be between ${e.MIN_THRESHOLD} and ${r.length}, inclusive`);this.publicKeys=r,this.threshold=n}verifySignature(e){let{message:t,signature:r}=e;if(!(r instanceof pf))return!1;let n=[];for(let i=0;i<4;i+=1)for(let e=0;e<8;e+=1)if(0!==(r.bitmap[i]&1<<7-e)){let t=8*i+e;n.push(t)}if(n.length!==r.signatures.length)throw new Error("Bitmap and signatures length mismatch");if(n.length<this.threshold)throw new Error("Not enough signatures");for(let i=0;i<n.length;i+=1)if(!this.publicKeys[n[i]].verifySignature({message:t,signature:r.signatures[i]}))return!1;return!0}authKey(){return nf.fromSchemeAndBytes({scheme:1,input:this.toUint8Array()})}toUint8Array(){let e=new Uint8Array(this.publicKeys.length*sf.LENGTH+1);return this.publicKeys.forEach(((t,r)=>{e.set(t.toUint8Array(),r*sf.LENGTH)})),e[this.publicKeys.length*sf.LENGTH]=this.threshold,e}serialize(e){e.serializeBytes(this.toUint8Array())}static deserialize(t){let r=t.deserializeBytes(),n=r[r.length-1],i=[];for(let e=0;e<r.length-1;e+=sf.LENGTH){let t=e;i.push(new sf(r.subarray(t,t+sf.LENGTH)))}return new e({publicKeys:i,threshold:n})}};lf.MAX_KEYS=32,lf.MIN_KEYS=2,lf.MIN_THRESHOLD=1;var hf=lf,df=class e extends Oc{constructor(t){super();let{signatures:r,bitmap:n}=t;if(r.length>e.MAX_SIGNATURES_SUPPORTED)throw new Error(`The number of signatures cannot be greater than ${e.MAX_SIGNATURES_SUPPORTED}`);if(this.signatures=r,n instanceof Uint8Array){if(n.length!==e.BITMAP_LEN)throw new Error(`"bitmap" length should be ${e.BITMAP_LEN}`);this.bitmap=n}else this.bitmap=e.createBitmap({bits:n})}toUint8Array(){let t=new Uint8Array(this.signatures.length*ff.LENGTH+e.BITMAP_LEN);return this.signatures.forEach(((e,r)=>{t.set(e.toUint8Array(),r*ff.LENGTH)})),t.set(this.bitmap,this.signatures.length*ff.LENGTH),t}serialize(e){e.serializeBytes(this.toUint8Array())}static deserialize(t){let r=t.deserializeBytes(),n=r.subarray(r.length-4),i=[];for(let e=0;e<r.length-n.length;e+=ff.LENGTH){let t=e;i.push(new ff(r.subarray(t,t+ff.LENGTH)))}return new e({signatures:i,bitmap:n})}static createBitmap(t){let{bits:r}=t,n=new Uint8Array([0,0,0,0]),i=new Set;return r.forEach(((t,o)=>{if(t>=e.MAX_SIGNATURES_SUPPORTED)throw new Error(`Cannot have a signature larger than ${e.MAX_SIGNATURES_SUPPORTED-1}.`);if(i.has(t))throw new Error("Duplicate bits detected.");if(o>0&&t<=r[o-1])throw new Error("The bits need to be sorted in ascending order.");i.add(t);let s=Math.floor(t/8),a=n[s];a|=128>>t%8,n[s]=a})),n}};df.MAX_SIGNATURES_SUPPORTED=32,df.BITMAP_LEN=4;var pf=df;const gf=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),yf=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),mf=new Uint32Array(64);class bf extends ns{constructor(){super(64,32,8,!1),this.A=0|yf[0],this.B=0|yf[1],this.C=0|yf[2],this.D=0|yf[3],this.E=0|yf[4],this.F=0|yf[5],this.G=0|yf[6],this.H=0|yf[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[e,t,r,n,i,o,s,a]}set(e,t,r,n,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let f=0;f<16;f++,t+=4)mf[f]=e.getUint32(t,!1);for(let f=16;f<64;f++){const e=mf[f-15],t=mf[f-2],r=No(e,7)^No(e,18)^e>>>3,n=No(t,17)^No(t,19)^t>>>10;mf[f]=n+mf[f-7]+r+mf[f-16]|0}let{A:r,B:n,C:i,D:o,E:s,F:a,G:u,H:c}=this;for(let f=0;f<64;f++){const e=c+(No(s,6)^No(s,11)^No(s,25))+ts(s,a,u)+gf[f]+mf[f]|0,t=(No(r,2)^No(r,13)^No(r,22))+rs(r,n,i)|0;c=u,u=a,a=s,s=o+e|0,o=i,i=n,n=r,r=e+t|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,u=u+this.G|0,c=c+this.H|0,this.set(r,n,i,o,s,a,u,c)}roundClean(){mf.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const wf=Zo((()=>new bf)),vf=BigInt(0),_f=BigInt(1),Sf=BigInt(2);function Ef(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function Af(e){if(!Ef(e))throw new Error("Uint8Array expected")}function xf(e,t){if("boolean"!==typeof t)throw new Error(e+" boolean expected, got "+t)}const kf=Array.from({length:256},((e,t)=>t.toString(16).padStart(2,"0")));function Tf(e){Af(e);let t="";for(let r=0;r<e.length;r++)t+=kf[e[r]];return t}function If(e){const t=e.toString(16);return 1&t.length?"0"+t:t}function Mf(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);return""===e?vf:BigInt("0x"+e)}const Pf={_0:48,_9:57,A:65,F:70,a:97,f:102};function Bf(e){return e>=Pf._0&&e<=Pf._9?e-Pf._0:e>=Pf.A&&e<=Pf.F?e-(Pf.A-10):e>=Pf.a&&e<=Pf.f?e-(Pf.a-10):void 0}function Of(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){const t=Bf(e.charCodeAt(o)),r=Bf(e.charCodeAt(o+1));if(void 0===t||void 0===r){const t=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+o)}n[i]=16*t+r}return n}function Cf(e){return Mf(Tf(e))}function Uf(e){return Af(e),Mf(Tf(Uint8Array.from(e).reverse()))}function Nf(e,t){return Of(e.toString(16).padStart(2*t,"0"))}function Rf(e,t){return Nf(e,t).reverse()}function Lf(e){return Of(If(e))}function zf(e,t,r){let n;if("string"===typeof t)try{n=Of(t)}catch(tp){throw new Error(e+" must be hex string or Uint8Array, cause: "+tp)}else{if(!Ef(t))throw new Error(e+" must be hex string or Uint8Array");n=Uint8Array.from(t)}const i=n.length;if("number"===typeof r&&i!==r)throw new Error(e+" of length "+r+" expected, got "+i);return n}function jf(...e){let t=0;for(let n=0;n<e.length;n++){const r=e[n];Af(r),t+=r.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const t=e[n];r.set(t,i),i+=t.length}return r}function Df(e,t){if(e.length!==t.length)return!1;let r=0;for(let n=0;n<e.length;n++)r|=e[n]^t[n];return 0===r}function qf(e){if("string"!==typeof e)throw new Error("string expected");return new Uint8Array((new TextEncoder).encode(e))}const Kf=e=>"bigint"===typeof e&&vf<=e;function Hf(e,t,r){return Kf(e)&&Kf(t)&&Kf(r)&&t<=e&&e<r}function Ff(e,t,r,n){if(!Hf(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function Wf(e){let t;for(t=0;e>vf;e>>=_f,t+=1);return t}function $f(e,t){return e>>BigInt(t)&_f}function Vf(e,t,r){return e|(r?_f:vf)<<BigInt(t)}const Gf=e=>(Sf<<BigInt(e-1))-_f,Zf=e=>new Uint8Array(e),Jf=e=>Uint8Array.from(e);function Xf(e,t,r){if("number"!==typeof e||e<2)throw new Error("hashLen must be a number");if("number"!==typeof t||t<2)throw new Error("qByteLen must be a number");if("function"!==typeof r)throw new Error("hmacFn must be a function");let n=Zf(e),i=Zf(e),o=0;const s=()=>{n.fill(1),i.fill(0),o=0},a=(...e)=>r(i,n,...e),u=(e=Zf())=>{i=a(Jf([0]),e),n=a(),0!==e.length&&(i=a(Jf([1]),e),n=a())},c=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let e=0;const r=[];for(;e<t;){n=a();const t=n.slice();r.push(t),e+=n.length}return jf(...r)};return(e,t)=>{let r;for(s(),u(e);!(r=t(c()));)u();return s(),r}}const Yf={bigint:e=>"bigint"===typeof e,function:e=>"function"===typeof e,boolean:e=>"boolean"===typeof e,string:e=>"string"===typeof e,stringOrUint8Array:e=>"string"===typeof e||Ef(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>"function"===typeof e&&Number.isSafeInteger(e.outputLen)};function Qf(e,t,r={}){const n=(t,r,n)=>{const i=Yf[r];if("function"!==typeof i)throw new Error("invalid validator function");const o=e[t];if((!n||void 0!==o)&&!i(o,e))throw new Error("param "+String(t)+" is invalid. Expected "+r+", got "+o)};for(const[i,o]of Object.entries(t))n(i,o,!1);for(const[i,o]of Object.entries(r))n(i,o,!0);return e}const el=()=>{throw new Error("not implemented")};function tl(e){const t=new WeakMap;return(r,...n)=>{const i=t.get(r);if(void 0!==i)return i;const o=e(r,...n);return t.set(r,o),o}}const rl=BigInt(0),nl=BigInt(1),il=BigInt(2),ol=BigInt(3),sl=BigInt(4),al=BigInt(5),ul=BigInt(8);function cl(e,t){const r=e%t;return r>=rl?r:t+r}function fl(e,t,r){if(t<rl)throw new Error("invalid exponent, negatives unsupported");if(r<=rl)throw new Error("invalid modulus");if(r===nl)return rl;let n=nl;for(;t>rl;)t&nl&&(n=n*e%r),e=e*e%r,t>>=nl;return n}function ll(e,t,r){let n=e;for(;t-- >rl;)n*=n,n%=r;return n}function hl(e,t){if(e===rl)throw new Error("invert: expected non-zero number");if(t<=rl)throw new Error("invert: expected positive modulus, got "+t);let r=cl(e,t),n=t,i=rl,o=nl,s=nl,a=rl;for(;r!==rl;){const e=n/r,t=n%r,u=i-s*e,c=o-a*e;n=r,r=t,i=s,o=a,s=u,a=c}if(n!==nl)throw new Error("invert: does not exist");return cl(i,t)}function dl(e){if(e%sl===ol){const t=(e+nl)/sl;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}if(e%ul===al){const t=(e-al)/ul;return function(e,r){const n=e.mul(r,il),i=e.pow(n,t),o=e.mul(r,i),s=e.mul(e.mul(o,il),i),a=e.mul(o,e.sub(s,e.ONE));if(!e.eql(e.sqr(a),r))throw new Error("Cannot find square root");return a}}return function(e){const t=(e-nl)/il;let r,n,i;for(r=e-nl,n=0;r%il===rl;r/=il,n++);for(i=il;i<e&&fl(i,t,e)!==e-nl;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(1===n){const t=(e+nl)/sl;return function(e,r){const n=e.pow(r,t);if(!e.eql(e.sqr(n),r))throw new Error("Cannot find square root");return n}}const o=(r+nl)/il;return function(e,s){if(e.pow(s,t)===e.neg(e.ONE))throw new Error("Cannot find square root");let a=n,u=e.pow(e.mul(e.ONE,i),r),c=e.pow(s,o),f=e.pow(s,r);for(;!e.eql(f,e.ONE);){if(e.eql(f,e.ZERO))return e.ZERO;let t=1;for(let n=e.sqr(f);t<a&&!e.eql(n,e.ONE);t++)n=e.sqr(n);const r=e.pow(u,nl<<BigInt(a-t-1));u=e.sqr(r),c=e.mul(c,r),f=e.mul(f,u),a=t}return c}}(e)}const pl=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function gl(e,t){const r=void 0!==t?t:e.toString(2).length;return{nBitLength:r,nByteLength:Math.ceil(r/8)}}function yl(e,t,r=!1,n={}){if(e<=rl)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:i,nByteLength:o}=gl(e,t);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let s;const a=Object.freeze({ORDER:e,isLE:r,BITS:i,BYTES:o,MASK:Gf(i),ZERO:rl,ONE:nl,create:t=>cl(t,e),isValid:t=>{if("bigint"!==typeof t)throw new Error("invalid field element: expected bigint, got "+typeof t);return rl<=t&&t<e},is0:e=>e===rl,isOdd:e=>(e&nl)===nl,neg:t=>cl(-t,e),eql:(e,t)=>e===t,sqr:t=>cl(t*t,e),add:(t,r)=>cl(t+r,e),sub:(t,r)=>cl(t-r,e),mul:(t,r)=>cl(t*r,e),pow:(e,t)=>function(e,t,r){if(r<rl)throw new Error("invalid exponent, negatives unsupported");if(r===rl)return e.ONE;if(r===nl)return t;let n=e.ONE,i=t;for(;r>rl;)r&nl&&(n=e.mul(n,i)),i=e.sqr(i),r>>=nl;return n}(a,e,t),div:(t,r)=>cl(t*hl(r,e),e),sqrN:e=>e*e,addN:(e,t)=>e+t,subN:(e,t)=>e-t,mulN:(e,t)=>e*t,inv:t=>hl(t,e),sqrt:n.sqrt||(t=>(s||(s=dl(e)),s(a,t))),invertBatch:e=>function(e,t){const r=new Array(t.length),n=t.reduce(((t,n,i)=>e.is0(n)?t:(r[i]=t,e.mul(t,n))),e.ONE),i=e.inv(n);return t.reduceRight(((t,n,i)=>e.is0(n)?t:(r[i]=e.mul(t,r[i]),e.mul(t,n))),i),r}(a,e),cmov:(e,t,r)=>r?t:e,toBytes:e=>r?Rf(e,o):Nf(e,o),fromBytes:e=>{if(e.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+e.length);return r?Uf(e):Cf(e)}});return Object.freeze(a)}function ml(e){if("bigint"!==typeof e)throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function bl(e){const t=ml(e);return t+Math.ceil(t/2)}const wl=BigInt(0),vl=BigInt(1);function _l(e,t){const r=t.negate();return e?r:t}function Sl(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function El(e,t){Sl(e,t);return{windows:Math.ceil(t/e)+1,windowSize:2**(e-1)}}function Al(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach(((e,r)=>{if(!(e instanceof t))throw new Error("invalid point at index "+r)}))}function xl(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach(((e,r)=>{if(!t.isValid(e))throw new Error("invalid scalar at index "+r)}))}const kl=new WeakMap,Tl=new WeakMap;function Il(e){return Tl.get(e)||1}function Ml(e,t){return{constTimeNegate:_l,hasPrecomputes:e=>1!==Il(e),unsafeLadder(t,r,n=e.ZERO){let i=t;for(;r>wl;)r&vl&&(n=n.add(i)),i=i.double(),r>>=vl;return n},precomputeWindow(e,r){const{windows:n,windowSize:i}=El(r,t),o=[];let s=e,a=s;for(let t=0;t<n;t++){a=s,o.push(a);for(let e=1;e<i;e++)a=a.add(s),o.push(a);s=a.double()}return o},wNAF(r,n,i){const{windows:o,windowSize:s}=El(r,t);let a=e.ZERO,u=e.BASE;const c=BigInt(2**r-1),f=2**r,l=BigInt(r);for(let e=0;e<o;e++){const t=e*s;let r=Number(i&c);i>>=l,r>s&&(r-=f,i+=vl);const o=t,h=t+Math.abs(r)-1,d=e%2!==0,p=r<0;0===r?u=u.add(_l(d,n[o])):a=a.add(_l(p,n[h]))}return{p:a,f:u}},wNAFUnsafe(r,n,i,o=e.ZERO){const{windows:s,windowSize:a}=El(r,t),u=BigInt(2**r-1),c=2**r,f=BigInt(r);for(let e=0;e<s;e++){const t=e*a;if(i===wl)break;let r=Number(i&u);if(i>>=f,r>a&&(r-=c,i+=vl),0===r)continue;let s=n[t+Math.abs(r)-1];r<0&&(s=s.negate()),o=o.add(s)}return o},getPrecomputes(e,t,r){let n=kl.get(t);return n||(n=this.precomputeWindow(t,e),1!==e&&kl.set(t,r(n))),n},wNAFCached(e,t,r){const n=Il(e);return this.wNAF(n,this.getPrecomputes(n,e,r),t)},wNAFCachedUnsafe(e,t,r,n){const i=Il(e);return 1===i?this.unsafeLadder(e,t,n):this.wNAFUnsafe(i,this.getPrecomputes(i,e,r),t,n)},setWindowSize(e,r){Sl(r,t),Tl.set(e,r),kl.delete(e)}}}function Pl(e,t,r,n){if(Al(r,e),xl(n,t),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=e.ZERO,o=Wf(BigInt(r.length)),s=o>12?o-3:o>4?o-2:o?2:1,a=(1<<s)-1,u=new Array(a+1).fill(i);let c=i;for(let f=Math.floor((t.BITS-1)/s)*s;f>=0;f-=s){u.fill(i);for(let t=0;t<n.length;t++){const e=n[t],i=Number(e>>BigInt(f)&BigInt(a));u[i]=u[i].add(r[t])}let e=i;for(let t=u.length-1,r=i;t>0;t--)r=r.add(u[t]),e=e.add(r);if(c=c.add(e),0!==f)for(let t=0;t<s;t++)c=c.double()}return c}function Bl(e){return function(e){const t=pl.reduce(((e,t)=>(e[t]="function",e)),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});Qf(e,t)}(e.Fp),Qf(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...gl(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}function Ol(e){void 0!==e.lowS&&xf("lowS",e.lowS),void 0!==e.prehash&&xf("prehash",e.prehash)}const{bytesToNumberBE:Cl,hexToBytes:Ul}=e;class Nl extends Error{constructor(e=""){super(e)}}const Rl={Err:Nl,_tlv:{encode:(e,t)=>{const{Err:r}=Rl;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(1&t.length)throw new r("tlv.encode: unpadded data");const n=t.length/2,i=If(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const o=n>127?If(i.length/2|128):"";return If(e)+o+i+t},decode(e,t){const{Err:r}=Rl;let n=0;if(e<0||e>256)throw new r("tlv.encode: wrong tag");if(t.length<2||t[n++]!==e)throw new r("tlv.decode: wrong tlv");const i=t[n++];let o=0;if(!!(128&i)){const e=127&i;if(!e)throw new r("tlv.decode(long): indefinite length not supported");if(e>4)throw new r("tlv.decode(long): byte length is too big");const s=t.subarray(n,n+e);if(s.length!==e)throw new r("tlv.decode: length bytes not complete");if(0===s[0])throw new r("tlv.decode(long): zero leftmost byte");for(const t of s)o=o<<8|t;if(n+=e,o<128)throw new r("tlv.decode(long): not minimal encoding")}else o=i;const s=t.subarray(n,n+o);if(s.length!==o)throw new r("tlv.decode: wrong value length");return{v:s,l:t.subarray(n+o)}}},_int:{encode(e){const{Err:t}=Rl;if(e<Ll)throw new t("integer: negative integers are not allowed");let r=If(e);if(8&Number.parseInt(r[0],16)&&(r="00"+r),1&r.length)throw new t("unexpected DER parsing assertion: unpadded hex");return r},decode(e){const{Err:t}=Rl;if(128&e[0])throw new t("invalid signature integer: negative");if(0===e[0]&&!(128&e[1]))throw new t("invalid signature integer: unnecessary leading zero");return Cl(e)}},toSig(e){const{Err:t,_int:r,_tlv:n}=Rl,i="string"===typeof e?Ul(e):e;Af(i);const{v:o,l:s}=n.decode(48,i);if(s.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:u}=n.decode(2,o),{v:c,l:f}=n.decode(2,u);if(f.length)throw new t("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(c)}},hexFromSig(e){const{_tlv:t,_int:r}=Rl,n=t.encode(2,r.encode(e.r))+t.encode(2,r.encode(e.s));return t.encode(48,n)}},Ll=BigInt(0),zl=BigInt(1),jl=(BigInt(2),BigInt(3));BigInt(4);function Dl(e){const t=function(e){const t=Bl(e);Qf(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=t;if(r){if(!n.eql(i,n.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if("object"!==typeof r||"bigint"!==typeof r.beta||"function"!==typeof r.splitScalar)throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...t})}(e),{Fp:r}=t,n=yl(t.n,t.nBitLength),i=t.toBytes||((e,t,n)=>{const i=t.toAffine();return jf(Uint8Array.from([4]),r.toBytes(i.x),r.toBytes(i.y))}),o=t.fromBytes||(e=>{const t=e.subarray(1);return{x:r.fromBytes(t.subarray(0,r.BYTES)),y:r.fromBytes(t.subarray(r.BYTES,2*r.BYTES))}});function s(e){const{a:n,b:i}=t,o=r.sqr(e),s=r.mul(o,e);return r.add(r.add(s,r.mul(e,n)),i)}if(!r.eql(r.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function a(e){const{allowedPrivateKeyLengths:r,nByteLength:n,wrapPrivateKey:i,n:o}=t;if(r&&"bigint"!==typeof e){if(Ef(e)&&(e=Tf(e)),"string"!==typeof e||!r.includes(e.length))throw new Error("invalid private key");e=e.padStart(2*n,"0")}let s;try{s="bigint"===typeof e?e:Cf(zf("private key",e,n))}catch(a){throw new Error("invalid private key, expected hex or "+n+" bytes, got "+typeof e)}return i&&(s=cl(s,o)),Ff("private key",s,zl,o),s}function u(e){if(!(e instanceof l))throw new Error("ProjectivePoint expected")}const c=tl(((e,t)=>{const{px:n,py:i,pz:o}=e;if(r.eql(o,r.ONE))return{x:n,y:i};const s=e.is0();null==t&&(t=s?r.ONE:r.inv(o));const a=r.mul(n,t),u=r.mul(i,t),c=r.mul(o,t);if(s)return{x:r.ZERO,y:r.ZERO};if(!r.eql(c,r.ONE))throw new Error("invZ was invalid");return{x:a,y:u}})),f=tl((e=>{if(e.is0()){if(t.allowInfinityPoint&&!r.is0(e.py))return;throw new Error("bad point: ZERO")}const{x:n,y:i}=e.toAffine();if(!r.isValid(n)||!r.isValid(i))throw new Error("bad point: x or y not FE");const o=r.sqr(i),a=s(n);if(!r.eql(o,a))throw new Error("bad point: equation left != right");if(!e.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0}));class l{constructor(e,t,n){if(this.px=e,this.py=t,this.pz=n,null==e||!r.isValid(e))throw new Error("x required");if(null==t||!r.isValid(t))throw new Error("y required");if(null==n||!r.isValid(n))throw new Error("z required");Object.freeze(this)}static fromAffine(e){const{x:t,y:n}=e||{};if(!e||!r.isValid(t)||!r.isValid(n))throw new Error("invalid affine point");if(e instanceof l)throw new Error("projective point not allowed");const i=e=>r.eql(e,r.ZERO);return i(t)&&i(n)?l.ZERO:new l(t,n,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){const t=r.invertBatch(e.map((e=>e.pz)));return e.map(((e,r)=>e.toAffine(t[r]))).map(l.fromAffine)}static fromHex(e){const t=l.fromAffine(o(zf("pointHex",e)));return t.assertValidity(),t}static fromPrivateKey(e){return l.BASE.multiply(a(e))}static msm(e,t){return Pl(l,n,e,t)}_setWindowSize(e){d.setWindowSize(this,e)}assertValidity(){f(this)}hasEvenY(){const{y:e}=this.toAffine();if(r.isOdd)return!r.isOdd(e);throw new Error("Field doesn't support isOdd")}equals(e){u(e);const{px:t,py:n,pz:i}=this,{px:o,py:s,pz:a}=e,c=r.eql(r.mul(t,a),r.mul(o,i)),f=r.eql(r.mul(n,a),r.mul(s,i));return c&&f}negate(){return new l(this.px,r.neg(this.py),this.pz)}double(){const{a:e,b:n}=t,i=r.mul(n,jl),{px:o,py:s,pz:a}=this;let u=r.ZERO,c=r.ZERO,f=r.ZERO,h=r.mul(o,o),d=r.mul(s,s),p=r.mul(a,a),g=r.mul(o,s);return g=r.add(g,g),f=r.mul(o,a),f=r.add(f,f),u=r.mul(e,f),c=r.mul(i,p),c=r.add(u,c),u=r.sub(d,c),c=r.add(d,c),c=r.mul(u,c),u=r.mul(g,u),f=r.mul(i,f),p=r.mul(e,p),g=r.sub(h,p),g=r.mul(e,g),g=r.add(g,f),f=r.add(h,h),h=r.add(f,h),h=r.add(h,p),h=r.mul(h,g),c=r.add(c,h),p=r.mul(s,a),p=r.add(p,p),h=r.mul(p,g),u=r.sub(u,h),f=r.mul(p,d),f=r.add(f,f),f=r.add(f,f),new l(u,c,f)}add(e){u(e);const{px:n,py:i,pz:o}=this,{px:s,py:a,pz:c}=e;let f=r.ZERO,h=r.ZERO,d=r.ZERO;const p=t.a,g=r.mul(t.b,jl);let y=r.mul(n,s),m=r.mul(i,a),b=r.mul(o,c),w=r.add(n,i),v=r.add(s,a);w=r.mul(w,v),v=r.add(y,m),w=r.sub(w,v),v=r.add(n,o);let _=r.add(s,c);return v=r.mul(v,_),_=r.add(y,b),v=r.sub(v,_),_=r.add(i,o),f=r.add(a,c),_=r.mul(_,f),f=r.add(m,b),_=r.sub(_,f),d=r.mul(p,v),f=r.mul(g,b),d=r.add(f,d),f=r.sub(m,d),d=r.add(m,d),h=r.mul(f,d),m=r.add(y,y),m=r.add(m,y),b=r.mul(p,b),v=r.mul(g,v),m=r.add(m,b),b=r.sub(y,b),b=r.mul(p,b),v=r.add(v,b),y=r.mul(m,v),h=r.add(h,y),y=r.mul(_,v),f=r.mul(w,f),f=r.sub(f,y),y=r.mul(w,m),d=r.mul(_,d),d=r.add(d,y),new l(f,h,d)}subtract(e){return this.add(e.negate())}is0(){return this.equals(l.ZERO)}wNAF(e){return d.wNAFCached(this,e,l.normalizeZ)}multiplyUnsafe(e){const{endo:n,n:i}=t;Ff("scalar",e,Ll,i);const o=l.ZERO;if(e===Ll)return o;if(this.is0()||e===zl)return this;if(!n||d.hasPrecomputes(this))return d.wNAFCachedUnsafe(this,e,l.normalizeZ);let{k1neg:s,k1:a,k2neg:u,k2:c}=n.splitScalar(e),f=o,h=o,p=this;for(;a>Ll||c>Ll;)a&zl&&(f=f.add(p)),c&zl&&(h=h.add(p)),p=p.double(),a>>=zl,c>>=zl;return s&&(f=f.negate()),u&&(h=h.negate()),h=new l(r.mul(h.px,n.beta),h.py,h.pz),f.add(h)}multiply(e){const{endo:n,n:i}=t;let o,s;if(Ff("scalar",e,zl,i),n){const{k1neg:t,k1:i,k2neg:a,k2:u}=n.splitScalar(e);let{p:c,f:f}=this.wNAF(i),{p:h,f:p}=this.wNAF(u);c=d.constTimeNegate(t,c),h=d.constTimeNegate(a,h),h=new l(r.mul(h.px,n.beta),h.py,h.pz),o=c.add(h),s=f.add(p)}else{const{p:t,f:r}=this.wNAF(e);o=t,s=r}return l.normalizeZ([o,s])[0]}multiplyAndAddUnsafe(e,t,r){const n=l.BASE,i=(e,t)=>t!==Ll&&t!==zl&&e.equals(n)?e.multiply(t):e.multiplyUnsafe(t),o=i(this,t).add(i(e,r));return o.is0()?void 0:o}toAffine(e){return c(this,e)}isTorsionFree(){const{h:e,isTorsionFree:r}=t;if(e===zl)return!0;if(r)return r(l,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:e,clearCofactor:r}=t;return e===zl?this:r?r(l,this):this.multiplyUnsafe(t.h)}toRawBytes(e=!0){return xf("isCompressed",e),this.assertValidity(),i(l,this,e)}toHex(e=!0){return xf("isCompressed",e),Tf(this.toRawBytes(e))}}l.BASE=new l(t.Gx,t.Gy,r.ONE),l.ZERO=new l(r.ZERO,r.ONE,r.ZERO);const h=t.nBitLength,d=Ml(l,t.endo?Math.ceil(h/2):h);return{CURVE:t,ProjectivePoint:l,normPrivateKeyToScalar:a,weierstrassEquation:s,isWithinCurveOrder:function(e){return Hf(e,zl,t.n)}}}function ql(e){const t=function(e){const t=Bl(e);return Qf(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}(e),{Fp:r,n:n}=t,i=r.BYTES+1,o=2*r.BYTES+1;function s(e){return cl(e,n)}function a(e){return hl(e,n)}const{ProjectivePoint:u,normPrivateKeyToScalar:c,weierstrassEquation:f,isWithinCurveOrder:l}=Dl({...t,toBytes(e,t,n){const i=t.toAffine(),o=r.toBytes(i.x),s=jf;return xf("isCompressed",n),n?s(Uint8Array.from([t.hasEvenY()?2:3]),o):s(Uint8Array.from([4]),o,r.toBytes(i.y))},fromBytes(e){const t=e.length,n=e[0],s=e.subarray(1);if(t!==i||2!==n&&3!==n){if(t===o&&4===n){return{x:r.fromBytes(s.subarray(0,r.BYTES)),y:r.fromBytes(s.subarray(r.BYTES,2*r.BYTES))}}throw new Error("invalid Point, expected length of "+i+", or uncompressed "+o+", got "+t)}{const e=Cf(s);if(!Hf(e,zl,r.ORDER))throw new Error("Point is not on curve");const t=f(e);let i;try{i=r.sqrt(t)}catch(a){const e=a instanceof Error?": "+a.message:"";throw new Error("Point is not on curve"+e)}return 1===(1&n)!==((i&zl)===zl)&&(i=r.neg(i)),{x:e,y:i}}}}),h=e=>Tf(Nf(e,t.nByteLength));function d(e){return e>n>>zl}const p=(e,t,r)=>Cf(e.slice(t,r));class g{constructor(e,t,r){this.r=e,this.s=t,this.recovery=r,this.assertValidity()}static fromCompact(e){const r=t.nByteLength;return e=zf("compactSignature",e,2*r),new g(p(e,0,r),p(e,r,2*r))}static fromDER(e){const{r:t,s:r}=Rl.toSig(zf("DER",e));return new g(t,r)}assertValidity(){Ff("r",this.r,zl,n),Ff("s",this.s,zl,n)}addRecoveryBit(e){return new g(this.r,this.s,e)}recoverPublicKey(e){const{r:n,s:i,recovery:o}=this,c=w(zf("msgHash",e));if(null==o||![0,1,2,3].includes(o))throw new Error("recovery id invalid");const f=2===o||3===o?n+t.n:n;if(f>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const l=0===(1&o)?"02":"03",d=u.fromHex(l+h(f)),p=a(f),g=s(-c*p),y=s(i*p),m=u.BASE.multiplyAndAddUnsafe(d,g,y);if(!m)throw new Error("point at infinify");return m.assertValidity(),m}hasHighS(){return d(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,s(-this.s),this.recovery):this}toDERRawBytes(){return Of(this.toDERHex())}toDERHex(){return Rl.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Of(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const y={isValidPrivateKey(e){try{return c(e),!0}catch(t){return!1}},normPrivateKeyToScalar:c,randomPrivateKey:()=>{const e=bl(t.n);return function(e,t,r=!1){const n=e.length,i=ml(t),o=bl(t);if(n<16||n<o||n>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+n);const s=cl(r?Uf(e):Cf(e),t-nl)+nl;return r?Rf(s,i):Nf(s,i)}(t.randomBytes(e),t.n)},precompute:(e=8,t=u.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)};function m(e){const t=Ef(e),r="string"===typeof e,n=(t||r)&&e.length;return t?n===i||n===o:r?n===2*i||n===2*o:e instanceof u}const b=t.bits2int||function(e){if(e.length>8192)throw new Error("input is too large");const r=Cf(e),n=8*e.length-t.nBitLength;return n>0?r>>BigInt(n):r},w=t.bits2int_modN||function(e){return s(b(e))},v=Gf(t.nBitLength);function _(e){return Ff("num < 2^"+t.nBitLength,e,Ll,v),Nf(e,t.nByteLength)}function S(e,n,i=E){if(["recovered","canonical"].some((e=>e in i)))throw new Error("sign() legacy options not supported");const{hash:o,randomBytes:f}=t;let{lowS:h,prehash:p,extraEntropy:y}=i;null==h&&(h=!0),e=zf("msgHash",e),Ol(i),p&&(e=zf("prehashed msgHash",o(e)));const m=w(e),v=c(n),S=[_(v),_(m)];if(null!=y&&!1!==y){const e=!0===y?f(r.BYTES):y;S.push(zf("extraEntropy",e))}const A=jf(...S),x=m;return{seed:A,k2sig:function(e){const t=b(e);if(!l(t))return;const r=a(t),n=u.BASE.multiply(t).toAffine(),i=s(n.x);if(i===Ll)return;const o=s(r*s(x+i*v));if(o===Ll)return;let c=(n.x===i?0:2)|Number(n.y&zl),f=o;return h&&d(o)&&(f=function(e){return d(e)?s(-e):e}(o),c^=1),new g(i,f,c)}}}const E={lowS:t.lowS,prehash:!1},A={lowS:t.lowS,prehash:!1};return u.BASE._setWindowSize(8),{CURVE:t,getPublicKey:function(e,t=!0){return u.fromPrivateKey(e).toRawBytes(t)},getSharedSecret:function(e,t,r=!0){if(m(e))throw new Error("first arg must be private key");if(!m(t))throw new Error("second arg must be public key");return u.fromHex(t).multiply(c(e)).toRawBytes(r)},sign:function(e,r,n=E){const{seed:i,k2sig:o}=S(e,r,n),s=t;return Xf(s.hash.outputLen,s.nByteLength,s.hmac)(i,o)},verify:function(e,r,n,i=A){const o=e;r=zf("msgHash",r),n=zf("publicKey",n);const{lowS:c,prehash:f,format:l}=i;if(Ol(i),"strict"in i)throw new Error("options.strict was renamed to lowS");if(void 0!==l&&"compact"!==l&&"der"!==l)throw new Error("format must be compact or der");const h="string"===typeof o||Ef(o),d=!h&&!l&&"object"===typeof o&&null!==o&&"bigint"===typeof o.r&&"bigint"===typeof o.s;if(!h&&!d)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let p,y;try{if(d&&(p=new g(o.r,o.s)),h){try{"compact"!==l&&(p=g.fromDER(o))}catch(k){if(!(k instanceof Rl.Err))throw k}p||"der"===l||(p=g.fromCompact(o))}y=u.fromHex(n)}catch(T){return!1}if(!p)return!1;if(c&&p.hasHighS())return!1;f&&(r=t.hash(r));const{r:m,s:b}=p,v=w(r),_=a(b),S=s(v*_),E=s(m*_),x=u.BASE.multiplyAndAddUnsafe(y,S,E)?.toAffine();return!!x&&s(x.x)===m},ProjectivePoint:u,Signature:g,utils:y}}function Kl(e){return{hash:e,hmac:(t,...r)=>Yo(e,t,Vo(...r)),randomBytes:Jo}}const Hl=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Fl=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Wl=BigInt(1),$l=BigInt(2),Vl=(e,t)=>(e+t/$l)/t;function Gl(e){const t=Hl,r=BigInt(3),n=BigInt(6),i=BigInt(11),o=BigInt(22),s=BigInt(23),a=BigInt(44),u=BigInt(88),c=e*e*e%t,f=c*c*e%t,l=ll(f,r,t)*f%t,h=ll(l,r,t)*f%t,d=ll(h,$l,t)*c%t,p=ll(d,i,t)*d%t,g=ll(p,o,t)*p%t,y=ll(g,a,t)*g%t,m=ll(y,u,t)*y%t,b=ll(m,a,t)*g%t,w=ll(b,r,t)*f%t,v=ll(w,s,t)*p%t,_=ll(v,n,t)*c%t,S=ll(_,$l,t);if(!Zl.eql(Zl.sqr(S),e))throw new Error("Cannot find square root");return S}const Zl=yl(Hl,void 0,void 0,{sqrt:Gl}),Jl=function(e,t){const r=t=>ql({...e,...Kl(t)});return{...r(t),create:r}}({a:BigInt(0),b:BigInt(7),Fp:Zl,n:Fl,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=Fl,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Wl*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),o=r,s=BigInt("0x100000000000000000000000000000000"),a=Vl(o*e,t),u=Vl(-n*e,t);let c=cl(e-a*r-u*i,t),f=cl(-a*n-u*o,t);const l=c>s,h=f>s;if(l&&(c=t-c),h&&(f=t-f),c>s||f>s)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:l,k1:c,k2neg:h,k2:f}}}},wf);BigInt(0);Jl.ProjectivePoint;const Xl=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Yl=new Uint8Array(new Array(16).fill(0).map(((e,t)=>t)));let Ql=[Yl],eh=[Yl.map((e=>(9*e+5)%16))];for(let r=0;r<4;r++)for(let e of[Ql,eh])e.push(e[r].map((e=>Xl[e])));const th=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map((e=>new Uint8Array(e))),rh=Ql.map(((e,t)=>e.map((e=>th[t][e])))),nh=eh.map(((e,t)=>e.map((e=>th[t][e])))),ih=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),oh=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);function sh(e,t,r,n){return 0===e?t^r^n:1===e?t&r|~t&n:2===e?(t|~r)^n:3===e?t&n|r&~n:t^(r|~n)}const ah=new Uint32Array(16);class uh extends ns{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:t,h2:r,h3:n,h4:i}=this;return[e,t,r,n,i]}set(e,t,r,n,i){this.h0=0|e,this.h1=0|t,this.h2=0|r,this.h3=0|n,this.h4=0|i}process(e,t){for(let h=0;h<16;h++,t+=4)ah[h]=e.getUint32(t,!0);let r=0|this.h0,n=r,i=0|this.h1,o=i,s=0|this.h2,a=s,u=0|this.h3,c=u,f=0|this.h4,l=f;for(let h=0;h<5;h++){const e=4-h,t=ih[h],d=oh[h],p=Ql[h],g=eh[h],y=rh[h],m=nh[h];for(let n=0;n<16;n++){const e=Ro(r+sh(h,i,s,u)+ah[p[n]]+t,y[n])+f|0;r=f,f=u,u=0|Ro(s,10),s=i,i=e}for(let r=0;r<16;r++){const t=Ro(n+sh(e,o,a,c)+ah[g[r]]+d,m[r])+l|0;n=l,l=c,c=0|Ro(a,10),a=o,o=t}}this.set(this.h1+s+c|0,this.h2+u+l|0,this.h3+f+n|0,this.h4+r+o|0,this.h0+i+a|0)}roundClean(){ah.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}const ch=Zo((()=>new uh));function fh(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&"Uint8Array"===e.constructor.name}function lh(e,t){return!!Array.isArray(t)&&(0===t.length||(e?t.every((e=>"string"===typeof e)):t.every((e=>Number.isSafeInteger(e)))))}function hh(e){if("function"!==typeof e)throw new Error("function expected");return!0}function dh(e,t){if("string"!==typeof t)throw new Error(`${e}: string expected`);return!0}function ph(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function gh(e){if(!Array.isArray(e))throw new Error("array expected")}function yh(e,t){if(!lh(!0,t))throw new Error(`${e}: array of strings expected`)}function mh(e,t){if(!lh(!1,t))throw new Error(`${e}: array of numbers expected`)}function bh(...e){const t=e=>e,r=(e,t)=>r=>e(t(r)),n=e.map((e=>e.encode)).reduceRight(r,t),i=e.map((e=>e.decode)).reduce(r,t);return{encode:n,decode:i}}function wh(e){const t="string"===typeof e?e.split(""):e,r=t.length;yh("alphabet",t);const n=new Map(t.map(((e,t)=>[e,t])));return{encode:n=>(gh(n),n.map((n=>{if(!Number.isSafeInteger(n)||n<0||n>=r)throw new Error(`alphabet.encode: digit index outside alphabet "${n}". Allowed: ${e}`);return t[n]}))),decode:t=>(gh(t),t.map((t=>{dh("alphabet.decode",t);const r=n.get(t);if(void 0===r)throw new Error(`Unknown letter: "${t}". Allowed: ${e}`);return r})))}}function vh(e=""){return dh("join",e),{encode:t=>(yh("join.decode",t),t.join(e)),decode:t=>(dh("join.decode",t),t.split(e))}}function _h(e,t="="){return ph(e),dh("padding",t),{encode(r){for(yh("padding.encode",r);r.length*e%8;)r.push(t);return r},decode(r){yh("padding.decode",r);let n=r.length;if(n*e%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;n>0&&r[n-1]===t;n--){if((n-1)*e%8===0)throw new Error("padding: invalid, string has too much padding")}return r.slice(0,n)}}}function Sh(e){return hh(e),{encode:e=>e,decode:t=>e(t)}}function Eh(e,t,r){if(t<2)throw new Error(`convertRadix: invalid from=${t}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: invalid to=${r}, base cannot be less than 2`);if(gh(e),!e.length)return[];let n=0;const i=[],o=Array.from(e,(e=>{if(ph(e),e<0||e>=t)throw new Error(`invalid integer: ${e}`);return e})),s=o.length;for(;;){let e=0,a=!0;for(let i=n;i<s;i++){const s=o[i],u=t*e,c=u+s;if(!Number.isSafeInteger(c)||u/t!==e||c-s!==u)throw new Error("convertRadix: carry overflow");const f=c/r;e=c%r;const l=Math.floor(f);if(o[i]=l,!Number.isSafeInteger(l)||l*r+e!==c)throw new Error("convertRadix: carry overflow");a&&(l?a=!1:n=i)}if(i.push(e),a)break}for(let a=0;a<e.length-1&&0===e[a];a++)i.push(0);return i.reverse()}const Ah=(e,t)=>0===t?e:Ah(t,e%t),xh=(e,t)=>e+(t-Ah(e,t)),kh=(()=>{let e=[];for(let t=0;t<40;t++)e.push(2**t);return e})();function Th(e,t,r,n){if(gh(e),t<=0||t>32)throw new Error(`convertRadix2: wrong from=${t}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(xh(t,r)>32)throw new Error(`convertRadix2: carry overflow from=${t} to=${r} carryBits=${xh(t,r)}`);let i=0,o=0;const s=kh[t],a=kh[r]-1,u=[];for(const c of e){if(ph(c),c>=s)throw new Error(`convertRadix2: invalid data word=${c} from=${t}`);if(i=i<<t|c,o+t>32)throw new Error(`convertRadix2: carry overflow pos=${o} from=${t}`);for(o+=t;o>=r;o-=r)u.push((i>>o-r&a)>>>0);const e=kh[o];if(void 0===e)throw new Error("invalid carry");i&=e-1}if(i=i<<r-o&a,!n&&o>=t)throw new Error("Excess padding");if(!n&&i>0)throw new Error(`Non-zero padding: ${i}`);return n&&o>0&&u.push(i>>>0),u}function Ih(e){ph(e);return{encode:t=>{if(!fh(t))throw new Error("radix.encode input should be Uint8Array");return Eh(Array.from(t),256,e)},decode:t=>(mh("radix.decode",t),Uint8Array.from(Eh(t,e,256)))}}function Mh(e,t=!1){if(ph(e),e<=0||e>32)throw new Error("radix2: bits should be in (0..32]");if(xh(8,e)>32||xh(e,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!fh(r))throw new Error("radix2.encode input should be Uint8Array");return Th(Array.from(r),8,e,!t)},decode:r=>(mh("radix2.decode",r),Uint8Array.from(Th(r,e,8,t)))}}function Ph(e){return hh(e),function(...t){try{return e.apply(null,t)}catch(tp){}}}function Bh(e,t){return ph(e),hh(t),{encode(r){if(!fh(r))throw new Error("checksum.encode: input should be Uint8Array");const n=t(r).slice(0,e),i=new Uint8Array(r.length+e);return i.set(r),i.set(n,r.length),i},decode(r){if(!fh(r))throw new Error("checksum.decode: input should be Uint8Array");const n=r.slice(0,-e),i=r.slice(-e),o=t(n).slice(0,e);for(let t=0;t<e;t++)if(o[t]!==i[t])throw new Error("Invalid checksum");return n}}}bh(Mh(4),wh("0123456789ABCDEF"),vh("")),bh(Mh(5),wh("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),_h(5),vh("")),bh(Mh(5),wh("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),vh("")),bh(Mh(5),wh("0123456789ABCDEFGHIJKLMNOPQRSTUV"),_h(5),vh("")),bh(Mh(5),wh("0123456789ABCDEFGHIJKLMNOPQRSTUV"),vh("")),bh(Mh(5),wh("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),vh(""),Sh((e=>e.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1")))),bh(Mh(6),wh("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),_h(6),vh("")),bh(Mh(6),wh("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),vh("")),bh(Mh(6),wh("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),_h(6),vh("")),bh(Mh(6),wh("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),vh(""));const Oh=e=>bh(Ih(58),wh(e),vh("")),Ch=Oh("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),Uh=(Oh("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),Oh("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz"),e=>bh(Bh(4,(t=>e(e(t)))),Ch)),Nh=bh(wh("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),vh("")),Rh=[996825010,642813549,513874426,1027748829,705979059];function Lh(e){const t=e>>25;let r=(33554431&e)<<5;for(let n=0;n<Rh.length;n++)1===(t>>n&1)&&(r^=Rh[n]);return r}function zh(e,t,r=1){const n=e.length;let i=1;for(let o=0;o<n;o++){const t=e.charCodeAt(o);if(t<33||t>126)throw new Error(`Invalid prefix (${e})`);i=Lh(i)^t>>5}i=Lh(i);for(let o=0;o<n;o++)i=Lh(i)^31&e.charCodeAt(o);for(let o of t)i=Lh(i)^o;for(let o=0;o<6;o++)i=Lh(i);return i^=r,Nh.encode(Th([i%kh[30]],30,5,!1))}function jh(e){const t="bech32"===e?1:734539939,r=Mh(5),n=r.decode,i=r.encode,o=Ph(n);function s(e,r,n=90){dh("bech32.encode prefix",e),fh(r)&&(r=Array.from(r)),mh("bech32.encode",r);const i=e.length;if(0===i)throw new TypeError(`Invalid prefix length ${i}`);const o=i+7+r.length;if(!1!==n&&o>n)throw new TypeError(`Length ${o} exceeds limit ${n}`);const s=e.toLowerCase(),a=zh(s,r,t);return`${s}1${Nh.encode(r)}${a}`}function a(e,r=90){dh("bech32.decode input",e);const n=e.length;if(n<8||!1!==r&&n>r)throw new TypeError(`invalid string length: ${n} (${e}). Expected (8..${r})`);const i=e.toLowerCase();if(e!==i&&e!==e.toUpperCase())throw new Error("String must be lowercase or uppercase");const o=i.lastIndexOf("1");if(0===o||-1===o)throw new Error('Letter "1" must be present between prefix and data only');const s=i.slice(0,o),a=i.slice(o+1);if(a.length<6)throw new Error("Data must be at least 6 characters long");const u=Nh.decode(a).slice(0,-6),c=zh(s,u,t);if(!a.endsWith(c))throw new Error(`Invalid checksum in ${e}: expected "${c}"`);return{prefix:s,words:u}}return{encode:s,decode:a,encodeFromBytes:function(e,t){return s(e,i(t))},decodeToBytes:function(e){const{prefix:t,words:r}=a(e,!1);return{prefix:t,words:r,bytes:n(r)}},decodeUnsafe:Ph(a),fromWords:n,fromWordsUnsafe:o,toWords:i}}jh("bech32"),jh("bech32m"),bh(Mh(4),wh("0123456789abcdef"),vh(""),Sh((e=>{if("string"!==typeof e||e.length%2!==0)throw new TypeError(`hex.decode: expected string, got ${typeof e} with length ${e.length}`);return e.toLowerCase()})));const Dh=Jl.ProjectivePoint,qh=Uh(wf);function Kh(e){Po(e);const t=0===e.length?"0":function(e){Po(e);let t="";for(let r=0;r<e.length;r++)t+=Lo[e[r]];return t}(e);return BigInt("0x"+t)}function Hh(e){if("bigint"!==typeof e)throw new Error("bigint expected");return function(e){if("string"!==typeof e)throw new Error("hex string expected, got "+typeof e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){const t=Fo(e.charCodeAt(o)),r=Fo(e.charCodeAt(o+1));if(void 0===t||void 0===r){const t=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+t+'" at index '+o)}n[i]=16*t+r}return n}(e.toString(16).padStart(64,"0"))}const Fh=Wo("Bitcoin seed"),Wh={private:76066276,public:76067358},$h=2147483648,Vh=e=>{if(!Number.isSafeInteger(e)||e<0||e>2**32-1)throw new Error("invalid number, should be from 0 to 2**32-1, got "+e);const t=new Uint8Array(4);return Uo(t).setUint32(0,e,!1),t};class Gh{get fingerprint(){if(!this.pubHash)throw new Error("No publicKey set!");return Uo(this.pubHash).getUint32(0,!1)}get identifier(){return this.pubHash}get pubKeyHash(){return this.pubHash}get privateKey(){return this.privKeyBytes||null}get publicKey(){return this.pubKey||null}get privateExtendedKey(){const e=this.privateKey;if(!e)throw new Error("No private key");return qh.encode(this.serialize(this.versions.private,Vo(new Uint8Array([0]),e)))}get publicExtendedKey(){if(!this.pubKey)throw new Error("No public key");return qh.encode(this.serialize(this.versions.public,this.pubKey))}static fromMasterSeed(e,t=Wh){if(Po(e),8*e.length<128||8*e.length>512)throw new Error("HDKey: seed length must be between 128 and 512 bits; 256 bits is advised, got "+e.length);const r=Yo(ps,Fh,e);return new Gh({versions:t,chainCode:r.slice(32),privateKey:r.slice(0,32)})}static fromExtendedKey(e,t=Wh){const r=qh.decode(e),n=Uo(r),i=n.getUint32(0,!1),o={versions:t,depth:r[4],parentFingerprint:n.getUint32(5,!1),index:n.getUint32(9,!1),chainCode:r.slice(13,45)},s=r.slice(45),a=0===s[0];if(i!==t[a?"private":"public"])throw new Error("Version mismatch");return new Gh(a?{...o,privateKey:s.slice(1)}:{...o,publicKey:s})}static fromJSON(e){return Gh.fromExtendedKey(e.xpriv)}constructor(e){if(this.depth=0,this.index=0,this.chainCode=null,this.parentFingerprint=0,!e||"object"!==typeof e)throw new Error("HDKey.constructor must not be called directly");if(this.versions=e.versions||Wh,this.depth=e.depth||0,this.chainCode=e.chainCode||null,this.index=e.index||0,this.parentFingerprint=e.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");if(e.publicKey&&e.privateKey)throw new Error("HDKey: publicKey and privateKey at same time.");if(e.privateKey){if(!Jl.utils.isValidPrivateKey(e.privateKey))throw new Error("Invalid private key");this.privKey="bigint"===typeof e.privateKey?e.privateKey:Kh(e.privateKey),this.privKeyBytes=Hh(this.privKey),this.pubKey=Jl.getPublicKey(e.privateKey,!0)}else{if(!e.publicKey)throw new Error("HDKey: no public or private key provided");this.pubKey=Dh.fromHex(e.publicKey).toRawBytes(!0)}var t;this.pubHash=(t=this.pubKey,ch(wf(t)))}derive(e){if(!/^[mM]'?/.test(e))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(e))return this;const t=e.replace(/^[mM]'?\//,"").split("/");let r=this;for(const n of t){const e=/^(\d+)('?)$/.exec(n),t=e&&e[1];if(!e||3!==e.length||"string"!==typeof t)throw new Error("invalid child index: "+n);let i=+t;if(!Number.isSafeInteger(i)||i>=$h)throw new Error("Invalid index");"'"===e[2]&&(i+=$h),r=r.deriveChild(i)}return r}deriveChild(e){if(!this.pubKey||!this.chainCode)throw new Error("No publicKey or chainCode set");let t=Vh(e);if(e>=$h){const e=this.privateKey;if(!e)throw new Error("Could not derive hardened child key");t=Vo(new Uint8Array([0]),e,t)}else t=Vo(this.pubKey,t);const r=Yo(ps,this.chainCode,t),n=Kh(r.slice(0,32)),i=r.slice(32);if(!Jl.utils.isValidPrivateKey(n))throw new Error("Tweak bigger than curve order");const o={versions:this.versions,chainCode:i,depth:this.depth+1,parentFingerprint:this.fingerprint,index:e};try{if(this.privateKey){const e=cl(this.privKey+n,Jl.CURVE.n);if(!Jl.utils.isValidPrivateKey(e))throw new Error("The tweak was out of range or the resulted private key is invalid");o.privateKey=e}else{const e=Dh.fromHex(this.pubKey).add(Dh.fromPrivateKey(n));if(e.equals(Dh.ZERO))throw new Error("The tweak was equal to negative P, which made the result key invalid");o.publicKey=e.toRawBytes(!0)}return new Gh(o)}catch(s){return this.deriveChild(e+1)}}sign(e){if(!this.privateKey)throw new Error("No privateKey set!");return Po(e,32),Jl.sign(e,this.privKey).toCompactRawBytes()}verify(e,t){if(Po(e,32),Po(t,64),!this.publicKey)throw new Error("No publicKey set!");let r;try{r=Jl.Signature.fromCompact(t)}catch(n){return!1}return Jl.verify(r,e,this.publicKey)}wipePrivateData(){return this.privKey=void 0,this.privKeyBytes&&(this.privKeyBytes.fill(0),this.privKeyBytes=void 0),this}toJSON(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}}serialize(e,t){if(!this.chainCode)throw new Error("No chainCode set");return Po(t,33),Vo(Vh(e),new Uint8Array([this.depth]),Vh(this.parentFingerprint),Vh(this.index),this.chainCode,t)}}var Zh=class e extends Pc{constructor(t){super();let r=_a.fromHexInput(t);if(r.toUint8Array().length!==e.LENGTH)throw new Error(`PublicKey length should be ${e.LENGTH}`);this.key=r}verifySignature(e){let{message:t,signature:r}=e;if(!(r instanceof ed))return!1;let n=_a.fromHexInput(t).toUint8Array(),i=ef(n),o=r.toUint8Array();return Jl.verify(o,i,this.key.toUint8Array())}toUint8Array(){return this.key.toUint8Array()}serialize(e){e.serializeBytes(this.key.toUint8Array())}static deserialize(t){let r=t.deserializeBytes();return new e(r)}static isPublicKey(t){return t instanceof e}};Zh.LENGTH=65;var Jh=Zh,Xh=class e extends xa{constructor(t){super();let r=_a.fromHexInput(t);if(r.toUint8Array().length!==e.LENGTH)throw new Error(`PrivateKey length should be ${e.LENGTH}`);this.key=r}static generate(){let t=Jl.utils.randomPrivateKey();return new e(t)}static fromDerivationPath(t,r){if(!function(e){return Uc.test(e)}(t))throw new Error(`Invalid derivation path ${t}`);return e.fromDerivationPathInner(t,zc(r))}static fromDerivationPathInner(t,r){let{privateKey:n}=Gh.fromMasterSeed(r).derive(t);if(null===n)throw new Error("Invalid key");return new e(n)}sign(e){let t=_a.fromHexInput(e),r=ef(t.toUint8Array()),n=Jl.sign(r,this.key.toUint8Array());return new ed(n.toCompactRawBytes())}publicKey(){let e=Jl.getPublicKey(this.key.toUint8Array(),!1);return new Jh(e)}toUint8Array(){return this.key.toUint8Array()}toString(){return this.key.toString()}serialize(e){e.serializeBytes(this.toUint8Array())}static deserialize(t){let r=t.deserializeBytes();return new e(r)}static isPrivateKey(t){return t instanceof e}};Xh.LENGTH=32;var Yh=Xh,Qh=class e extends Oc{constructor(t){super();let r=_a.fromHexInput(t);if(r.toUint8Array().length!==e.LENGTH)throw new Error(`Signature length should be ${e.LENGTH}, received ${r.toUint8Array().length}`);this.data=r}toUint8Array(){return this.data.toUint8Array()}serialize(e){e.serializeBytes(this.data.toUint8Array())}static deserialize(t){let r=t.deserializeBytes();return new e(r)}};Qh.LENGTH=64;var ed=Qh,td=class e extends Bc{constructor(e){if(super(),this.publicKey=e,e instanceof sf)this.variant=0;else{if(!(e instanceof Jh))throw new Error("Unsupported public key type");this.variant=1}}verifySignature(e){let{message:t,signature:r}=e;return r instanceof rd&&this.publicKey.verifySignature({message:t,signature:r.signature})}authKey(){return nf.fromSchemeAndBytes({scheme:2,input:this.toUint8Array()})}toUint8Array(){return this.bcsToBytes()}serialize(e){e.serializeU32AsUleb128(this.variant),this.publicKey.serialize(e)}static deserialize(t){let r,n=t.deserializeUleb128AsU32();switch(n){case 0:r=sf.deserialize(t);break;case 1:r=Jh.deserialize(t);break;default:throw new Error(`Unknown variant index for AnyPublicKey: ${n}`)}return new e(r)}static isPublicKey(t){return t instanceof e}isEd25519(){return this.publicKey instanceof sf}isSecp256k1PublicKey(){return this.publicKey instanceof Jh}},rd=class e extends Oc{constructor(e){if(super(),this.signature=e,e instanceof ff)this.variant=0;else{if(!(e instanceof ed))throw new Error("Unsupported signature type");this.variant=1}}toUint8Array(){return this.bcsToBytes()}serialize(e){e.serializeU32AsUleb128(this.variant),this.signature.serialize(e)}static deserialize(t){let r,n=t.deserializeUleb128AsU32();switch(n){case 0:r=ff.deserialize(t);break;case 1:r=ed.deserialize(t);break;default:throw new Error(`Unknown variant index for AnySignature: ${n}`)}return new e(r)}};function nd(e){let t=e;return t-=t>>1&1431655765,t=(858993459&t)+(t>>2&858993459),16843009*(t+(t>>4)&252645135)>>24}var id=class e extends Bc{constructor(e){super();let{publicKeys:t,signaturesRequired:r}=e;if(r<1)throw new Error("The number of required signatures needs to be greater than 0");if(t.length<r)throw new Error(`Provided ${t.length} public keys is smaller than the ${r} required signatures`);this.publicKeys=t.map((e=>e instanceof td?e:new td(e))),this.signaturesRequired=r}verifySignature(e){throw new Error("not implemented")}authKey(){return nf.fromSchemeAndBytes({scheme:3,input:this.toUint8Array()})}toUint8Array(){return this.bcsToBytes()}serialize(e){e.serializeVector(this.publicKeys),e.serializeU8(this.signaturesRequired)}static deserialize(t){let r=t.deserializeVector(td),n=t.deserializeU8();return new e({publicKeys:r,signaturesRequired:n})}createBitmap(e){let{bits:t}=e,r=new Uint8Array([0,0,0,0]),n=new Set;return t.forEach(((e,t)=>{if(t+1>this.publicKeys.length)throw new Error(`Signature index ${t+1} is out of public keys range, ${this.publicKeys.length}.`);if(n.has(e))throw new Error(`Duplicate bit ${e} detected.`);n.add(e);let i=Math.floor(e/8),o=r[i];o|=128>>e%8,r[i]=o})),r}},od=class e extends Oc{constructor(t){super();let{signatures:r,bitmap:n}=t;if(r.length>e.MAX_SIGNATURES_SUPPORTED)throw new Error(`The number of signatures cannot be greater than ${e.MAX_SIGNATURES_SUPPORTED}`);if(this.signatures=r.map((e=>e instanceof rd?e:new rd(e))),n instanceof Uint8Array){if(n.length!==e.BITMAP_LEN)throw new Error(`"bitmap" length should be ${e.BITMAP_LEN}`);this.bitmap=n}else this.bitmap=e.createBitmap({bits:n});let i=this.bitmap.reduce(((e,t)=>e+nd(t)),0);if(i!==this.signatures.length)throw new Error(`Expecting ${i} signatures from the bitmap, but got ${this.signatures.length}`)}static createBitmap(t){let{bits:r}=t,n=new Uint8Array([0,0,0,0]),i=new Set;return r.forEach((t=>{if(t>=e.MAX_SIGNATURES_SUPPORTED)throw new Error(`Cannot have a signature larger than ${e.MAX_SIGNATURES_SUPPORTED-1}.`);if(i.has(t))throw new Error("Duplicate bits detected.");i.add(t);let r=Math.floor(t/8),o=n[r];o|=128>>t%8,n[r]=o})),n}toUint8Array(){return this.bcsToBytes()}serialize(e){e.serializeVector(this.signatures),e.serializeBytes(this.bitmap)}static deserialize(t){let r=t.deserializeBytes(),n=r.reduce(((e,t)=>e+nd(t)),0),i=[];for(let e=0;e<n;e+=1){let e=rd.deserialize(t);i.push(e)}return new e({signatures:i,bitmap:r})}};od.BITMAP_LEN=4,od.MAX_SIGNATURES_SUPPORTED=8*od.BITMAP_LEN;var sd=class extends xa{static deserialize(e){let t=e.deserializeUleb128AsU32();switch(t){case 0:return ad.load(e);case 1:return ud.load(e);case 2:return cd.load(e);case 3:return fd.load(e);default:throw new Error(`Unknown variant index for AccountAuthenticator: ${t}`)}}isEd25519(){return this instanceof ad}isMultiEd25519(){return this instanceof ud}isSingleKey(){return this instanceof cd}isMultiKey(){return this instanceof fd}},ad=class e extends sd{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(0),this.public_key.serialize(e),this.signature.serialize(e)}static load(t){let r=sf.deserialize(t),n=ff.deserialize(t);return new e(r,n)}},ud=class e extends sd{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(1),this.public_key.serialize(e),this.signature.serialize(e)}static load(t){let r=hf.deserialize(t),n=pf.deserialize(t);return new e(r,n)}},cd=class e extends sd{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(2),this.public_key.serialize(e),this.signature.serialize(e)}static load(t){let r=td.deserialize(t),n=rd.deserialize(t);return new e(r,n)}},fd=class e extends sd{constructor(e,t,r){super(),this.public_keys=e,this.signatures=t,this.signatures_bitmap=r}serialize(e){e.serializeU32AsUleb128(3),this.public_keys.serialize(e),e.serializeVector(this.signatures),e.serializeBytes(this.signatures_bitmap)}static load(t){let r=id.deserialize(t),n=t.deserializeVector(rd),i=t.deserializeBytes();return new e(r,n,i)}},ld=class e{constructor(e){this.signingScheme=0;let{privateKey:t,address:r}=e;this.privateKey=t,this.publicKey=t.publicKey(),this.accountAddress=r?Ca.from(r):this.publicKey.authKey().derivedAddress()}static generate(){let t=uf.generate();return new e({privateKey:t})}static fromDerivationPath(t){let{path:r,mnemonic:n}=t,i=uf.fromDerivationPath(r,n);return new e({privateKey:i})}verifySignature(e){return this.publicKey.verifySignature(e)}signWithAuthenticator(e){let t=this.privateKey.sign(e);return new ad(this.publicKey,t)}sign(e){return this.signWithAuthenticator(e).signature}},hd=class e{constructor(e){this.signingScheme=2;let{privateKey:t,address:r}=e;this.privateKey=t,this.publicKey=new td(t.publicKey()),this.accountAddress=r?Ca.from(r):this.publicKey.authKey().derivedAddress()}static generate(t={}){let r,{scheme:n=0}=t;switch(n){case 0:r=uf.generate();break;case 2:r=Yh.generate();break;default:throw new Error(`Unsupported signature scheme ${n}`)}return new e({privateKey:r})}static fromDerivationPath(t){let r,{scheme:n=0,path:i,mnemonic:o}=t;switch(n){case 0:r=uf.fromDerivationPath(i,o);break;case 2:r=Yh.fromDerivationPath(i,o);break;default:throw new Error(`Unsupported signature scheme ${n}`)}return new e({privateKey:r})}verifySignature(e){return this.publicKey.verifySignature(e)}signWithAuthenticator(e){let t=this.privateKey.sign(e),r=new rd(t);return new cd(this.publicKey,r)}sign(e){return this.signWithAuthenticator(e).signature}},dd=class{static generate(e={}){let{scheme:t=0,legacy:r=!0}=e;return 0===t&&r?ld.generate():hd.generate({scheme:t})}static fromPrivateKey(e){let{privateKey:t,address:r,legacy:n=!0}=e;return t instanceof uf&&n?new ld({privateKey:t,address:r}):new hd({privateKey:t,address:r})}static fromPrivateKeyAndAddress(e){return this.fromPrivateKey(e)}static fromDerivationPath(e){let{scheme:t=0,mnemonic:r,path:n,legacy:i=!0}=e;return 0===t&&i?ld.fromDerivationPath({mnemonic:r,path:n}):hd.fromDerivationPath({scheme:t,mnemonic:r,path:n})}static authKey(e){let{publicKey:t}=e;return t.authKey()}verifySignature(e){return this.publicKey.verifySignature(e)}};async function pd(e){let{aptosConfig:t,accountAddress:r}=e,{data:n}=await su({aptosConfig:t,originMethod:"getInfo",path:`accounts/${Ca.from(r).toString()}`});return n}async function gd(e){return void 0!==e.options?.ledgerVersion?yd(e):bu((async()=>yd(e)),`module-${e.accountAddress}-${e.moduleName}`,3e5)()}async function yd(e){let{aptosConfig:t,accountAddress:r,moduleName:n,options:i}=e,{data:o}=await su({aptosConfig:t,originMethod:"getModule",path:`accounts/${Ca.from(r).toString()}/module/${n}`,params:{ledger_version:i?.ledgerVersion}});return o}async function md(e){let{aptosConfig:t,accountAddress:r,resourceType:n,options:i}=e,{data:o}=await su({aptosConfig:t,originMethod:"getResource",path:`accounts/${Ca.from(r).toString()}/resource/${n}`,params:{ledger_version:i?.ledgerVersion}});return o.data}async function bd(e){let{aptosConfig:t,authenticationKey:r,options:n}=e,i=await md({aptosConfig:t,accountAddress:"0x1",resourceType:"0x1::account::OriginatingAddress",options:n}),{address_map:{handle:o}}=i,s=Ca.from(r);try{let e=await lu({aptosConfig:t,handle:o,data:{key:s.toString(),key_type:"address",value_type:"address"},options:n});return Ca.from(e)}catch(a){if(a instanceof ru&&"table_item_not_found"===a.data.error_code)return s;throw a}}async function wd(e){let{aptosConfig:t,accountAddress:r,options:n}=e,i=Ca.from(r).toStringLong(),o={...n?.where,owner_address:{_eq:i}},s={query:Ra,variables:{where_condition:o,offset:n?.offset,limit:n?.limit,order_by:n?.orderBy}};return(await hu({aptosConfig:t,query:s,originMethod:"getAccountCoinsData"})).current_fungible_asset_balances}async function vd(e){let{aptosConfig:t,authKey:r}=e,n=await bd({aptosConfig:t,authenticationKey:r.derivedAddress()});try{return await pd({aptosConfig:t,accountAddress:n}),!0}catch(i){if(404===i.status)return!1;throw new Error(`Error while looking for an account info ${n.toString()}`)}}var _d=new TextEncoder;function Sd(e){return e?.map((e=>gc(e)?rc(e):e))??[]}async function Ed(e,t,r,n){let i=await gd({aptosConfig:n,accountAddress:e,moduleName:t});if(i.abi)return i.abi.exposed_functions.find((e=>e.name===r))}async function Ad(e,t,r,n){let i=await Ed(e,t,r,n);if(!i)throw new Error(`Could not find entry function ABI for '${e}::${t}::${r}'`);if(!i.is_entry)throw new Error(`'${e}::${t}::${r}' is not an entry function`);let o=function(e){let t=e.params.findIndex((e=>"signer"!==e&&"&signer"!==e));return t<0?e.params.length:t}(i),s=[];for(let a=o;a<i.params.length;a+=1)s.push(rc(i.params[a],{allowGenerics:!0}));return{signers:o,typeParameters:i.generic_type_params,parameters:s}}async function xd(e,t,r,n){let i=await Ed(e,t,r,n);if(!i)throw new Error(`Could not find view function ABI for '${e}::${t}::${r}'`);if(!i.is_view)throw new Error(`'${e}::${t}::${r}' is not an view function`);let o=[];for(let a=0;a<i.params.length;a+=1)o.push(rc(i.params[a],{allowGenerics:!0}));let s=[];for(let a=0;a<i.return.length;a+=1)s.push(rc(i.return[a],{allowGenerics:!0}));return{typeParameters:i.generic_type_params,parameters:o,returnTypes:s}}function kd(e,t,r,n,i){if(n>=t.parameters.length)throw new Error(`Too many arguments for '${e}', expected ${t.parameters.length}`);return Td(r,t.parameters[n],n,i)}function Td(e,t,r,n){return bc(e)?(Id(t,e,r),e):function(e,t,r,n){if(t.isBool()){if(function(e){return"boolean"==typeof e}(e))return new oc(e);Ic("boolean",r)}if(t.isAddress()){if(gc(e))return Ca.fromString(e);Ic("string | AccountAddress",r)}if(t.isU8()){if(yc(e))return new sc(e);Ic("number",r)}if(t.isU16()){if(yc(e))return new ac(e);Ic("number",r)}if(t.isU32()){if(yc(e))return new uc(e);Ic("number",r)}if(t.isU64()){if(mc(e))return new cc(BigInt(e));Ic("bigint | number | string",r)}if(t.isU128()){if(mc(e))return new fc(BigInt(e));Ic("bigint | number | string",r)}if(t.isU256()){if(mc(e))return new lc(BigInt(e));Ic("bigint | number | string",r)}if(t.isGeneric()){let i=t.value;if(i<0||i>=n.length)throw new Error(`Generic argument ${t.toString()} is invalid for argument ${r}`);return Td(e,n[i],r,n)}if(t.isVector()){if(t.value.isU8()){if(gc(e))return hc.U8(_d.encode(e));if(e instanceof Uint8Array)return hc.U8(e);if(e instanceof ArrayBuffer)return hc.U8(new Uint8Array(e))}if(Array.isArray(e))return new hc(e.map((e=>Td(e,t.value,r,n))));throw new Error(`Type mismatch for argument ${r}, type '${t.toString()}'`)}if(t.isStruct()){if(t.isString()){if(gc(e))return new dc(e);Ic("string",r)}if(t.isObject()){if(gc(e))return Ca.fromString(e);Ic("string | AccountAddress",r)}if(t.isOption())return function(e){return null==e}(e)?new pc(null):new pc(Td(e,t.value.typeArgs[0],r,n));throw new Error(`Unsupported struct input type for argument ${r}, type '${t.toString()}'`)}throw new Error(`Type mismatch for argument ${r}, type '${t.toString()}'`)}(e,t,r,n)}function Id(e,t,r){if(e.isBool()){if(wc(t))return;Ic("Bool",r)}if(e.isAddress()){if(vc(t))return;Ic("AccountAddress",r)}if(e.isU8()){if(Sc(t))return;Ic("U8",r)}if(e.isU16()){if(Ec(t))return;Ic("U16",r)}if(e.isU32()){if(Ac(t))return;Ic("U32",r)}if(e.isU64()){if(xc(t))return;Ic("U64",r)}if(e.isU128()){if(kc(t))return;Ic("U128",r)}if(e.isU256()){if(Tc(t))return;Ic("U256",r)}if(e.isVector()){if(t instanceof hc)return void(t.values.length>0&&Id(e.value,t.values[0],r));Ic("MoveVector",r)}if(e instanceof Vu){if(e.isString()){if(_c(t))return;Ic("MoveString",r)}if(e.isObject()){if(vc(t))return;Ic("AccountAddress",r)}if(e.isOption()){if(t instanceof pc)return void(void 0!==t.value&&Id(e.value.typeArgs[0],t.value,r));Ic("MoveOption",r)}}throw new Error(`Type mismatch for argument ${r}, expected '${e.toString()}'`)}var Md=class e extends xa{constructor(e,t){super(),this.address=e,this.name=t}static fromStr(t){let r=t.split("::");if(2!==r.length)throw new Error("Invalid module id.");return new e(Ca.fromString(r[0]),new Cu(r[1]))}serialize(e){this.address.serialize(e),this.name.serialize(e)}static deserialize(t){let r=Ca.deserialize(t),n=Cu.deserialize(t);return new e(r,n)}},Pd=class e extends xa{constructor(e){super(),this.value=new ic(e)}serialize(e){e.serialize(this.value)}serializeForEntryFunction(e){e.serializeU32AsUleb128(this.value.value.length),e.serialize(this)}static deserialize(t,r){let n=ic.deserialize(t,r);return new e(n.value)}};function Bd(e){let t=e.deserializeUleb128AsU32();switch(t){case 0:return sc.deserialize(e);case 1:return cc.deserialize(e);case 2:return fc.deserialize(e);case 3:return Ca.deserialize(e);case 4:return hc.deserialize(e,sc);case 5:return oc.deserialize(e);case 6:return ac.deserialize(e);case 7:return uc.deserialize(e);case 8:return lc.deserialize(e);default:throw new Error(`Unknown variant index for ScriptTransactionArgument: ${t}`)}}var Od=class extends xa{static deserialize(e){let t=e.deserializeUleb128AsU32();switch(t){case 0:return Cd.load(e);case 2:return Ud.load(e);case 3:return Nd.load(e);default:throw new Error(`Unknown variant index for TransactionPayload: ${t}`)}}},Cd=class e extends Od{constructor(e){super(),this.script=e}serialize(e){e.serializeU32AsUleb128(0),this.script.serialize(e)}static load(t){let r=Ld.deserialize(t);return new e(r)}},Ud=class e extends Od{constructor(e){super(),this.entryFunction=e}serialize(e){e.serializeU32AsUleb128(2),this.entryFunction.serialize(e)}static load(t){let r=Rd.deserialize(t);return new e(r)}},Nd=class e extends Od{constructor(e){super(),this.multiSig=e}serialize(e){e.serializeU32AsUleb128(3),this.multiSig.serialize(e)}static load(t){let r=zd.deserialize(t);return new e(r)}},Rd=class e{constructor(e,t,r,n){this.module_name=e,this.function_name=t,this.type_args=r,this.args=n}static build(t,r,n,i){return new e(Md.fromStr(t),new Cu(r),n,i)}serialize(e){this.module_name.serialize(e),this.function_name.serialize(e),e.serializeVector(this.type_args),e.serializeU32AsUleb128(this.args.length),this.args.forEach((t=>{t.serializeForEntryFunction(e)}))}static deserialize(t){let r=Md.deserialize(t),n=Cu.deserialize(t),i=t.deserializeVector(Uu),o=t.deserializeUleb128AsU32(),s=new Array;for(let e=0;e<o;e+=1){let e=t.deserializeUleb128AsU32(),r=Pd.deserialize(t,e);s.push(r)}return new e(r,n,i,s)}},Ld=class e{constructor(e,t,r){this.bytecode=e,this.type_args=t,this.args=r}serialize(e){e.serializeBytes(this.bytecode),e.serializeVector(this.type_args),e.serializeU32AsUleb128(this.args.length),this.args.forEach((t=>{t.serializeForScriptFunction(e)}))}static deserialize(t){let r=t.deserializeBytes(),n=t.deserializeVector(Uu),i=t.deserializeUleb128AsU32(),o=new Array;for(let e=0;e<i;e+=1){let e=Bd(t);o.push(e)}return new e(r,n,o)}},zd=class e{constructor(e,t){this.multisig_address=e,this.transaction_payload=t}serialize(e){this.multisig_address.serialize(e),void 0===this.transaction_payload?e.serializeBool(!1):(e.serializeBool(!0),this.transaction_payload.serialize(e))}static deserialize(t){let r,n=Ca.deserialize(t);return t.deserializeBool()&&(r=jd.deserialize(t)),new e(n,r)}},jd=class e extends xa{constructor(e){super(),this.transaction_payload=e}serialize(e){e.serializeU32AsUleb128(0),this.transaction_payload.serialize(e)}static deserialize(t){return t.deserializeUleb128AsU32(),new e(Rd.deserialize(t))}},Dd=class e extends xa{constructor(e){super(),this.chainId=e}serialize(e){e.serializeU8(this.chainId)}static deserialize(t){let r=t.deserializeU8();return new e(r)}},qd=class e extends xa{constructor(e,t,r,n,i,o,s){super(),this.sender=e,this.sequence_number=t,this.payload=r,this.max_gas_amount=n,this.gas_unit_price=i,this.expiration_timestamp_secs=o,this.chain_id=s}serialize(e){this.sender.serialize(e),e.serializeU64(this.sequence_number),this.payload.serialize(e),e.serializeU64(this.max_gas_amount),e.serializeU64(this.gas_unit_price),e.serializeU64(this.expiration_timestamp_secs),this.chain_id.serialize(e)}static deserialize(t){let r=Ca.deserialize(t),n=t.deserializeU64(),i=Od.deserialize(t),o=t.deserializeU64(),s=t.deserializeU64(),a=t.deserializeU64(),u=Dd.deserialize(t);return new e(r,n,i,o,s,a,u)}},Kd=class extends xa{static deserialize(e){let t=e.deserializeUleb128AsU32();switch(t){case 0:return Hd.load(e);case 1:return Fd.load(e);default:throw new Error(`Unknown variant index for RawTransactionWithData: ${t}`)}}},Hd=class e extends Kd{constructor(e,t){super(),this.raw_txn=e,this.secondary_signer_addresses=t}serialize(e){e.serializeU32AsUleb128(0),this.raw_txn.serialize(e),e.serializeVector(this.secondary_signer_addresses)}static load(t){let r=qd.deserialize(t),n=t.deserializeVector(Ca);return new e(r,n)}},Fd=class e extends Kd{constructor(e,t,r){super(),this.raw_txn=e,this.secondary_signer_addresses=t,this.fee_payer_address=r}serialize(e){e.serializeU32AsUleb128(1),this.raw_txn.serialize(e),e.serializeVector(this.secondary_signer_addresses),this.fee_payer_address.serialize(e)}static load(t){let r=qd.deserialize(t),n=t.deserializeVector(Ca),i=Ca.deserialize(t);return new e(r,n,i)}},Wd=class extends xa{static deserialize(e){let t=e.deserializeUleb128AsU32();switch(t){case 0:return $d.load(e);case 1:return Vd.load(e);case 2:return Gd.load(e);case 3:return Zd.load(e);case 4:return Jd.load(e);default:throw new Error(`Unknown variant index for TransactionAuthenticator: ${t}`)}}},$d=class e extends Wd{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(0),this.public_key.serialize(e),this.signature.serialize(e)}static load(t){let r=sf.deserialize(t),n=ff.deserialize(t);return new e(r,n)}},Vd=class e extends Wd{constructor(e,t){super(),this.public_key=e,this.signature=t}serialize(e){e.serializeU32AsUleb128(1),this.public_key.serialize(e),this.signature.serialize(e)}static load(t){let r=hf.deserialize(t),n=pf.deserialize(t);return new e(r,n)}},Gd=class e extends Wd{constructor(e,t,r){super(),this.sender=e,this.secondary_signer_addresses=t,this.secondary_signers=r}serialize(e){e.serializeU32AsUleb128(2),this.sender.serialize(e),e.serializeVector(this.secondary_signer_addresses),e.serializeVector(this.secondary_signers)}static load(t){let r=sd.deserialize(t),n=t.deserializeVector(Ca),i=t.deserializeVector(sd);return new e(r,n,i)}},Zd=class e extends Wd{constructor(e,t,r,n){super(),this.sender=e,this.secondary_signer_addresses=t,this.secondary_signers=r,this.fee_payer=n}serialize(e){e.serializeU32AsUleb128(3),this.sender.serialize(e),e.serializeVector(this.secondary_signer_addresses),e.serializeVector(this.secondary_signers),this.fee_payer.address.serialize(e),this.fee_payer.authenticator.serialize(e)}static load(t){let r=sd.deserialize(t),n=t.deserializeVector(Ca),i=t.deserializeVector(sd),o=Ca.deserialize(t),s=sd.deserialize(t);return new e(r,n,i,{address:o,authenticator:s})}},Jd=class e extends Wd{constructor(e){super(),this.sender=e}serialize(e){e.serializeU32AsUleb128(4),this.sender.serialize(e)}static load(t){let r=sd.deserialize(t);return new e(r)}},Xd=class e extends xa{constructor(e,t){super(),this.raw_txn=e,this.authenticator=t}serialize(e){this.raw_txn.serialize(e),this.authenticator.serialize(e)}static deserialize(t){let r=qd.deserialize(t),n=Wd.deserialize(t);return new e(r,n)}},Yd={mainnet:"https://api.mainnet.aptoslabs.com/v1/graphql",testnet:"https://api.testnet.aptoslabs.com/v1/graphql",devnet:"https://api.devnet.aptoslabs.com/v1/graphql",randomnet:"https://indexer-randomnet.hasura.app/v1/graphql",local:"http://127.0.0.1:8090/v1/graphql"},Qd={mainnet:"https://api.mainnet.aptoslabs.com/v1",testnet:"https://api.testnet.aptoslabs.com/v1",devnet:"https://api.devnet.aptoslabs.com/v1",randomnet:"https://fullnode.random.aptoslabs.com/v1",local:"http://127.0.0.1:8080/v1"},ep={mainnet:"https://faucet.mainnet.aptoslabs.com",testnet:"https://faucet.testnet.aptoslabs.com",devnet:"https://faucet.devnet.aptoslabs.com",randomnet:"https://faucet.random.aptoslabs.com",local:"http://127.0.0.1:8081"},tp=(e=>(e.MAINNET="mainnet",e.TESTNET="testnet",e.DEVNET="devnet",e.RANDOMNET="randomnet",e.LOCAL="local",e.CUSTOM="custom",e))(tp||{}),rp={mainnet:1,testnet:2,randomnet:70};async function np(e){if(function(e){return"bytecode"in e}(e))return function(e){return new Cd(new Ld(_a.fromHexInput(e.bytecode).toUint8Array(),e.typeArguments??[],e.functionArguments))}(e);let{moduleAddress:t,moduleName:r,functionName:n}=Mc(e.function);return function(e){let t=e.abi,{moduleAddress:r,moduleName:n,functionName:i}=Mc(e.function),o=Sd(e.typeArguments);if(o.length!==t.typeParameters.length)throw new Error(`Type argument count mismatch, expected ${t.typeParameters.length}, received ${o.length}`);let s=e.functionArguments.map(((r,n)=>kd(e.function,t,r,n,o)));if(s.length!==t.parameters.length)throw new Error(`Too few arguments for '${r}::${n}::${i}', expected ${t.parameters.length} but got ${s.length}`);let a=Rd.build(`${r}::${n}`,i,o,s);if("multisigAddress"in e){let t=Ca.from(e.multisigAddress);return new Nd(new zd(t,new jd(a)))}return new Ud(a)}({abi:await fp({key:"entry-function",moduleAddress:t,moduleName:r,functionName:n,aptosConfig:e.aptosConfig,abi:e.abi,fetch:Ad}),...e})}async function ip(e){let{moduleAddress:t,moduleName:r,functionName:n}=Mc(e.function);return function(e){let t=e.abi,{moduleAddress:r,moduleName:n,functionName:i}=Mc(e.function),o=Sd(e.typeArguments);if(o.length!==t.typeParameters.length)throw new Error(`Type argument count mismatch, expected ${t.typeParameters.length}, received ${o.length}`);let s=e?.functionArguments?.map(((r,n)=>kd(e.function,t,r,n,o)))??[];if(s.length!==t.parameters.length)throw new Error(`Too few arguments for '${r}::${n}::${i}', expected ${t.parameters.length} but got ${s.length}`);return Rd.build(`${r}::${n}`,i,o,s)}({abi:await fp({key:"view-function",moduleAddress:t,moduleName:r,functionName:n,aptosConfig:e.aptosConfig,abi:e.abi,fetch:xd}),...e})}async function op(e){let{aptosConfig:t,sender:r,payload:n,options:i,feePayerAddress:o}=e,s=await async function(e){let t,{aptosConfig:r,sender:n,payload:i,options:o,feePayerAddress:s}=e,a=rp[r.network]?Promise.resolve({chain_id:rp[r.network]}):fu({aptosConfig:r}),u=o?.gasUnitPrice?Promise.resolve({gas_estimate:o.gasUnitPrice}):Eu({aptosConfig:r}),[{chain_id:c},{gas_estimate:f}]=await Promise.all([a,u]),l=void 0!==o?.accountSequenceNumber?Promise.resolve({sequence_number:o.accountSequenceNumber}):pd({aptosConfig:r,accountAddress:n});if(s&&Ca.from(s).equals(Ca.ZERO))try{let{sequence_number:e}=await l;t=e}catch{t="0"}else{let{sequence_number:e}=await l;t=e}let{maxGasAmount:h,gasUnitPrice:d,expireTimestamp:p}={maxGasAmount:o?.maxGasAmount?BigInt(o.maxGasAmount):BigInt(2e5),gasUnitPrice:BigInt(f),expireTimestamp:BigInt(Math.floor(Date.now()/1e3)+20),...o};return new qd(Ca.from(n),BigInt(t),i,BigInt(h),BigInt(d),BigInt(p),new Dd(c))}({aptosConfig:t,sender:r,payload:n,options:i,feePayerAddress:o});if("secondarySignerAddresses"in e){let t=e.secondarySignerAddresses?.map((e=>Ca.from(e)))??[];return{rawTransaction:s,secondarySignerAddresses:t,feePayerAddress:e.feePayerAddress?Ca.from(e.feePayerAddress):void 0}}return{rawTransaction:s,feePayerAddress:e.feePayerAddress?Ca.from(e.feePayerAddress):void 0}}function sp(e){if(e instanceof td){if(e.publicKey instanceof sf)return new cd(e,new rd(new ff(new Uint8Array(64))));if(e.publicKey instanceof Jh)return new cd(e,new rd(new ed(new Uint8Array(64))))}return new ad(new sf(e.toUint8Array()),new ff(new Uint8Array(64)))}function ap(e){let{transaction:t,senderAuthenticator:r,feePayerAuthenticator:n,additionalSignersAuthenticators:i}=e,o=up(t);if((n||i)&&(o instanceof Hd||o instanceof Fd))return function(e,t,r,n){if(e instanceof Fd){if(!r)throw new Error("Must provide a feePayerAuthenticator argument to generate a signed fee payer transaction");let i=new Zd(t,e.secondary_signer_addresses,n??[],{address:e.fee_payer_address,authenticator:r});return new Xd(e.raw_txn,i).bcsToBytes()}if(e instanceof Hd){if(!n)throw new Error("Must provide a additionalSignersAuthenticators argument to generate a signed multi agent transaction");let r=new Gd(t,e.secondary_signer_addresses,n??[]);return new Xd(e.raw_txn,r).bcsToBytes()}throw new Error(`Cannot prepare multi signers transaction to submission, ${typeof e} transaction is not supported`)}(o,r,n,i);if(r instanceof ad&&o instanceof qd){let e=new $d(r.public_key,r.signature);return new Xd(o,e).bcsToBytes()}if((r instanceof cd||r instanceof fd)&&o instanceof qd){let e=new Jd(r);return new Xd(o,e).bcsToBytes()}throw new Error(`Cannot generate a signed transaction, ${r} is not a supported account authentication scheme`)}function up(e){return e.feePayerAddress?new Fd(e.rawTransaction,e.secondarySignerAddresses??[],e.feePayerAddress):e.secondarySignerAddresses?new Hd(e.rawTransaction,e.secondarySignerAddresses):e.rawTransaction}function cp(e){let t=up(e),r=ef.create();if(t instanceof qd)r.update("APTOS::RawTransaction");else if(t instanceof Hd)r.update(_u);else{if(!(t instanceof Fd))throw new Error(`Unknown transaction type to sign on: ${t}`);r.update(_u)}let n=r.digest(),i=t.bcsToBytes(),o=new Uint8Array(n.length+i.length);return o.set(n),o.set(i,n.length),o}async function fp({key:e,moduleAddress:t,moduleName:r,functionName:n,aptosConfig:i,abi:o,fetch:s}){return o||bu((async()=>s(t,r,n,i)),`${e}-${i.network}-${t}-${r}-${n}`,3e5)()}var lp=class extends xa{constructor(e){super(),this.accountAddress=Ca.ONE,this.moduleName=new dc("account"),this.structName=new dc("RotationProofChallenge"),this.sequenceNumber=new cc(e.sequenceNumber),this.originator=e.originator,this.currentAuthKey=e.currentAuthKey,this.newPublicKey=hc.U8(e.newPublicKey.toUint8Array())}serialize(e){e.serialize(this.accountAddress),e.serialize(this.moduleName),e.serialize(this.structName),e.serialize(this.sequenceNumber),e.serialize(this.originator),e.serialize(this.currentAuthKey),e.serialize(this.newPublicKey)}};async function hp(e){let t=await async function(e){let t,r,{aptosConfig:n,data:i}=e;return"bytecode"in i?r=await np(i):"multisigAddress"in i?(t={aptosConfig:n,multisigAddress:i.multisigAddress,function:i.function,functionArguments:i.functionArguments,typeArguments:i.typeArguments},r=await np(t)):(t={aptosConfig:n,function:i.function,functionArguments:i.functionArguments,typeArguments:i.typeArguments},r=await np(t)),r}(e);return async function(e,t){let r,{aptosConfig:n,sender:i,options:o}=e;if(function(e){return!0===e.withFeePayer}(e)&&(r=Ca.ZERO.toString()),function(e){return"secondarySignerAddresses"in e}(e)){let{secondarySignerAddresses:s}=e;return op({aptosConfig:n,sender:i,payload:t,options:o,secondarySignerAddresses:s,feePayerAddress:r})}return op({aptosConfig:n,sender:i,payload:t,options:o,feePayerAddress:r})}(e,t)}function dp(e){return function(e){let{signer:t,transaction:r}=e,n=cp(r);return t.signWithAuthenticator(n)}({...e})}async function pp(e){let{aptosConfig:t,transaction:r,signerPublicKey:n,secondarySignersPublicKeys:i,feePayerPublicKey:o,options:s}=e,a=function(e){let t,{signerPublicKey:r,transaction:n,secondarySignersPublicKeys:i,feePayerPublicKey:o}=e,s=sp(r);if(n.feePayerAddress){let e=new Fd(n.rawTransaction,n.secondarySignerAddresses??[],n.feePayerAddress),t=[];i&&(t=i.map((e=>sp(e))));let r=sp(o),a=new Zd(s,n.secondarySignerAddresses??[],t,{address:n.feePayerAddress,authenticator:r});return new Xd(e.raw_txn,a).bcsToBytes()}if(n.secondarySignerAddresses){let e=new Hd(n.rawTransaction,n.secondarySignerAddresses),t=[];t=i.map((e=>sp(e)));let r=new Gd(s,n.secondarySignerAddresses,t);return new Xd(e.raw_txn,r).bcsToBytes()}if(s instanceof ad)t=new $d(s.public_key,s.signature);else{if(!(s instanceof cd))throw new Error("Invalid public key");t=new Jd(s)}return new Xd(n.rawTransaction,t).bcsToBytes()}({transaction:r,signerPublicKey:n,secondarySignersPublicKeys:i,feePayerPublicKey:o,options:s}),{data:u}=await cu({aptosConfig:t,body:a,path:"transactions/simulate",params:{estimate_gas_unit_price:e.options?.estimateGasUnitPrice??!1,estimate_max_gas_amount:e.options?.estimateMaxGasAmount??!1,estimate_prioritized_gas_unit_price:e.options?.estimatePrioritizedGasUnitPrice??!1},originMethod:"simulateTransaction",contentType:"application/x.aptos.signed_transaction+bcs"});return u}async function gp(e){let{aptosConfig:t}=e,r=ap({...e}),{data:n}=await cu({aptosConfig:t,body:r,path:"transactions",originMethod:"submitTransaction",contentType:"application/x.aptos.signed_transaction+bcs"});return n}async function yp(e){let{aptosConfig:t,signer:r,transaction:n}=e;return gp({aptosConfig:t,transaction:n,senderAuthenticator:dp({signer:r,transaction:n})})}var mp={typeParameters:[],parameters:[$u.u8(),new $u($u.u8())]};var bp={typeParameters:[],parameters:[new Ru,$u.u8(),new Ru,$u.u8(),$u.u8(),$u.u8()]};async function wp(e){let{aptosConfig:t,options:r}=e,n={query:Za,variables:{where_condition:r?.where,limit:r?.limit,offset:r?.offset}};return(await hu({aptosConfig:t,query:n,originMethod:"getFungibleAssetMetadata"})).fungible_asset_metadata}var vp={typeParameters:[],parameters:[rc("0x1::object::Object"),new Ku,new ju]};var _p=class{constructor(e){this.config=e}async getFungibleAssetMetadata(e){return await Mu({config:this.config,minimumLedgerVersion:e?.minimumLedgerVersion,processorType:"fungible_asset_processor"}),wp({aptosConfig:this.config,...e})}async getFungibleAssetMetadataByAssetType(e){return await Mu({config:this.config,minimumLedgerVersion:e?.minimumLedgerVersion,processorType:"fungible_asset_processor"}),(await wp({aptosConfig:this.config,options:{where:{asset_type:{_eq:e.assetType}}}}))[0]}async getFungibleAssetActivities(e){return await Mu({config:this.config,minimumLedgerVersion:e?.minimumLedgerVersion,processorType:"fungible_asset_processor"}),async function(e){let{aptosConfig:t,options:r}=e,n={query:Ga,variables:{where_condition:r?.where,limit:r?.limit,offset:r?.offset}};return(await hu({aptosConfig:t,query:n,originMethod:"getFungibleAssetActivities"})).fungible_asset_activities}({aptosConfig:this.config,...e})}async getCurrentFungibleAssetBalances(e){return await Mu({config:this.config,minimumLedgerVersion:e?.minimumLedgerVersion,processorType:"fungible_asset_processor"}),async function(e){let{aptosConfig:t,options:r}=e,n={query:Wa,variables:{where_condition:r?.where,limit:r?.limit,offset:r?.offset}};return(await hu({aptosConfig:t,query:n,originMethod:"getCurrentFungibleAssetBalances"})).current_fungible_asset_balances}({aptosConfig:this.config,...e})}async transferFungibleAsset(e){return async function(e){let{aptosConfig:t,sender:r,fungibleAssetMetadataAddress:n,recipient:i,amount:o,options:s}=e;return hp({aptosConfig:t,sender:r.accountAddress,data:{function:"0x1::primary_fungible_store::transfer",typeArguments:["0x1::fungible_asset::Metadata"],functionArguments:[n,i,o],abi:vp},options:s})}({aptosConfig:this.config,...e})}};async function Sp(e){let{aptosConfig:t,payload:r,options:n}=e,i=await ip({...r,aptosConfig:t}),o=new ka;i.serialize(o);let s=o.toUint8Array(),{data:a}=await cu({aptosConfig:t,path:"view",originMethod:"view",contentType:"application/x.aptos.view_function+bcs",params:{ledger_version:n?.ledgerVersion},body:s});return a}var Ep=class{constructor(e){this.config=e}async getLedgerInfo(){return fu({aptosConfig:this.config})}async getChainId(){return(await this.getLedgerInfo()).chain_id}async getBlockByVersion(e){return async function(e){let{aptosConfig:t,ledgerVersion:r,options:n}=e,{data:i}=await su({aptosConfig:t,originMethod:"getBlockByVersion",path:`blocks/by_version/${r}`,params:{with_transactions:n?.withTransactions}});return i}({aptosConfig:this.config,...e})}async getBlockByHeight(e){return async function(e){let{aptosConfig:t,blockHeight:r,options:n}=e,{data:i}=await su({aptosConfig:t,originMethod:"getBlockByHeight",path:`blocks/by_height/${r}`,params:{with_transactions:n?.withTransactions}});return i}({aptosConfig:this.config,...e})}async getTableItem(e){return lu({aptosConfig:this.config,...e})}async view(e){return Sp({aptosConfig:this.config,...e})}async getChainTopUserTransactions(e){return async function(e){let{aptosConfig:t,limit:r}=e;return(await hu({aptosConfig:t,query:{query:Ha,variables:{limit:r}},originMethod:"getChainTopUserTransactions"})).user_transactions}({aptosConfig:this.config,...e})}async queryIndexer(e){return hu({aptosConfig:this.config,...e})}async getIndexerLastSuccessVersion(){return du({aptosConfig:this.config})}async getProcessorStatus(e){return pu({aptosConfig:this.config,processorType:e})}};var Ap=class{constructor(e){this.config=e}async getNumberOfDelegators(e){return await Mu({config:this.config,minimumLedgerVersion:e?.minimumLedgerVersion,processorType:"stake_processor"}),async function(e){let{aptosConfig:t,poolAddress:r}=e,n=Ca.from(r).toStringLong(),i=await hu({aptosConfig:t,query:{query:Xa,variables:{where_condition:{pool_address:{_eq:n}}}}});return i.num_active_delegator_per_pool[0]?i.num_active_delegator_per_pool[0].num_active_delegator:0}({aptosConfig:this.config,...e})}async getNumberOfDelegatorsForAllPools(e){return await Mu({config:this.config,minimumLedgerVersion:e?.minimumLedgerVersion,processorType:"stake_processor"}),async function(e){let{aptosConfig:t,options:r}=e,n={query:Xa,variables:{order_by:r?.orderBy}};return(await hu({aptosConfig:t,query:n})).num_active_delegator_per_pool}({aptosConfig:this.config,...e})}async getDelegatedStakingActivities(e){return await Mu({config:this.config,minimumLedgerVersion:e?.minimumLedgerVersion,processorType:"stake_processor"}),async function(e){let{aptosConfig:t,delegatorAddress:r,poolAddress:n}=e,i={query:$a,variables:{delegatorAddress:Ca.from(r).toStringLong(),poolAddress:Ca.from(n).toStringLong()}};return(await hu({aptosConfig:t,query:i})).delegated_staking_activities}({aptosConfig:this.config,...e})}};function xp(e,t,r){let n=r.value;return r.value=async function(...e){let[t]=e;if(t.transaction.feePayerAddress&&!t.feePayerAuthenticator)throw new Error("You are submitting a Fee Payer transaction but missing the feePayerAuthenticator");return n.apply(this,e)},r}function kp(e,t,r){let n=r.value;return r.value=async function(...e){let[t]=e;if(t.transaction.feePayerAddress&&!t.feePayerPublicKey)throw new Error("You are simulating a Fee Payer transaction but missing the feePayerPublicKey");return n.apply(this,e)},r}var Tp=class{constructor(e){this.config=e}async simple(e){return pp({aptosConfig:this.config,...e})}async multiAgent(e){return pp({aptosConfig:this.config,...e})}};Aa([kp],Tp.prototype,"simple",1),Aa([kp],Tp.prototype,"multiAgent",1);var Ip=class{constructor(e){this.config=e}async simple(e){return gp({aptosConfig:this.config,...e})}async multiAgent(e){return gp({aptosConfig:this.config,...e})}};Aa([xp],Ip.prototype,"simple",1),Aa([xp],Ip.prototype,"multiAgent",1);var Mp=class{constructor(e){this.config=e}async simple(e){return hp({aptosConfig:this.config,...e})}async multiAgent(e){return hp({aptosConfig:this.config,...e})}},Pp=()=>Math.floor(Date.now()/1e3),Bp=class{constructor(e,t,r,n,i){this.lastUncommintedNumber=null,this.currentNumber=null,this.lock=!1,this.aptosConfig=e,this.account=t,this.maxWaitTime=r,this.maximumInFlight=n,this.sleepTime=i}async nextSequenceNumber(){for(;this.lock;)await yu(this.sleepTime);this.lock=!0;let e=BigInt(0);try{if((null===this.lastUncommintedNumber||null===this.currentNumber)&&await this.initialize(),this.currentNumber-this.lastUncommintedNumber>=this.maximumInFlight){await this.update();let e=Pp();for(;this.currentNumber-this.lastUncommintedNumber>=this.maximumInFlight;)await yu(this.sleepTime),Pp()-e>this.maxWaitTime?(console.warn(`Waited over 30 seconds for a transaction to commit, resyncing ${this.account.accountAddress.toString()}`),await this.initialize()):await this.update()}e=this.currentNumber,this.currentNumber+=BigInt(1)}catch(t){console.error("error in getting next sequence number for this account",t)}finally{this.lock=!1}return e}async initialize(){let{sequence_number:e}=await pd({aptosConfig:this.aptosConfig,accountAddress:this.account.accountAddress});this.currentNumber=BigInt(e),this.lastUncommintedNumber=BigInt(e)}async update(){let{sequence_number:e}=await pd({aptosConfig:this.aptosConfig,accountAddress:this.account.accountAddress});return this.lastUncommintedNumber=BigInt(e),this.lastUncommintedNumber}async synchronize(){if(this.lastUncommintedNumber!==this.currentNumber){for(;this.lock;)await yu(this.sleepTime);this.lock=!0;try{await this.update();let e=Pp();for(;this.lastUncommintedNumber!==this.currentNumber;)Pp()-e>this.maxWaitTime?(console.warn(`Waited over 30 seconds for a transaction to commit, resyncing ${this.account.accountAddress.toString()}`),await this.initialize()):(await yu(this.sleepTime),await this.update())}catch(e){console.error("error in synchronizing this account sequence number with the one on chain",e)}finally{this.lock=!1}}}},Op=class{constructor(){this.queue=[],this.pendingDequeue=[],this.cancelled=!1}enqueue(e){this.cancelled=!1,this.pendingDequeue.length>0?this.pendingDequeue.shift()?.resolve(e):this.queue.push(e)}async dequeue(){return this.queue.length>0?Promise.resolve(this.queue.shift()):new Promise(((e,t)=>{this.pendingDequeue.push({resolve:e,reject:t})}))}isEmpty(){return 0===this.queue.length}cancel(){this.cancelled=!0,this.pendingDequeue.forEach((async({reject:e})=>{e(new Cp("Task cancelled"))})),this.pendingDequeue=[],this.queue.length=0}isCancelled(){return this.cancelled}pendingDequeueLength(){return this.pendingDequeue.length}},Cp=class extends Error{},Up="fulfilled",Np=(e=>(e.TransactionSent="transactionSent",e.TransactionSendFailed="transactionSendFailed",e.TransactionExecuted="transactionExecuted",e.TransactionExecutionFailed="transactionExecutionFailed",e.ExecutionFinish="executionFinish",e))(Np||{}),Rp=class extends ee{constructor(e,t,r=30,n=100,i=10){super(),this.taskQueue=new Op,this.transactionsQueue=new Op,this.outstandingTransactions=new Op,this.sentTransactions=[],this.executedTransactions=[],this.aptosConfig=e,this.account=t,this.started=!1,this.accountSequnceNumber=new Bp(e,t,r,n,i)}async submitNextTransaction(){try{for(;;){let e=await this.accountSequnceNumber.nextSequenceNumber();if(null===e)return;let t=await this.generateNextTransaction(this.account,e);if(!t)return;let r=yp({aptosConfig:this.aptosConfig,transaction:t,signer:this.account});await this.outstandingTransactions.enqueue([r,e])}}catch(e){if(e instanceof Cp)return;throw new Error(`Submit transaction failed for ${this.account.accountAddress.toString()} with error ${e}`)}}async processTransactions(){try{for(;;){let e=[],t=[],[r,n]=await this.outstandingTransactions.dequeue();for(e.push(r),t.push(n);!this.outstandingTransactions.isEmpty();)[r,n]=await this.outstandingTransactions.dequeue(),e.push(r),t.push(n);let i=await Promise.allSettled(e);for(let o=0;o<i.length&&o<t.length;o+=1){let e=i[o];n=t[o],e.status===Up?(this.sentTransactions.push([e.value.hash,n,null]),this.emit("transactionSent",{message:`transaction hash ${e.value.hash} has been committed to chain`,transactionHash:e.value.hash}),await this.checkTransaction(e,n)):(this.sentTransactions.push([e.status,n,e.reason]),this.emit("transactionSendFailed",{message:`failed to commit transaction ${this.sentTransactions.length} with error ${e.reason}`,error:e.reason}))}this.emit("executionFinish",{message:`execute ${i.length} transactions finished`})}}catch(e){if(e instanceof Cp)return;throw new Error(`Process execution failed for ${this.account.accountAddress.toString()} with error ${e}`)}}async checkTransaction(e,t){try{let r=[];r.push(xu({aptosConfig:this.aptosConfig,transactionHash:e.value.hash}));let n=await Promise.allSettled(r);for(let i=0;i<n.length;i+=1){let r=n[i];r.status===Up?(this.executedTransactions.push([r.value.hash,t,null]),this.emit("transactionExecuted",{message:`transaction hash ${r.value.hash} has been executed on chain`,transactionHash:e.value.hash})):(this.executedTransactions.push([r.status,t,r.reason]),this.emit("transactionExecutionFailed",{message:`failed to execute transaction ${this.executedTransactions.length} with error ${r.reason}`,error:r.reason}))}}catch(r){throw new Error(`Check transaction failed for ${this.account.accountAddress.toString()} with error ${r}`)}}async push(e,t){this.transactionsQueue.enqueue([e,t])}async generateNextTransaction(e,t){if(this.transactionsQueue.isEmpty())return;let[r,n]=await this.transactionsQueue.dequeue();return hp({aptosConfig:this.aptosConfig,sender:e.accountAddress,data:r,options:{...n,accountSequenceNumber:t}})}async run(){try{for(;!this.taskQueue.isCancelled();)await(await this.taskQueue.dequeue())()}catch(e){throw new Error(`Unable to start transaction batching: ${e}`)}}start(){if(this.started)throw new Error("worker has already started");this.started=!0,this.taskQueue.enqueue((()=>this.submitNextTransaction())),this.taskQueue.enqueue((()=>this.processTransactions())),this.run()}stop(){if(this.taskQueue.isCancelled())throw new Error("worker has already stopped");this.started=!1,this.taskQueue.cancel()}},Lp=class extends ee{constructor(e){super(),this.config=e}start(e){let{sender:t}=e;this.account=t,this.transactionWorker=new Rp(this.config,t),this.transactionWorker.start(),this.registerToEvents()}push(e){let{data:t,options:r}=e;for(let n of t)this.transactionWorker.push(n,r)}registerToEvents(){this.transactionWorker.on("transactionSent",(async e=>{this.emit("transactionSent",e)})),this.transactionWorker.on("transactionSendFailed",(async e=>{this.emit("transactionSendFailed",e)})),this.transactionWorker.on("transactionExecuted",(async e=>{this.emit("transactionExecuted",e)})),this.transactionWorker.on("transactionExecutionFailed",(async e=>{this.emit("transactionExecutionFailed",e)})),this.transactionWorker.on("executionFinish",(async e=>{this.emit("executionFinish",e)}))}forSingleAccount(e){try{let{sender:t,data:r,options:n}=e;this.start({sender:t}),this.push({data:r,options:n})}catch(t){throw new Error(`failed to submit transactions with error: ${t}`)}}},zp=class{constructor(e){this.config=e,this.build=new Mp(this.config),this.simulate=new Tp(this.config),this.submit=new Ip(this.config),this.batch=new Lp(this.config)}async getTransactions(e){return async function(e){let{aptosConfig:t,options:r}=e;return au({aptosConfig:t,originMethod:"getTransactions",path:"transactions",params:{start:r?.offset,limit:r?.limit}})}({aptosConfig:this.config,...e})}async getTransactionByVersion(e){return async function(e){let{aptosConfig:t,ledgerVersion:r}=e,{data:n}=await su({aptosConfig:t,originMethod:"getTransactionByVersion",path:`transactions/by_version/${r}`});return n}({aptosConfig:this.config,...e})}async getTransactionByHash(e){return Au({aptosConfig:this.config,...e})}async isPendingTransaction(e){return async function(e){let{aptosConfig:t,transactionHash:r}=e;try{return"pending_transaction"===(await Au({aptosConfig:t,transactionHash:r})).type}catch(n){if(404===n?.status)return!0;throw n}}({aptosConfig:this.config,...e})}async waitForTransaction(e){return xu({aptosConfig:this.config,...e})}async getGasPriceEstimation(){return Eu({aptosConfig:this.config})}getSigningMessage(e){return function(e){let{transaction:t}=e;return cp(t)}(e)}async publishPackageTransaction(e){return async function(e){let{aptosConfig:t,account:r,metadataBytes:n,moduleBytecode:i,options:o}=e,s=i.map((e=>hc.U8(e)));return hp({aptosConfig:t,sender:Ca.from(r),data:{function:"0x1::code::publish_package_txn",functionArguments:[hc.U8(n),new hc(s)],abi:mp},options:o})}({aptosConfig:this.config,...e})}async rotateAuthKey(e){return async function(e){let{aptosConfig:t,fromAccount:r,toNewPrivateKey:n}=e,i=await pd({aptosConfig:t,accountAddress:r.accountAddress}),o=dd.fromPrivateKey({privateKey:n,legacy:!0}),s=new lp({sequenceNumber:BigInt(i.sequence_number),originator:r.accountAddress,currentAuthKey:Ca.from(i.authentication_key),newPublicKey:o.publicKey}).bcsToBytes(),a=r.sign(s),u=o.sign(s),c=await hp({aptosConfig:t,sender:r.accountAddress,data:{function:"0x1::account::rotate_authentication_key",functionArguments:[new sc(r.signingScheme),hc.U8(r.publicKey.toUint8Array()),new sc(o.signingScheme),hc.U8(o.publicKey.toUint8Array()),hc.U8(a.toUint8Array()),hc.U8(u.toUint8Array())],abi:bp}});return yp({aptosConfig:t,signer:r,transaction:c})}({aptosConfig:this.config,...e})}sign(e){return dp({...e})}signAsFeePayer(e){let{signer:t,transaction:r}=e;if(!r.feePayerAddress)throw new Error(`Transaction ${r} is not a Fee Payer transaction`);return r.feePayerAddress=t.accountAddress,dp({signer:t,transaction:r})}async batchTransactionsForSingleAccount(e){try{let{sender:t,data:r,options:n}=e;this.batch.forSingleAccount({sender:t,data:r,options:n})}catch(t){throw new Error(`failed to submit transactions with error: ${t}`)}}async signAndSubmitTransaction(e){let{signer:t,transaction:r}=e;return yp({aptosConfig:this.config,signer:t,transaction:r})}},jp=class{constructor(e){this.config=e}async getAccountInfo(e){return pd({aptosConfig:this.config,...e})}async getAccountModules(e){return async function(e){let{aptosConfig:t,accountAddress:r,options:n}=e;return au({aptosConfig:t,originMethod:"getModules",path:`accounts/${Ca.from(r).toString()}/modules`,params:{ledger_version:n?.ledgerVersion,start:n?.offset,limit:n?.limit??1e3}})}({aptosConfig:this.config,...e})}async getAccountModule(e){return gd({aptosConfig:this.config,...e})}async getAccountTransactions(e){return async function(e){let{aptosConfig:t,accountAddress:r,options:n}=e;return au({aptosConfig:t,originMethod:"getTransactions",path:`accounts/${Ca.from(r).toString()}/transactions`,params:{start:n?.offset,limit:n?.limit}})}({aptosConfig:this.config,...e})}async getAccountResources(e){return async function(e){let{aptosConfig:t,accountAddress:r,options:n}=e;return au({aptosConfig:t,originMethod:"getResources",path:`accounts/${Ca.from(r).toString()}/resources`,params:{ledger_version:n?.ledgerVersion,start:n?.offset,limit:n?.limit??999}})}({aptosConfig:this.config,...e})}async getAccountResource(e){return md({aptosConfig:this.config,...e})}async lookupOriginalAccountAddress(e){return bd({aptosConfig:this.config,...e})}async getAccountTokensCount(e){return await Mu({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"account_transactions_processor"}),async function(e){let{aptosConfig:t,accountAddress:r}=e,n={owner_address:{_eq:Ca.from(r).toStringLong()},amount:{_gt:0}},i=await hu({aptosConfig:t,query:{query:qa,variables:{where_condition:n}},originMethod:"getAccountTokensCount"});return i.current_token_ownerships_v2_aggregate.aggregate?i.current_token_ownerships_v2_aggregate.aggregate.count:0}({aptosConfig:this.config,...e})}async getAccountOwnedTokens(e){return await Mu({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"token_v2_processor"}),async function(e){let{aptosConfig:t,accountAddress:r,options:n}=e,i={owner_address:{_eq:Ca.from(r).toStringLong()},amount:{_gt:0}};n?.tokenStandard&&(i.token_standard={_eq:n?.tokenStandard});let o={query:ja,variables:{where_condition:i,offset:n?.offset,limit:n?.limit,order_by:n?.orderBy}};return(await hu({aptosConfig:t,query:o,originMethod:"getAccountOwnedTokens"})).current_token_ownerships_v2}({aptosConfig:this.config,...e})}async getAccountOwnedTokensFromCollectionAddress(e){return await Mu({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"token_v2_processor"}),async function(e){let{aptosConfig:t,accountAddress:r,collectionAddress:n,options:i}=e,o={owner_address:{_eq:Ca.from(r).toStringLong()},current_token_data:{collection_id:{_eq:Ca.from(n).toStringLong()}},amount:{_gt:0}};i?.tokenStandard&&(o.token_standard={_eq:i?.tokenStandard});let s={query:Da,variables:{where_condition:o,offset:i?.offset,limit:i?.limit,order_by:i?.orderBy}};return(await hu({aptosConfig:t,query:s,originMethod:"getAccountOwnedTokensFromCollectionAddress"})).current_token_ownerships_v2}({aptosConfig:this.config,...e})}async getAccountCollectionsWithOwnedTokens(e){return await Mu({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"token_v2_processor"}),async function(e){let{aptosConfig:t,accountAddress:r,options:n}=e,i={owner_address:{_eq:Ca.from(r).toStringLong()},amount:{_gt:0}};n?.tokenStandard&&(i.current_collection={token_standard:{_eq:n?.tokenStandard}});let o={query:La,variables:{where_condition:i,offset:n?.offset,limit:n?.limit,order_by:n?.orderBy}};return(await hu({aptosConfig:t,query:o,originMethod:"getAccountCollectionsWithOwnedTokens"})).current_collection_ownership_v2_view}({aptosConfig:this.config,...e})}async getAccountTransactionsCount(e){return await Mu({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"account_transactions_processor"}),async function(e){let{aptosConfig:t,accountAddress:r}=e,n=Ca.from(r).toStringLong(),i=await hu({aptosConfig:t,query:{query:Ka,variables:{address:n}},originMethod:"getAccountTransactionsCount"});return i.account_transactions_aggregate.aggregate?i.account_transactions_aggregate.aggregate.count:0}({aptosConfig:this.config,...e})}async getAccountCoinsData(e){return await Mu({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"fungible_asset_processor"}),wd({aptosConfig:this.config,...e})}async getAccountCoinsCount(e){return await Mu({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"fungible_asset_processor"}),async function(e){let{aptosConfig:t,accountAddress:r}=e,n=Ca.from(r).toStringLong(),i=await hu({aptosConfig:t,query:{query:Na,variables:{address:n}},originMethod:"getAccountCoinsCount"});if(!i.current_fungible_asset_balances_aggregate.aggregate)throw Error("Failed to get the count of account coins");return i.current_fungible_asset_balances_aggregate.aggregate.count}({aptosConfig:this.config,...e})}async getAccountAPTAmount(e){return this.getAccountCoinAmount({coinType:vu,...e})}async getAccountCoinAmount(e){return await Mu({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"fungible_asset_processor"}),async function(e){let{aptosConfig:t,accountAddress:r,coinType:n}=e,i=Ca.from(r).toStringLong(),o=await wd({aptosConfig:t,accountAddress:i,options:{where:{asset_type:{_eq:n}}}});return o[0]?o[0].amount:0}({aptosConfig:this.config,...e})}async getAccountOwnedObjects(e){return await Mu({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"default_processor"}),async function(e){let{aptosConfig:t,accountAddress:r,options:n}=e,i={owner_address:{_eq:Ca.from(r).toStringLong()}},o={query:za,variables:{where_condition:i,offset:n?.offset,limit:n?.limit,order_by:n?.orderBy}};return(await hu({aptosConfig:t,query:o,originMethod:"getAccountOwnedObjects"})).current_objects}({aptosConfig:this.config,...e})}async deriveAccountFromPrivateKey(e){return async function(e){let{aptosConfig:t,privateKey:r}=e,n=new td(r.publicKey());if(r instanceof Yh){let e=nf.fromPublicKeyAndScheme({publicKey:n,scheme:2}).derivedAddress();return dd.fromPrivateKeyAndAddress({privateKey:r,address:e})}if(r instanceof uf){let e=nf.fromPublicKeyAndScheme({publicKey:n,scheme:2});if(await vd({authKey:e,aptosConfig:t})){let t=e.derivedAddress();return dd.fromPrivateKeyAndAddress({privateKey:r,address:t,legacy:!1})}let i=nf.fromPublicKeyAndScheme({publicKey:n.publicKey,scheme:0});if(await vd({authKey:i,aptosConfig:t})){let e=i.derivedAddress();return dd.fromPrivateKeyAndAddress({privateKey:r,address:e,legacy:!0})}}throw new Error(`Can't derive account from private key ${r}`)}({aptosConfig:this.config,...e})}},Dp=["A name must be between 3 and 63 characters long,","and can only contain lowercase a-z, 0-9, and hyphens.","A name may not start or end with a hyphen."].join(" ");function qp(e){return!(!e||e.length<3||e.length>63||!/^[a-z\d][a-z\d-]{1,61}[a-z\d]$/.test(e))}function Kp(e){let[t,r,...n]=e.replace(/\.apt$/,"").split(".");if(n.length>0)throw new Error(`${e} is invalid. A name can only have two parts, a domain and a subdomain separated by a "."`);if(!qp(t))throw new Error(`${t} is not valid. ${Dp}`);if(r&&!qp(r))throw new Error(`${r} is not valid. ${Dp}`);return{domainName:r||t,subdomainName:r?t:void 0}}var Hp={testnet:"0x5f8fd2347449685cf41d4db97926ec3a096eaf381332be4f1318ad4d16a8497c",mainnet:"0x867ed1f6bf916171b1de3ee92849b8978b7d1b9e0a8cc982a3d19d535dfd9c0c",local:"0x585fc9f0f0c54183b039ffc770ca282ebd87307916c215a3e692f2f8e4305e82",custom:null,devnet:null,randomnet:null};function Fp(e){let t=Hp[e.network];if(!t)throw new Error(`The ANS contract is not deployed to ${e.network}`);return t}var Wp=e=>{if(e&&"object"==typeof e&&"vec"in e&&Array.isArray(e.vec))return e.vec[0]};async function $p(e){let{aptosConfig:t,name:r}=e,n=Fp(t),{domainName:i,subdomainName:o}=Kp(r);try{let e=await Sp({aptosConfig:t,payload:{function:`${n}::router::get_expiration`,functionArguments:[i,o]}});return 1e3*Number(e[0])}catch{return}}async function Vp(e){let{aptosConfig:t}=e,r=Fp(t),[n]=await Sp({aptosConfig:t,payload:{function:`${r}::config::reregistration_grace_sec`,functionArguments:[]}}),i=n/60/60/24,o=()=>new Date;return new Date(o().setDate(o().getDate()-i)).toISOString()}function Gp(e){return{...e,expiration_timestamp:new Date(e.expiration_timestamp).getTime()}}var Zp=class{constructor(e){this.config=e}async getOwnerAddress(e){return async function(e){let{aptosConfig:t,name:r}=e,n=Fp(t),{domainName:i,subdomainName:o}=Kp(r),s=await Sp({aptosConfig:t,payload:{function:`${n}::router::get_owner_addr`,functionArguments:[i,o]}}),a=Wp(s[0]);return a?Ca.from(a).toString():void 0}({aptosConfig:this.config,...e})}async getExpiration(e){return $p({aptosConfig:this.config,...e})}async getTargetAddress(e){return async function(e){let{aptosConfig:t,name:r}=e,n=Fp(t),{domainName:i,subdomainName:o}=Kp(r),s=await Sp({aptosConfig:t,payload:{function:`${n}::router::get_target_addr`,functionArguments:[i,o]}}),a=Wp(s[0]);return a?Ca.from(a).toString():void 0}({aptosConfig:this.config,...e})}async setTargetAddress(e){return async function(e){let{aptosConfig:t,sender:r,name:n,address:i,options:o}=e,s=Fp(t),{domainName:a,subdomainName:u}=Kp(n);return await hp({aptosConfig:t,sender:r.accountAddress.toString(),data:{function:`${s}::router::set_target_addr`,functionArguments:[a,u,i]},options:o})}({aptosConfig:this.config,...e})}async getPrimaryName(e){return async function(e){let{aptosConfig:t,address:r}=e,n=Fp(t),i=await Sp({aptosConfig:t,payload:{function:`${n}::router::get_primary_name`,functionArguments:[Ca.from(r).toString()]}}),o=Wp(i[1]),s=Wp(i[0]);if(o)return[s,o].filter(Boolean).join(".")}({aptosConfig:this.config,...e})}async setPrimaryName(e){return async function(e){let{aptosConfig:t,sender:r,name:n,options:i}=e,o=Fp(t);if(!n)return await hp({aptosConfig:t,sender:r.accountAddress.toString(),data:{function:`${o}::router::clear_primary_name`,functionArguments:[]},options:i});let{domainName:s,subdomainName:a}=Kp(n);return await hp({aptosConfig:t,sender:r.accountAddress.toString(),data:{function:`${o}::router::set_primary_name`,functionArguments:[s,a]},options:i})}({aptosConfig:this.config,...e})}async registerName(e){return async function(e){let{aptosConfig:t,expiration:r,name:n,sender:i,targetAddress:o,toAddress:s,options:a,transferable:u}=e,c=Fp(t),{domainName:f,subdomainName:l}=Kp(n),h="subdomain:independent"===r.policy||"subdomain:follow-domain"===r.policy;if(l&&!h)throw new Error("Subdomains must have an expiration policy of either 'subdomain:independent' or 'subdomain:follow-domain'");if(h&&!l)throw new Error(`Policy is set to ${r.policy} but no subdomain was provided`);if("domain"===r.policy){let e=r.years??1;if(1!==e)throw new Error("For now, names can only be registered for 1 year at a time");let n=31536e3*e;return await hp({aptosConfig:t,sender:i.accountAddress.toString(),data:{function:`${c}::router::register_domain`,functionArguments:[f,n,o,s]},options:a})}if(!l)throw new Error(`${r.policy} requires a subdomain to be provided.`);let d=await $p({aptosConfig:t,name:f});if(!d)throw new Error("The domain does not exist");let p="subdomain:independent"===r.policy?r.expirationDate:d;if(p>d)throw new Error("The subdomain expiration time cannot be greater than the domain expiration time");return await hp({aptosConfig:t,sender:i.accountAddress.toString(),data:{function:`${c}::router::register_subdomain`,functionArguments:[f,l,Math.round(p/1e3),"subdomain:follow-domain"===r.policy?1:0,!!u,o,s]},options:a})}({aptosConfig:this.config,...e})}async renewDomain(e){return async function(e){let{aptosConfig:t,sender:r,name:n,years:i=1,options:o}=e,s=Fp(t),a=31536e3*i,{domainName:u,subdomainName:c}=Kp(n);if(c)throw new Error("Subdomains cannot be renewed");if(1!==i)throw new Error("Currently, only 1 year renewals are supported");return await hp({aptosConfig:t,sender:r.accountAddress.toString(),data:{function:`${s}::router::renew_domain`,functionArguments:[u,a]},options:o})}({aptosConfig:this.config,...e})}async getName(e){return async function(e){let{aptosConfig:t,name:r}=e,{domainName:n,subdomainName:i=""}=Kp(r),o=(await hu({aptosConfig:t,query:{query:Ja,variables:{where_condition:{domain:{_eq:n},subdomain:{_eq:i},is_active:{_eq:!0}},limit:1}},originMethod:"getName"})).current_aptos_names[0];return o&&(o=Gp(o)),o}({aptosConfig:this.config,...e})}async getAccountNames(e){return async function(e){let{aptosConfig:t,options:r,accountAddress:n}=e,i=await Vp({aptosConfig:t});return(await hu({aptosConfig:t,originMethod:"getAccountNames",query:{query:Ja,variables:{limit:r?.limit,offset:r?.offset,order_by:r?.orderBy,where_condition:{...e.options?.where??{},owner_address:{_eq:n.toString()},expiration_timestamp:{_gte:i}}}}})).current_aptos_names.map(Gp)}({aptosConfig:this.config,...e})}async getAccountDomains(e){return async function(e){let{aptosConfig:t,options:r,accountAddress:n}=e,i=await Vp({aptosConfig:t});return(await hu({aptosConfig:t,originMethod:"getAccountDomains",query:{query:Ja,variables:{limit:r?.limit,offset:r?.offset,order_by:r?.orderBy,where_condition:{...e.options?.where??{},owner_address:{_eq:n.toString()},expiration_timestamp:{_gte:i},subdomain:{_eq:""}}}}})).current_aptos_names.map(Gp)}({aptosConfig:this.config,...e})}async getAccountSubdomains(e){return async function(e){let{aptosConfig:t,options:r,accountAddress:n}=e,i=await Vp({aptosConfig:t});return(await hu({aptosConfig:t,originMethod:"getAccountSubdomains",query:{query:Ja,variables:{limit:r?.limit,offset:r?.offset,order_by:r?.orderBy,where_condition:{...e.options?.where??{},owner_address:{_eq:n.toString()},expiration_timestamp:{_gte:i},subdomain:{_neq:""}}}}})).current_aptos_names.map(Gp)}({aptosConfig:this.config,...e})}async getDomainSubdomains(e){return async function(e){let{aptosConfig:t,options:r,domain:n}=e;return(await hu({aptosConfig:t,originMethod:"getDomainSubdomains",query:{query:Ja,variables:{limit:r?.limit,offset:r?.offset,order_by:r?.orderBy,where_condition:{...e.options?.where??{},domain:{_eq:n},subdomain:{_neq:""},is_active:{_eq:!0}}}}})).current_aptos_names.map(Gp)}({aptosConfig:this.config,...e})}};function Jp(e,t){return function(){return e.apply(t,arguments)}}var Xp=r("E0jC");const{toString:Yp}=Object.prototype,{getPrototypeOf:Qp}=Object,eg=(tg=Object.create(null),e=>{const t=Yp.call(e);return tg[t]||(tg[t]=t.slice(8,-1).toLowerCase())});var tg;const rg=e=>(e=e.toLowerCase(),t=>eg(t)===e),ng=e=>t=>typeof t===e,{isArray:ig}=Array,og=ng("undefined");const sg=rg("ArrayBuffer");const ag=ng("string"),ug=ng("function"),cg=ng("number"),fg=e=>null!==e&&"object"===typeof e,lg=e=>{if("object"!==eg(e))return!1;const t=Qp(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},hg=rg("Date"),dg=rg("File"),pg=rg("Blob"),gg=rg("FileList"),yg=rg("URLSearchParams"),[mg,bg,wg,vg]=["ReadableStream","Request","Response","Headers"].map(rg);function _g(e,t,{allOwnKeys:r=!1}={}){if(null===e||"undefined"===typeof e)return;let n,i;if("object"!==typeof e&&(e=[e]),ig(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{const i=r?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let s;for(n=0;n<o;n++)s=i[n],t.call(null,e[s],s,e)}}function Sg(e,t){t=t.toLowerCase();const r=Object.keys(e);let n,i=r.length;for(;i-- >0;)if(n=r[i],t===n.toLowerCase())return n;return null}const Eg="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:window,Ag=e=>!og(e)&&e!==Eg;const xg=(kg="undefined"!==typeof Uint8Array&&Qp(Uint8Array),e=>kg&&e instanceof kg);var kg;const Tg=rg("HTMLFormElement"),Ig=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),Mg=rg("RegExp"),Pg=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};_g(r,((r,i)=>{let o;!1!==(o=t(r,i,e))&&(n[i]=o||r)})),Object.defineProperties(e,n)},Bg="abcdefghijklmnopqrstuvwxyz",Og="0123456789",Cg={DIGIT:Og,ALPHA:Bg,ALPHA_DIGIT:Bg+Bg.toUpperCase()+Og};const Ug=rg("AsyncFunction"),Ng=(Rg="function"===typeof setImmediate,Lg=ug(Eg.postMessage),Rg?setImmediate:Lg?((e,t)=>(Eg.addEventListener("message",(({source:r,data:n})=>{r===Eg&&n===e&&t.length&&t.shift()()}),!1),r=>{t.push(r),Eg.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e));var Rg,Lg;const zg="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Eg):"undefined"!==typeof Xp&&Xp.nextTick||Ng,jg={isArray:ig,isArrayBuffer:sg,isBuffer:function(e){return null!==e&&!og(e)&&null!==e.constructor&&!og(e.constructor)&&ug(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||ug(e.append)&&("formdata"===(t=eg(e))||"object"===t&&ug(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&sg(e.buffer),t},isString:ag,isNumber:cg,isBoolean:e=>!0===e||!1===e,isObject:fg,isPlainObject:lg,isReadableStream:mg,isRequest:bg,isResponse:wg,isHeaders:vg,isUndefined:og,isDate:hg,isFile:dg,isBlob:pg,isRegExp:Mg,isFunction:ug,isStream:e=>fg(e)&&ug(e.pipe),isURLSearchParams:yg,isTypedArray:xg,isFileList:gg,forEach:_g,merge:function e(){const{caseless:t}=Ag(this)&&this||{},r={},n=(n,i)=>{const o=t&&Sg(r,i)||i;lg(r[o])&&lg(n)?r[o]=e(r[o],n):lg(n)?r[o]=e({},n):ig(n)?r[o]=n.slice():r[o]=n};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&_g(arguments[i],n);return r},extend:(e,t,r,{allOwnKeys:n}={})=>(_g(t,((t,n)=>{r&&ug(t)?e[n]=Jp(t,r):e[n]=t}),{allOwnKeys:n}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let i,o,s;const a={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],n&&!n(s,e,t)||a[s]||(t[s]=e[s],a[s]=!0);e=!1!==r&&Qp(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:eg,kindOfTest:rg,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},toArray:e=>{if(!e)return null;if(ig(e))return e;let t=e.length;if(!cg(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=r.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:Tg,hasOwnProperty:Ig,hasOwnProp:Ig,reduceDescriptors:Pg,freezeMethods:e=>{Pg(e,((t,r)=>{if(ug(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];ug(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:(e,t)=>{const r={},n=e=>{e.forEach((e=>{r[e]=!0}))};return ig(e)?n(e):n(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Sg,global:Eg,isContextDefined:Ag,ALPHABET:Cg,generateString:(e=16,t=Cg.ALPHA_DIGIT)=>{let r="";const{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r},isSpecCompliantForm:function(e){return!!(e&&ug(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),r=(e,n)=>{if(fg(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const i=ig(e)?[]:{};return _g(e,((e,t)=>{const o=r(e,n+1);!og(o)&&(i[t]=o)})),t[n]=void 0,i}}return e};return r(e,0)},isAsyncFn:Ug,isThenable:e=>e&&(fg(e)||ug(e))&&ug(e.then)&&ug(e.catch),setImmediate:Ng,asap:zg};function Dg(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}jg.inherits(Dg,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:jg.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const qg=Dg.prototype,Kg={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Kg[e]={value:e}})),Object.defineProperties(Dg,Kg),Object.defineProperty(qg,"isAxiosError",{value:!0}),Dg.from=(e,t,r,n,i,o)=>{const s=Object.create(qg);return jg.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Dg.call(s,e.message,t,r,n,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const Hg=Dg;var Fg=r("Dp+g").Buffer;function Wg(e){return jg.isPlainObject(e)||jg.isArray(e)}function $g(e){return jg.endsWith(e,"[]")?e.slice(0,-2):e}function Vg(e,t,r){return e?e.concat(t).map((function(e,t){return e=$g(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}const Gg=jg.toFlatObject(jg,{},null,(function(e){return/^is[A-Z]/.test(e)}));const Zg=function(e,t,r){if(!jg.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(r=jg.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!jg.isUndefined(t[e])}))).metaTokens,i=r.visitor||c,o=r.dots,s=r.indexes,a=(r.Blob||"undefined"!==typeof Blob&&Blob)&&jg.isSpecCompliantForm(t);if(!jg.isFunction(i))throw new TypeError("visitor must be a function");function u(e){if(null===e)return"";if(jg.isDate(e))return e.toISOString();if(!a&&jg.isBlob(e))throw new Hg("Blob is not supported. Use a Buffer instead.");return jg.isArrayBuffer(e)||jg.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Fg.from(e):e}function c(e,r,i){let a=e;if(e&&!i&&"object"===typeof e)if(jg.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(jg.isArray(e)&&function(e){return jg.isArray(e)&&!e.some(Wg)}(e)||(jg.isFileList(e)||jg.endsWith(r,"[]"))&&(a=jg.toArray(e)))return r=$g(r),a.forEach((function(e,n){!jg.isUndefined(e)&&null!==e&&t.append(!0===s?Vg([r],n,o):null===s?r:r+"[]",u(e))})),!1;return!!Wg(e)||(t.append(Vg(i,r,o),u(e)),!1)}const f=[],l=Object.assign(Gg,{defaultVisitor:c,convertValue:u,isVisitable:Wg});if(!jg.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!jg.isUndefined(r)){if(-1!==f.indexOf(r))throw Error("Circular reference detected in "+n.join("."));f.push(r),jg.forEach(r,(function(r,o){!0===(!(jg.isUndefined(r)||null===r)&&i.call(t,r,jg.isString(o)?o.trim():o,n,l))&&e(r,n?n.concat(o):[o])})),f.pop()}}(e),t};function Jg(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Xg(e,t){this._pairs=[],e&&Zg(e,this,t)}const Yg=Xg.prototype;Yg.append=function(e,t){this._pairs.push([e,t])},Yg.toString=function(e){const t=e?function(t){return e.call(this,t,Jg)}:Jg;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Qg=Xg;function ey(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ty(e,t,r){if(!t)return e;const n=r&&r.encode||ey,i=r&&r.serialize;let o;if(o=i?i(t,r):jg.isURLSearchParams(t)?t.toString():new Qg(t,r).toString(n),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const ry=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){jg.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},ny={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},iy={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Qg,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},oy="undefined"!==typeof document,sy=(ay="undefined"!==typeof navigator&&navigator.product,oy&&["ReactNative","NativeScript","NS"].indexOf(ay)<0);var ay;const uy="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,cy=oy&&window.location.href||"http://localhost",fy={...t,...iy};const ly=function(e){function t(e,r,n,i){let o=e[i++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),a=i>=e.length;if(o=!o&&jg.isArray(n)?n.length:o,a)return jg.hasOwnProp(n,o)?n[o]=[n[o],r]:n[o]=r,!s;n[o]&&jg.isObject(n[o])||(n[o]=[]);return t(e,r,n[o],i)&&jg.isArray(n[o])&&(n[o]=function(e){const t={},r=Object.keys(e);let n;const i=r.length;let o;for(n=0;n<i;n++)o=r[n],t[o]=e[o];return t}(n[o])),!s}if(jg.isFormData(e)&&jg.isFunction(e.entries)){const r={};return jg.forEachEntry(e,((e,n)=>{t(function(e){return jg.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,r,0)})),r}return null};const hy={transitional:ny,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,i=jg.isObject(e);i&&jg.isHTMLForm(e)&&(e=new FormData(e));if(jg.isFormData(e))return n?JSON.stringify(ly(e)):e;if(jg.isArrayBuffer(e)||jg.isBuffer(e)||jg.isStream(e)||jg.isFile(e)||jg.isBlob(e)||jg.isReadableStream(e))return e;if(jg.isArrayBufferView(e))return e.buffer;if(jg.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Zg(e,new fy.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return fy.isNode&&jg.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=jg.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Zg(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||n?(t.setContentType("application/json",!1),function(e,t,r){if(jg.isString(e))try{return(t||JSON.parse)(e),jg.trim(e)}catch(tp){if("SyntaxError"!==tp.name)throw tp}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||hy.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(jg.isResponse(e)||jg.isReadableStream(e))return e;if(e&&jg.isString(e)&&(r&&!this.responseType||n)){const r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(tp){if(r){if("SyntaxError"===tp.name)throw Hg.from(tp,Hg.ERR_BAD_RESPONSE,this,null,this.response);throw tp}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fy.classes.FormData,Blob:fy.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};jg.forEach(["delete","get","head","post","put","patch"],(e=>{hy.headers[e]={}}));const dy=hy,py=jg.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),gy=Symbol("internals");function yy(e){return e&&String(e).trim().toLowerCase()}function my(e){return!1===e||null==e?e:jg.isArray(e)?e.map(my):String(e)}function by(e,t,r,n,i){return jg.isFunction(n)?n.call(this,t,r):(i&&(t=r),jg.isString(t)?jg.isString(n)?-1!==t.indexOf(n):jg.isRegExp(n)?n.test(t):void 0:void 0)}class wy{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function i(e,t,r){const i=yy(t);if(!i)throw new Error("header name must be a non-empty string");const o=jg.findKey(n,i);(!o||void 0===n[o]||!0===r||void 0===r&&!1!==n[o])&&(n[o||t]=my(e))}const o=(e,t)=>jg.forEach(e,((e,r)=>i(e,r,t)));if(jg.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(jg.isString(e)&&(e=e.trim())&&!(e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))(e))o((e=>{const t={};let r,n,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),r=e.substring(0,i).trim().toLowerCase(),n=e.substring(i+1).trim(),!r||t[r]&&py[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)})),t})(e),t);else if(jg.isHeaders(e))for(const[s,a]of e.entries())i(a,s,r);else null!=e&&i(t,e,r);return this}get(e,t){if(e=yy(e)){const r=jg.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}(e);if(jg.isFunction(t))return t.call(this,e,r);if(jg.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=yy(e)){const r=jg.findKey(this,e);return!(!r||void 0===this[r]||t&&!by(0,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function i(e){if(e=yy(e)){const i=jg.findKey(r,e);!i||t&&!by(0,r[i],i,t)||(delete r[i],n=!0)}}return jg.isArray(e)?e.forEach(i):i(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const i=t[r];e&&!by(0,this[i],i,e,!0)||(delete this[i],n=!0)}return n}normalize(e){const t=this,r={};return jg.forEach(this,((n,i)=>{const o=jg.findKey(r,i);if(o)return t[o]=my(n),void delete t[i];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,r)=>t.toUpperCase()+r))}(i):String(i).trim();s!==i&&delete t[i],t[s]=my(n),r[s]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return jg.forEach(this,((r,n)=>{null!=r&&!1!==r&&(t[n]=e&&jg.isArray(r)?r.join(", "):r)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach((e=>r.set(e))),r}static accessor(e){const t=(this[gy]=this[gy]={accessors:{}}).accessors,r=this.prototype;function n(e){const n=yy(e);t[n]||(!function(e,t){const r=jg.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+r,{value:function(e,r,i){return this[n].call(this,t,e,r,i)},configurable:!0})}))}(r,e),t[n]=!0)}return jg.isArray(e)?e.forEach(n):n(e),this}}wy.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),jg.reduceDescriptors(wy.prototype,(({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[r]=e}}})),jg.freezeMethods(wy);const vy=wy;function _y(e,t){const r=this||dy,n=t||r,i=vy.from(n.headers);let o=n.data;return jg.forEach(e,(function(e){o=e.call(r,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function Sy(e){return!(!e||!e.__CANCEL__)}function Ey(e,t,r){Hg.call(this,null==e?"canceled":e,Hg.ERR_CANCELED,t,r),this.name="CanceledError"}jg.inherits(Ey,Hg,{__CANCEL__:!0});const Ay=Ey;function xy(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new Hg("Request failed with status code "+r.status,[Hg.ERR_BAD_REQUEST,Hg.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}const ky=function(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i,o=0,s=0;return t=void 0!==t?t:1e3,function(a){const u=Date.now(),c=n[s];i||(i=u),r[o]=a,n[o]=u;let f=s,l=0;for(;f!==o;)l+=r[f++],f%=e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),u-i<t)return;const h=c&&u-c;return h?Math.round(1e3*l/h):void 0}};const Ty=function(e,t){let r,n,i=0,o=1e3/t;const s=(t,o=Date.now())=>{i=o,r=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[(...e)=>{const t=Date.now(),a=t-i;a>=o?s(e,t):(r=e,n||(n=setTimeout((()=>{n=null,s(r)}),o-a)))},()=>r&&s(r)]},Iy=(e,t,r=3)=>{let n=0;const i=ky(50,250);return Ty((r=>{const o=r.loaded,s=r.lengthComputable?r.total:void 0,a=o-n,u=i(a);n=o;e({loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:u||void 0,estimated:u&&s&&o<=s?(s-o)/u:void 0,event:r,lengthComputable:null!=s,[t?"download":"upload"]:!0})}),r)},My=(e,t)=>{const r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Py=e=>(...t)=>jg.asap((()=>e(...t))),By=fy.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let r;function n(r){let n=r;return e&&(t.setAttribute("href",n),n=t.href),t.setAttribute("href",n),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return r=n(window.location.href),function(e){const t=jg.isString(e)?n(e):e;return t.protocol===r.protocol&&t.host===r.host}}():function(){return!0},Oy=fy.hasStandardBrowserEnv?{write(e,t,r,n,i,o){const s=[e+"="+encodeURIComponent(t)];jg.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),jg.isString(n)&&s.push("path="+n),jg.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Cy(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Uy=e=>e instanceof vy?{...e}:e;function Ny(e,t){t=t||{};const r={};function n(e,t,r){return jg.isPlainObject(e)&&jg.isPlainObject(t)?jg.merge.call({caseless:r},e,t):jg.isPlainObject(t)?jg.merge({},t):jg.isArray(t)?t.slice():t}function i(e,t,r){return jg.isUndefined(t)?jg.isUndefined(e)?void 0:n(void 0,e,r):n(e,t,r)}function o(e,t){if(!jg.isUndefined(t))return n(void 0,t)}function s(e,t){return jg.isUndefined(t)?jg.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function a(r,i,o){return o in t?n(r,i):o in e?n(void 0,r):void 0}const u={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t)=>i(Uy(e),Uy(t),!0)};return jg.forEach(Object.keys(Object.assign({},e,t)),(function(n){const o=u[n]||i,s=o(e[n],t[n],n);jg.isUndefined(s)&&o!==a||(r[n]=s)})),r}const Ry=e=>{const t=Ny({},e);let r,{data:n,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:s,headers:a,auth:u}=t;if(t.headers=a=vy.from(a),t.url=ty(Cy(t.baseURL,t.url),e.params,e.paramsSerializer),u&&a.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):""))),jg.isFormData(n))if(fy.hasStandardBrowserEnv||fy.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(r=a.getContentType())){const[e,...t]=r?r.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(fy.hasStandardBrowserEnv&&(i&&jg.isFunction(i)&&(i=i(t)),i||!1!==i&&By(t.url))){const e=o&&s&&Oy.read(s);e&&a.set(o,e)}return t},Ly="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,r){const n=Ry(e);let i=n.data;const o=vy.from(n.headers).normalize();let s,a,u,c,f,{responseType:l,onUploadProgress:h,onDownloadProgress:d}=n;function p(){c&&c(),f&&f(),n.cancelToken&&n.cancelToken.unsubscribe(s),n.signal&&n.signal.removeEventListener("abort",s)}let g=new XMLHttpRequest;function y(){if(!g)return;const n=vy.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());xy((function(e){t(e),p()}),(function(e){r(e),p()}),{data:l&&"text"!==l&&"json"!==l?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:n,config:e,request:g}),g=null}g.open(n.method.toUpperCase(),n.url,!0),g.timeout=n.timeout,"onloadend"in g?g.onloadend=y:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(y)},g.onabort=function(){g&&(r(new Hg("Request aborted",Hg.ECONNABORTED,e,g)),g=null)},g.onerror=function(){r(new Hg("Network Error",Hg.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const i=n.transitional||ny;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),r(new Hg(t,i.clarifyTimeoutError?Hg.ETIMEDOUT:Hg.ECONNABORTED,e,g)),g=null},void 0===i&&o.setContentType(null),"setRequestHeader"in g&&jg.forEach(o.toJSON(),(function(e,t){g.setRequestHeader(t,e)})),jg.isUndefined(n.withCredentials)||(g.withCredentials=!!n.withCredentials),l&&"json"!==l&&(g.responseType=n.responseType),d&&([u,f]=Iy(d,!0),g.addEventListener("progress",u)),h&&g.upload&&([a,c]=Iy(h),g.upload.addEventListener("progress",a),g.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(s=t=>{g&&(r(!t||t.type?new Ay(null,e,g):t),g.abort(),g=null)},n.cancelToken&&n.cancelToken.subscribe(s),n.signal&&(n.signal.aborted?s():n.signal.addEventListener("abort",s)));const m=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);m&&-1===fy.protocols.indexOf(m)?r(new Hg("Unsupported protocol "+m+":",Hg.ERR_BAD_REQUEST,e)):g.send(i||null)}))},zy=(e,t)=>{let r,n=new AbortController;const i=function(e){if(!r){r=!0,s();const t=e instanceof Error?e:this.reason;n.abort(t instanceof Hg?t:new Ay(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{i(new Hg(`timeout ${t} of ms exceeded`,Hg.ETIMEDOUT))}),t);const s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach((e=>{e&&(e.removeEventListener?e.removeEventListener("abort",i):e.unsubscribe(i))})),e=null)};e.forEach((e=>e&&e.addEventListener&&e.addEventListener("abort",i)));const{signal:a}=n;return a.unsubscribe=s,[a,()=>{o&&clearTimeout(o),o=null}]},jy=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let n,i=0;for(;i<r;)n=i+t,yield e.slice(i,n),i=n},Dy=(e,t,r,n,i)=>{const o=async function*(e,t,r){for await(const n of e)yield*jy(ArrayBuffer.isView(n)?n:await r(String(n)),t)}(e,t,i);let s,a=0,u=e=>{s||(s=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await o.next();if(t)return u(),void e.close();let i=n.byteLength;if(r){let e=a+=i;r(e)}e.enqueue(new Uint8Array(n))}catch(t){throw u(t),t}},cancel:e=>(u(e),o.return())},{highWaterMark:2})},qy="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Ky=qy&&"function"===typeof ReadableStream,Hy=qy&&("function"===typeof TextEncoder?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Fy=(e,...t)=>{try{return!!e(...t)}catch(tp){return!1}},Wy=Ky&&Fy((()=>{let e=!1;const t=new Request(fy.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),$y=Ky&&Fy((()=>jg.isReadableStream(new Response("").body))),Vy={stream:$y&&(e=>e.body)};var Gy;qy&&(Gy=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Vy[e]&&(Vy[e]=jg.isFunction(Gy[e])?t=>t[e]():(t,r)=>{throw new Hg(`Response type '${e}' is not supported`,Hg.ERR_NOT_SUPPORT,r)})})));const Zy=async(e,t)=>{const r=jg.toFiniteNumber(e.getContentLength());return null==r?(async e=>null==e?0:jg.isBlob(e)?e.size:jg.isSpecCompliantForm(e)?(await new Request(e).arrayBuffer()).byteLength:jg.isArrayBufferView(e)||jg.isArrayBuffer(e)?e.byteLength:(jg.isURLSearchParams(e)&&(e+=""),jg.isString(e)?(await Hy(e)).byteLength:void 0))(t):r},Jy=qy&&(async e=>{let{url:t,method:r,data:n,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:u,responseType:c,headers:f,withCredentials:l="same-origin",fetchOptions:h}=Ry(e);c=c?(c+"").toLowerCase():"text";let d,p,[g,y]=i||o||s?zy([i,o],s):[];const m=()=>{!d&&setTimeout((()=>{g&&g.unsubscribe()})),d=!0};let b;try{if(u&&Wy&&"get"!==r&&"head"!==r&&0!==(b=await Zy(f,n))){let e,r=new Request(t,{method:"POST",body:n,duplex:"half"});if(jg.isFormData(n)&&(e=r.headers.get("content-type"))&&f.setContentType(e),r.body){const[e,t]=My(b,Iy(Py(u)));n=Dy(r.body,65536,e,t,Hy)}}jg.isString(l)||(l=l?"include":"omit"),p=new Request(t,{...h,signal:g,method:r.toUpperCase(),headers:f.normalize().toJSON(),body:n,duplex:"half",credentials:l});let i=await fetch(p);const o=$y&&("stream"===c||"response"===c);if($y&&(a||o)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=i[t]}));const t=jg.toFiniteNumber(i.headers.get("content-length")),[r,n]=a&&My(t,Iy(Py(a),!0))||[];i=new Response(Dy(i.body,65536,r,(()=>{n&&n(),o&&m()}),Hy),e)}c=c||"text";let s=await Vy[jg.findKey(Vy,c)||"text"](i,e);return!o&&m(),y&&y(),await new Promise(((t,r)=>{xy(t,r,{data:s,headers:vy.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:p})}))}catch(w){if(m(),w&&"TypeError"===w.name&&/fetch/i.test(w.message))throw Object.assign(new Hg("Network Error",Hg.ERR_NETWORK,e,p),{cause:w.cause||w});throw Hg.from(w,w&&w.code,e,p)}}),Xy={http:null,xhr:Ly,fetch:Jy};jg.forEach(Xy,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(tp){}Object.defineProperty(e,"adapterName",{value:t})}}));const Yy=e=>`- ${e}`,Qy=e=>jg.isFunction(e)||null===e||!1===e,em=e=>{e=jg.isArray(e)?e:[e];const{length:t}=e;let r,n;const i={};for(let o=0;o<t;o++){let t;if(r=e[o],n=r,!Qy(r)&&(n=Xy[(t=String(r)).toLowerCase()],void 0===n))throw new Hg(`Unknown adapter '${t}'`);if(n)break;i[t||"#"+o]=n}if(!n){const e=Object.entries(i).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));let r=t?e.length>1?"since :\n"+e.map(Yy).join("\n"):" "+Yy(e[0]):"as no adapter specified";throw new Hg("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return n};function tm(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ay(null,e)}function rm(e){tm(e),e.headers=vy.from(e.headers),e.data=_y.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return em(e.adapter||dy.adapter)(e).then((function(t){return tm(e),t.data=_y.call(e,e.transformResponse,t),t.headers=vy.from(t.headers),t}),(function(t){return Sy(t)||(tm(e),t&&t.response&&(t.response.data=_y.call(e,e.transformResponse,t.response),t.response.headers=vy.from(t.response.headers))),Promise.reject(t)}))}const nm="1.7.4",im={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{im[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));const om={};im.transitional=function(e,t,r){function n(e,t){return"[Axios v1.7.4] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,i,o)=>{if(!1===e)throw new Hg(n(i," has been removed"+(t?" in "+t:"")),Hg.ERR_DEPRECATED);return t&&!om[i]&&(om[i]=!0,console.warn(n(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,i,o)}};const sm={assertOptions:function(e,t,r){if("object"!==typeof e)throw new Hg("options must be an object",Hg.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const o=n[i],s=t[o];if(s){const t=e[o],r=void 0===t||s(t,o,e);if(!0!==r)throw new Hg("option "+o+" must be "+r,Hg.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new Hg("Unknown option "+o,Hg.ERR_BAD_OPTION)}},validators:im},am=sm.validators;class um{constructor(e){this.defaults=e,this.interceptors={request:new ry,response:new ry}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}catch(tp){}}throw r}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Ny(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:i}=t;void 0!==r&&sm.assertOptions(r,{silentJSONParsing:am.transitional(am.boolean),forcedJSONParsing:am.transitional(am.boolean),clarifyTimeoutError:am.transitional(am.boolean)},!1),null!=n&&(jg.isFunction(n)?t.paramsSerializer={serialize:n}:sm.assertOptions(n,{encode:am.function,serialize:am.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&jg.merge(i.common,i[t.method]);i&&jg.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=vy.concat(o,i);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const u=[];let c;this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)}));let f,l=0;if(!a){const e=[rm.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,u),f=e.length,c=Promise.resolve(t);l<f;)c=c.then(e[l++],e[l++]);return c}f=s.length;let h=t;for(l=0;l<f;){const e=s[l++],t=s[l++];try{h=e(h)}catch(d){t.call(this,d);break}}try{c=rm.call(this,h)}catch(d){return Promise.reject(d)}for(l=0,f=u.length;l<f;)c=c.then(u[l++],u[l++]);return c}getUri(e){return ty(Cy((e=Ny(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}jg.forEach(["delete","get","head","options"],(function(e){um.prototype[e]=function(t,r){return this.request(Ny(r||{},{method:e,url:t,data:(r||{}).data}))}})),jg.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,i){return this.request(Ny(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}um.prototype[e]=t(),um.prototype[e+"Form"]=t(!0)}));const cm=um;class fm{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const r=this;this.promise.then((e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e,n,i){r.reason||(r.reason=new Ay(e,n,i),t(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new fm((function(t){e=t})),cancel:e}}}const lm=fm;const hm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(hm).forEach((([e,t])=>{hm[t]=e}));const dm=hm;const pm=function e(t){const r=new cm(t),n=Jp(cm.prototype.request,r);return jg.extend(n,cm.prototype,r,{allOwnKeys:!0}),jg.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(Ny(t,r))},n}(dy);pm.Axios=cm,pm.CanceledError=Ay,pm.CancelToken=lm,pm.isCancel=Sy,pm.VERSION=nm,pm.toFormData=Zg,pm.AxiosError=Hg,pm.Cancel=pm.CanceledError,pm.all=function(e){return Promise.all(e)},pm.spread=function(e){return function(t){return e.apply(null,t)}},pm.isAxiosError=function(e){return jg.isObject(e)&&!0===e.isAxiosError},pm.mergeConfig=Ny,pm.AxiosHeaders=vy,pm.formToJSON=e=>ly(jg.isHTMLForm(e)?new FormData(e):e),pm.getAdapter=em,pm.HttpStatusCode=dm,pm.default=pm;const gm=pm;async function ym(e){var t;const{params:r,method:n,url:i,headers:o,body:s,overrides:a}=e,u={headers:o,method:n,url:i,params:r,data:s,withCredentials:null==(t=null==a?void 0:a.WITH_CREDENTIALS)||t};try{const e=await gm(u);return{status:e.status,statusText:e.statusText,data:e.data,headers:e.headers,config:e.config}}catch(c){const e=c;if(e.response)return e.response;throw c}}var mm=class{constructor(e){this.network=e?.network??"devnet",this.fullnode=e?.fullnode,this.faucet=e?.faucet,this.indexer=e?.indexer,this.client=e?.client??{provider:ym},this.clientConfig=e?.clientConfig??{},this.fullnodeConfig=e?.fullnodeConfig??{},this.indexerConfig=e?.indexerConfig??{},this.faucetConfig=e?.faucetConfig??{}}getRequestUrl(e){switch(e){case"Fullnode":if(void 0!==this.fullnode)return this.fullnode;if("custom"===this.network)throw new Error("Please provide a custom full node url");return Qd[this.network];case"Faucet":if(void 0!==this.faucet)return this.faucet;if("custom"===this.network)throw new Error("Please provide a custom faucet url");return ep[this.network];case"Indexer":if(void 0!==this.indexer)return this.indexer;if("custom"===this.network)throw new Error("Please provide a custom indexer url");return Yd[this.network];default:throw Error(`apiType ${e} is not supported`)}}},bm={typeParameters:[{constraints:[]}],parameters:[new Ku,new ju]};var wm=class{constructor(e){this.config=e}async transferCoinTransaction(e){return async function(e){let{aptosConfig:t,sender:r,recipient:n,amount:i,coinType:o,options:s}=e;return hp({aptosConfig:t,sender:r,data:{function:"0x1::aptos_account::transfer_coins",typeArguments:[o??vu],functionArguments:[n,i],abi:bm},options:s})}({aptosConfig:this.config,...e})}},vm={BOOLEAN:"bool",U8:"u8",U16:"u16",U32:"u32",U64:"u64",U128:"u128",U256:"u256",ADDRESS:"address",STRING:"0x1::string::String",ARRAY:"vector<u8>"},_m="0x4::token::Token";var Sm={typeParameters:[],parameters:[new Vu(Zu()),new ju,new Vu(Zu()),new Vu(Zu()),new Nu,new Nu,new Nu,new Nu,new Nu,new Nu,new Nu,new Nu,new Nu,new ju,new ju]};async function Em(e){let{aptosConfig:t,creatorAddress:r,collectionName:n,options:i}=e,o={collection_name:{_eq:n},creator_address:{_eq:Ca.from(r).toStringLong()}};return i?.tokenStandard&&(o.token_standard={_eq:i?.tokenStandard??"v2"}),(await hu({aptosConfig:t,query:{query:Fa,variables:{where_condition:o}},originMethod:"getCollectionData"})).current_collections_v2[0]}var Am={typeParameters:[],parameters:[new Vu(Zu()),new Vu(Zu()),new Vu(Zu()),new Vu(Zu()),new $u(new Vu(Zu())),new $u(new Vu(Zu())),new $u($u.u8())]};var xm={typeParameters:[{constraints:["key"]}],parameters:[new Vu(Ju(new Wu(0))),new Ku]};var km={typeParameters:[],parameters:[new Vu(Zu()),new Vu(Zu()),new Vu(Zu()),new Vu(Zu()),new $u(new Vu(Zu())),new $u(new Vu(Zu())),new $u($u.u8()),new Ku]};var Tm={typeParameters:[{constraints:["key"]}],parameters:[new Vu(Ju(new Wu(0)))]};var Im={typeParameters:[{constraints:["key"]}],parameters:[new Vu(Ju(new Wu(0)))]};var Mm={typeParameters:[{constraints:["key"]}],parameters:[new Vu(Ju(new Wu(0)))]};var Pm={typeParameters:[{constraints:["key"]}],parameters:[new Vu(Ju(new Wu(0))),new Vu(Zu())]};var Bm={typeParameters:[{constraints:["key"]}],parameters:[new Vu(Ju(new Wu(0))),new Vu(Zu())]};var Om={typeParameters:[{constraints:["key"]}],parameters:[new Vu(Ju(new Wu(0))),new Vu(Zu())]};var Cm={typeParameters:[{constraints:["key"]}],parameters:[new Vu(Ju(new Wu(0))),new Vu(Zu()),new Vu(Zu()),$u.u8()]};var Um={typeParameters:[{constraints:["key"]}],parameters:[new Vu(Ju(new Wu(0))),new Vu(Zu())]};var Nm={typeParameters:[{constraints:["key"]}],parameters:[new Vu(Ju(new Wu(0))),new Vu(Zu()),new Vu(Zu()),$u.u8()]};var Rm={typeParameters:[{constraints:["key"]},{constraints:[]}],parameters:[new Vu(Ju(new Wu(0))),new Vu(Zu()),new Wu(1)]};var Lm={typeParameters:[{constraints:["key"]},{constraints:[]}],parameters:[new Vu(Ju(new Wu(0))),new Vu(Zu()),new Wu(1)]};function zm(e,t){let r=new Array;return t.forEach(((t,n)=>{r.push(jm(e[n],t))})),r}function jm(e,t){return Td(e,rc(t),0,[]).bcsToBytes()}var Dm=class{constructor(e){this.config=e}async getCollectionData(e){return await Mu({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"token_v2_processor"}),Em({aptosConfig:this.config,...e})}async getCollectionDataByCollectionId(e){return await Mu({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"token_v2_processor"}),async function(e){let{aptosConfig:t,collectionId:r}=e,n={collection_id:{_eq:Ca.from(r).toStringLong()}};return(await hu({aptosConfig:t,query:{query:Fa,variables:{where_condition:n}},originMethod:"getCollectionData"})).current_collections_v2[0]}({aptosConfig:this.config,...e})}async getCollectionId(e){return await Mu({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"token_v2_processor"}),async function(e){return(await Em(e)).collection_id}({aptosConfig:this.config,...e})}async getDigitalAssetData(e){return await Mu({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"token_v2_processor"}),async function(e){let{aptosConfig:t,digitalAssetAddress:r}=e,n={token_data_id:{_eq:Ca.from(r).toStringLong()}};return(await hu({aptosConfig:t,query:{query:tu,variables:{where_condition:n}},originMethod:"getDigitalAssetData"})).current_token_datas_v2[0]}({aptosConfig:this.config,...e})}async getCurrentDigitalAssetOwnership(e){return await Mu({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"token_v2_processor"}),async function(e){let{aptosConfig:t,digitalAssetAddress:r}=e,n={token_data_id:{_eq:Ca.from(r).toStringLong()},amount:{_gt:0}};return(await hu({aptosConfig:t,query:{query:eu,variables:{where_condition:n}},originMethod:"getCurrentDigitalAssetOwnership"})).current_token_ownerships_v2[0]}({aptosConfig:this.config,...e})}async getOwnedDigitalAssets(e){return await Mu({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"token_v2_processor"}),async function(e){let{aptosConfig:t,ownerAddress:r,options:n}=e,i={owner_address:{_eq:Ca.from(r).toStringLong()},amount:{_gt:0}},o={query:eu,variables:{where_condition:i,offset:n?.offset,limit:n?.limit,order_by:n?.orderBy}};return(await hu({aptosConfig:t,query:o,originMethod:"getOwnedDigitalAssets"})).current_token_ownerships_v2}({aptosConfig:this.config,...e})}async getDigitalAssetActivity(e){return await Mu({config:this.config,minimumLedgerVersion:e.minimumLedgerVersion,processorType:"token_v2_processor"}),async function(e){let{aptosConfig:t,digitalAssetAddress:r,options:n}=e,i={token_data_id:{_eq:Ca.from(r).toStringLong()}},o={query:Qa,variables:{where_condition:i,offset:n?.offset,limit:n?.limit,order_by:n?.orderBy}};return(await hu({aptosConfig:t,query:o,originMethod:"getDigitalAssetActivity"})).token_activities_v2}({aptosConfig:this.config,...e})}async createCollectionTransaction(e){return async function(e){let{aptosConfig:t,options:r,creator:n}=e;return hp({aptosConfig:t,sender:n.accountAddress,data:{function:"0x4::aptos_token::create_collection",functionArguments:[new dc(e.description),new cc(e.maxSupply??ya),new dc(e.name),new dc(e.uri),new oc(e.mutableDescription??!0),new oc(e.mutableRoyalty??!0),new oc(e.mutableURI??!0),new oc(e.mutableTokenDescription??!0),new oc(e.mutableTokenName??!0),new oc(e.mutableTokenProperties??!0),new oc(e.mutableTokenURI??!0),new oc(e.tokensBurnableByCreator??!0),new oc(e.tokensFreezableByCreator??!0),new cc(e.royaltyNumerator??0),new cc(e.royaltyDenominator??1)],abi:Sm},options:r})}({aptosConfig:this.config,...e})}async mintDigitalAssetTransaction(e){return async function(e){let{aptosConfig:t,options:r,creator:n,collection:i,description:o,name:s,uri:a,propertyKeys:u,propertyTypes:c,propertyValues:f}=e,l=c?.map((e=>vm[e]));return hp({aptosConfig:t,sender:n.accountAddress,data:{function:"0x4::aptos_token::mint",functionArguments:[new dc(i),new dc(o),new dc(s),new dc(a),hc.MoveString(u??[]),hc.MoveString(l??[]),zm(f??[],l??[])],abi:Am},options:r})}({aptosConfig:this.config,...e})}async transferDigitalAssetTransaction(e){return async function(e){let{aptosConfig:t,sender:r,digitalAssetAddress:n,recipient:i,digitalAssetType:o,options:s}=e;return hp({aptosConfig:t,sender:r.accountAddress,data:{function:"0x1::object::transfer",typeArguments:[o??_m],functionArguments:[Ca.from(n),Ca.from(i)],abi:xm},options:s})}({aptosConfig:this.config,...e})}async mintSoulBoundTransaction(e){return async function(e){let{aptosConfig:t,account:r,collection:n,description:i,name:o,uri:s,recipient:a,propertyKeys:u,propertyTypes:c,propertyValues:f,options:l}=e;if(u?.length!==f?.length)throw new Error("Property keys and property values counts do not match");if(c?.length!==f?.length)throw new Error("Property types and property values counts do not match");let h=c?.map((e=>vm[e]));return hp({aptosConfig:t,sender:r.accountAddress,data:{function:"0x4::aptos_token::mint_soul_bound",functionArguments:[n,i,o,s,hc.MoveString(u??[]),hc.MoveString(h??[]),zm(f??[],h??[]),a],abi:km},options:l})}({aptosConfig:this.config,...e})}async burnDigitalAssetTransaction(e){return async function(e){let{aptosConfig:t,creator:r,digitalAssetAddress:n,digitalAssetType:i,options:o}=e;return hp({aptosConfig:t,sender:r.accountAddress,data:{function:"0x4::aptos_token::burn",typeArguments:[i??_m],functionArguments:[Ca.from(n)],abi:Tm},options:o})}({aptosConfig:this.config,...e})}async freezeDigitalAssetTransaferTransaction(e){return async function(e){let{aptosConfig:t,creator:r,digitalAssetAddress:n,digitalAssetType:i,options:o}=e;return hp({aptosConfig:t,sender:r.accountAddress,data:{function:"0x4::aptos_token::freeze_transfer",typeArguments:[i??_m],functionArguments:[n],abi:Im},options:o})}({aptosConfig:this.config,...e})}async unfreezeDigitalAssetTransaferTransaction(e){return async function(e){let{aptosConfig:t,creator:r,digitalAssetAddress:n,digitalAssetType:i,options:o}=e;return hp({aptosConfig:t,sender:r.accountAddress,data:{function:"0x4::aptos_token::unfreeze_transfer",typeArguments:[i??_m],functionArguments:[n],abi:Mm},options:o})}({aptosConfig:this.config,...e})}async setDigitalAssetDescriptionTransaction(e){return async function(e){let{aptosConfig:t,creator:r,description:n,digitalAssetAddress:i,digitalAssetType:o,options:s}=e;return hp({aptosConfig:t,sender:r.accountAddress,data:{function:"0x4::aptos_token::set_description",typeArguments:[o??_m],functionArguments:[Ca.from(i),new dc(n)],abi:Pm},options:s})}({aptosConfig:this.config,...e})}async setDigitalAssetNameTransaction(e){return async function(e){let{aptosConfig:t,creator:r,name:n,digitalAssetAddress:i,digitalAssetType:o,options:s}=e;return hp({aptosConfig:t,sender:r.accountAddress,data:{function:"0x4::aptos_token::set_name",typeArguments:[o??_m],functionArguments:[Ca.from(i),new dc(n)],abi:Bm},options:s})}({aptosConfig:this.config,...e})}async setDigitalAssetURITransaction(e){return async function(e){let{aptosConfig:t,creator:r,uri:n,digitalAssetAddress:i,digitalAssetType:o,options:s}=e;return hp({aptosConfig:t,sender:r.accountAddress,data:{function:"0x4::aptos_token::set_uri",typeArguments:[o??_m],functionArguments:[Ca.from(i),new dc(n)],abi:Om},options:s})}({aptosConfig:this.config,...e})}async addDigitalAssetPropertyTransaction(e){return async function(e){let{aptosConfig:t,creator:r,propertyKey:n,propertyType:i,propertyValue:o,digitalAssetAddress:s,digitalAssetType:a,options:u}=e;return hp({aptosConfig:t,sender:r.accountAddress,data:{function:"0x4::aptos_token::add_property",typeArguments:[a??_m],functionArguments:[Ca.from(s),new dc(n),new dc(vm[i]),hc.U8(jm(o,vm[i]))],abi:Cm},options:u})}({aptosConfig:this.config,...e})}async removeDigitalAssetPropertyTransaction(e){return async function(e){let{aptosConfig:t,creator:r,propertyKey:n,digitalAssetAddress:i,digitalAssetType:o,options:s}=e;return hp({aptosConfig:t,sender:r.accountAddress,data:{function:"0x4::aptos_token::remove_property",typeArguments:[o??_m],functionArguments:[Ca.from(i),new dc(n)],abi:Um},options:s})}({aptosConfig:this.config,...e})}async updateDigitalAssetPropertyTransaction(e){return async function(e){let{aptosConfig:t,creator:r,propertyKey:n,propertyType:i,propertyValue:o,digitalAssetAddress:s,digitalAssetType:a,options:u}=e;return hp({aptosConfig:t,sender:r.accountAddress,data:{function:"0x4::aptos_token::update_property",typeArguments:[a??_m],functionArguments:[Ca.from(s),new dc(n),new dc(vm[i]),jm(o,vm[i])],abi:Nm},options:u})}({aptosConfig:this.config,...e})}async addDigitalAssetTypedPropertyTransaction(e){return async function(e){let{aptosConfig:t,creator:r,propertyKey:n,propertyType:i,propertyValue:o,digitalAssetAddress:s,digitalAssetType:a,options:u}=e;return hp({aptosConfig:t,sender:r.accountAddress,data:{function:"0x4::aptos_token::add_typed_property",typeArguments:[a??_m,vm[i]],functionArguments:[Ca.from(s),new dc(n),o],abi:Rm},options:u})}({aptosConfig:this.config,...e})}async updateDigitalAssetTypedPropertyTransaction(e){return async function(e){let{aptosConfig:t,creator:r,propertyKey:n,propertyType:i,propertyValue:o,digitalAssetAddress:s,digitalAssetType:a,options:u}=e;return hp({aptosConfig:t,sender:r.accountAddress,data:{function:"0x4::aptos_token::update_typed_property",typeArguments:[a??_m,vm[i]],functionArguments:[Ca.from(s),new dc(n),o],abi:Lm},options:u})}({aptosConfig:this.config,...e})}},qm=class{constructor(e){this.config=new mm(e),this.account=new jp(this.config),this.ans=new Zp(this.config),this.coin=new wm(this.config),this.digitalAsset=new Dm(this.config),this.event=new Pu(this.config),this.faucet=new Ou(this.config),this.fungibleAsset=new _p(this.config),this.general=new Ep(this.config),this.staking=new Ap(this.config),this.transaction=new zp(this.config)}};function Km(e,t,r){Object.getOwnPropertyNames(t.prototype).forEach((n=>{let i=Object.getOwnPropertyDescriptor(t.prototype,n);i&&(i.value=function(...e){return this[r][n](...e)},Object.defineProperty(e.prototype,n,i))}))}Km(qm,jp,"account"),Km(qm,Zp,"ans"),Km(qm,wm,"coin"),Km(qm,Dm,"digitalAsset"),Km(qm,Pu,"event"),Km(qm,Ou,"faucet"),Km(qm,_p,"fungibleAsset"),Km(qm,Ep,"general"),Km(qm,Ap,"staking"),Km(qm,zp,"transaction");r("Dp+g").Buffer;var Hm=(e=>(e.JSON="application/json",e.BCS="application/x-bcs",e.BCS_SIGNED_TRANSACTION="application/x.aptos.signed_transaction+bcs",e.BCS_VIEW_FUNCTION="application/x.aptos.view_function+bcs",e))(Hm||{}),Fm=(e=>(e[e.Bool=0]="Bool",e[e.U8=1]="U8",e[e.U64=2]="U64",e[e.U128=3]="U128",e[e.Address=4]="Address",e[e.Signer=5]="Signer",e[e.Vector=6]="Vector",e[e.Struct=7]="Struct",e[e.U16=8]="U16",e[e.U32=9]="U32",e[e.U256=10]="U256",e[e.Reference=254]="Reference",e[e.Generic=255]="Generic",e))(Fm||{}),Wm=(e=>(e[e.U8=0]="U8",e[e.U64=1]="U64",e[e.U128=2]="U128",e[e.Address=3]="Address",e[e.U8Vector=4]="U8Vector",e[e.Bool=5]="Bool",e[e.U16=6]="U16",e[e.U32=7]="U32",e[e.U256=8]="U256",e))(Wm||{}),$m=(e=>(e[e.Script=0]="Script",e[e.EntryFunction=2]="EntryFunction",e[e.Multisig=3]="Multisig",e))($m||{}),Vm=(e=>(e[e.MultiAgentTransaction=0]="MultiAgentTransaction",e[e.FeePayerTransaction=1]="FeePayerTransaction",e))(Vm||{}),Gm=(e=>(e[e.Ed25519=0]="Ed25519",e[e.MultiEd25519=1]="MultiEd25519",e[e.MultiAgent=2]="MultiAgent",e[e.FeePayer=3]="FeePayer",e[e.SingleSender=4]="SingleSender",e))(Gm||{}),Zm=(e=>(e[e.Ed25519=0]="Ed25519",e[e.MultiEd25519=1]="MultiEd25519",e[e.SingleKey=2]="SingleKey",e[e.MultiKey=3]="MultiKey",e))(Zm||{}),Jm=(e=>(e[e.Ed25519=0]="Ed25519",e[e.Secp256k1=1]="Secp256k1",e))(Jm||{}),Xm=(e=>(e[e.Ed25519=0]="Ed25519",e[e.Secp256k1=1]="Secp256k1",e))(Xm||{}),Ym=(e=>(e.Pending="pending_transaction",e.User="user_transaction",e.Genesis="genesis_transaction",e.BlockMetadata="block_metadata_transaction",e.StateCheckpoint="state_checkpoint_transaction",e.Validator="validator_transaction",e))(Ym||{});var Qm=(e=>(e.PRIVATE="private",e.PUBLIC="public",e.FRIEND="friend",e))(Qm||{}),eb=(e=>(e.STORE="store",e.DROP="drop",e.KEY="key",e.COPY="copy",e))(eb||{}),tb=(e=>(e.VALIDATOR="validator",e.FULL_NODE="full_node",e))(tb||{}),rb=(e=>(e[e.Ed25519=0]="Ed25519",e[e.MultiEd25519=1]="MultiEd25519",e[e.SingleKey=2]="SingleKey",e[e.MultiKey=3]="MultiKey",e))(rb||{}),nb=(e=>(e[e.Ed25519=0]="Ed25519",e[e.Secp256k1Ecdsa=2]="Secp256k1Ecdsa",e))(nb||{}),ib=(e=>(e[e.DeriveAuid=251]="DeriveAuid",e[e.DeriveObjectAddressFromObject=252]="DeriveObjectAddressFromObject",e[e.DeriveObjectAddressFromGuid=253]="DeriveObjectAddressFromGuid",e[e.DeriveObjectAddressFromSeed=254]="DeriveObjectAddressFromSeed",e[e.DeriveResourceAccountAddress=255]="DeriveResourceAccountAddress",e))(ib||{}),ob="aptos:testnet",sb="aptos:mainnet",ab=(e=>(e[e.Unauthorized=4100]="Unauthorized",e[e.InternalError=-30001]="InternalError",e))(ab||{}),ub=Object.freeze({4100:{status:"Unauthorized",message:"The requested method and/or account has not been authorized by the user."},[-30001]:{status:"Internal error",message:"Something went wrong within the wallet."}}),cb=(Error,(e=>(e.APPROVED="Approved",e.REJECTED="Rejected",e))(cb||{})),fb=(tp.MAINNET,tp.CUSTOM,r("0kky")),lb=(fb.QW.bitcoin,fb.QW.testnet,fb.QW.testnet,fb.QW.regtest,function(){var e=i(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.unisat._requestPubKeyConsiderBabylon();case 2:return t=e.sent.tweaked,console.log("shouldTweak:",t),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());function hb(e){return function(e){if(Array.isArray(e))return I(e)}(e)||T(e)||M(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var db,pb,gb=r("+Jr0");function yb(e){return e===pb.BTC_MAINNET?fb.QW.bitcoin:e===pb.BTC_TESTNET||e===pb.BTC_SIGNET?fb.QW.testnet:fb.QW.regtest}!function(e){e[e.P2PKH=0]="P2PKH",e[e.P2WPKH=1]="P2WPKH",e[e.P2TR=2]="P2TR",e[e.P2SH_P2WPKH=3]="P2SH_P2WPKH",e[e.M44_P2WPKH=4]="M44_P2WPKH",e[e.M44_P2TR=5]="M44_P2TR",e[e.P2WSH=6]="P2WSH",e[e.P2SH=7]="P2SH",e[e.UNKNOWN=8]="UNKNOWN"}(db||(db={})),function(e){e.BTC_MAINNET="livenet",e.BTC_TESTNET="testnet",e.BTC_SIGNET="signet",e.BTC_REGTEST="regtest"}(pb||(pb={}));var mb=r("mceV"),bb=r("Dp+g").Buffer;function wb(e){return e&&!!(e.tapInternalKey||e.tapMerkleRoot||e.tapLeafScript&&e.tapLeafScript.length||e.tapBip32Derivation&&e.tapBip32Derivation.length||e.witnessUtxo&&(0,mb.isP2TR)(bb.from(e.witnessUtxo.script)))}var vb=function(){var e=i(s().mark((function e(t,r){var n,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!wb(t)){e.next=16;break}if(i=!0,r&&(i=!1),!(t.tapLeafScript&&(null===(n=t.tapLeafScript)||void 0===n?void 0:n.length)>0)||t.tapMerkleRoot){e.next=12;break}return t.tapLeafScript.map((function(e){e.controlBlock&&e.script&&(i=!1)})),e.next=8,lb();case 8:if(!e.sent){e.next=10;break}i=!0;case 10:e.next=13;break;case 12:t.tapMerkleRoot&&(i=!0);case 13:return e.abrupt("return",i);case 16:return e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),_b=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,i;return(n=console).log.apply(n,["logDaApp:"].concat(hb(t))),i={id:0,method:te.dappLog,payload:t,metadata:Ve,namespace:"eip155"},void window.bn.miniProgram.postMessage(i)},Sb=r("Dp+g").Buffer,Eb=Sb.from("Bitcoin Signed Message:\n");function Ab(e){var t;return e<253?(t=Sb.alloc(1)).writeUInt8(e,0):e<65536?((t=Sb.alloc(3)).writeUInt8(253,0),t.writeUInt16LE(e,1)):e<4294967296?((t=Sb.alloc(5)).writeUInt8(254,0),t.writeUInt32LE(e,1)):((t=Sb.alloc(9)).writeUInt8(255,0),t.writeInt32LE(-1&e,1),t.writeUInt32LE(Math.floor(e/4294967296),5)),t}function xb(e){var t=Ab(Eb.length),r=Sb.from(e),n=Ab(r.length),i=Sb.concat([t,Eb,n,r]);return fb.eL.hash256(i)}function kb(e,t,r){if(0!==e&&1!==e&&2!==e&&3!==e)throw new Error("i must be equal to 0, 1, 2, or 3");var n=e+27+4;return r||(n-=4),Sb.concat([Uint8Array.of(n),Uint8Array.from(t)])}var Tb=function(){var e=i(s().mark((function e(t,r,n){var i,o,a,u,c,f;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={data:{images:[{data:t,networkId:r,disableTweak:!0}],input:""}},e.next=3,n(i,"ecdsa",1,1,void 0,{});case 3:return o=e.sent,a=o.result,u=Sb.from(Ib(a[0]),"hex"),f=null!==(c=Number(Mb(a[0])))&&void 0!==c?c:1,e.abrupt("return",kb(f,u,!0).toString("base64"));case 9:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),Ib=function(e){return Sb.from(Sb.from(e,"hex").subarray(0,64)).toString("hex")},Mb=function(e){return e.slice(128,130)},Pb=function(){var e=i(s().mark((function e(t,r,n,o,a,u,c,f,l,h){var d,p,g,y,m,b,w,v,_,S=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=!(S.length>10&&void 0!==S[10])||S[10],p=f,e.next=4,u({data:{images:[{networkId:o,data:"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"}],input:""}},"BTC_TAPROOT"===o?"schnorr":"ecdsa",c,p,l,h);case 4:g=e.sent,y=g.token,p++,m=0;case 8:if(!(m<a.length)){e.next=32;break}return e.next=11,vb(t.data.inputs[m],a[m].disableTweakSigner);case 11:return b=!e.sent,_b("disableTweak in signPsbtInternal:",{disableTweak:b,pubkey:b?n:r}),w=a[m].index,v={publicKey:Sb.from(b?n:r,"hex"),sign:function(){var e=i(s().mark((function e(t){var r,n,i,f;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.toString("hex"),console.log("hash to sign:",n),e.next=5,u({data:{images:[{networkId:o,data:n,disableTweak:b||!!(null===(r=a[m])||void 0===r?void 0:r.disableTweakSigner)}],input:""}},"ecdsa",c,p,y,h);case 5:return i=e.sent,f=i.result,p++,e.abrupt("return",Sb.from(Ib(f[0]),"hex"));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),signSchnorr:function(){var e=i(s().mark((function e(t){var r,n,i,f;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.toString("hex"),console.log("hash to sign:",n),e.next=5,u({data:{images:[{networkId:o,data:n,disableTweak:b||!!(null===(r=a[m])||void 0===r?void 0:r.disableTweakSigner)}],input:""}},"schnorr",c,p,y,h);case 5:return i=e.sent,f=i.result,p++,console.log("signResult",f),e.abrupt("return",Sb.from(Ib(f[0]),"hex"));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},_=a[m].sighashTypes,console.log("sighashTypes",{sighashTypes:_}),console.log("prev psbt",t.toBase64()),e.prev=18,e.next=21,t.signInputAsync(w,v,_);case 21:d&&t.finalizeInput(w),e.next=28;break;case 24:if(e.prev=24,e.t0=e.catch(18),!a[m].isUserInput){e.next=28;break}throw e.t0;case 28:console.log("after psbt",t.toBase64());case 29:m++,e.next=8;break;case 32:return e.abrupt("return",{psbt:t,currentSignTimes:p,token:y});case 33:case"end":return e.stop()}}),e,null,[[18,24]])})));return function(t,r,n,i,o,s,a,u,c,f){return e.apply(this,arguments)}}(),Bb=r("+OeT"),Ob=r.t(Bb,2);r("qhfd");setTimeout((function(){fb.Wi(Ob)}));var Cb=r("Dp+g").Buffer;function Ub(e){var t=yb(arguments.length>1&&void 0!==arguments[1]?arguments[1]:pb.BTC_MAINNET);try{return fb.Lk.fromOutputScript("string"===typeof e?Cb.from(e,"hex"):e,t)}catch(tp){return""}}function Nb(e){return e===db.P2WPKH||e===db.M44_P2WPKH?294:e===db.P2TR||e===db.M44_P2TR?330:546}function Rb(e,t){var r=yb(t);return fb.Lk.toOutputScript(e,r)}function Lb(e){return function(e){var t,r,n,i,o=fb.QW.bitcoin,s=fb.QW.testnet,a=fb.QW.regtest;if(e.startsWith("bc1")||e.startsWith("tb1")||e.startsWith("bcrt1"))try{return(r=fb.Lk.fromBech32(e)).prefix===o.bech32?n=pb.BTC_MAINNET:r.prefix===s.bech32?n=pb.BTC_TESTNET:r.prefix===a.bech32&&(n=pb.BTC_REGTEST),0===r.version?20===r.data.length?i=db.P2WPKH:32===r.data.length&&(i=db.P2WSH):1===r.version&&32===r.data.length&&(i=db.P2TR),{networkType:n,addressType:i,dust:Nb(i)}}catch(tp){console.error(tp)}else try{return(t=fb.Lk.fromBase58Check(e)).version===o.pubKeyHash?(n=pb.BTC_MAINNET,i=db.P2PKH):t.version===s.pubKeyHash?(n=pb.BTC_TESTNET,i=db.P2PKH):t.version===a.pubKeyHash?(n=pb.BTC_REGTEST,i=db.P2PKH):t.version===o.scriptHash?(n=pb.BTC_MAINNET,i=db.P2SH_P2WPKH):t.version===s.scriptHash?(n=pb.BTC_TESTNET,i=db.P2SH_P2WPKH):t.version===a.scriptHash&&(n=pb.BTC_REGTEST,i=db.P2SH_P2WPKH),{networkType:n,addressType:i,dust:Nb(i)}}catch(u){console.error(u)}return{networkType:pb.BTC_MAINNET,addressType:db.UNKNOWN,dust:546}}(e).addressType}var zb=r("Dp+g").Buffer,jb=function(e,t,r,n,i){var o=i||{autoFinalized:!0,toSignInputs:[]},s=function(e,t,r,n,i){var o=r,s=t,a=[];if(i&&i.toSignInputs)a=i.toSignInputs.map((function(e){var t,r=Number(e.index);if(isNaN(r))throw new Error("invalid index in toSignInput");if(!e.address&&!e.publicKey)throw new Error("no address or public key in toSignInput");if(e.address&&e.address!==o)throw new Error("invalid address in toSignInput");if(e.publicKey&&e.publicKey!==s)throw new Error("invalid public key in toSignInput");var n=null===(t=e.sighashTypes)||void 0===t?void 0:t.map(Number);if(null===n||void 0===n?void 0:n.some(isNaN))throw new Error("invalid sighash type in toSignInput");return{index:r,publicKey:s,sighashTypes:n,disableTweakSigner:e.disableTweakSigner,isUserInput:!0}}));else{var u=n,c=yb(u),f="string"===typeof e?fb._B.fromHex(e,{network:c}):e;f.data.inputs.forEach((function(e,t){var r=null;e.witnessUtxo?r=e.witnessUtxo.script:e.nonWitnessUtxo&&(r=fb.YW.fromBuffer(e.nonWitnessUtxo).outs[f.txInputs[t].index].script);var n=e.finalScriptSig||e.finalScriptWitness;if(console.log("formatOptionsToSignInputs",{script:r,isSigned:n}),r&&!n){var i=Ub(r,u);console.log("formatOptionsToSignInputs",{address:i,accountAddress:o,script:r,networkType:u}),a.push({index:t,publicKey:s,sighashTypes:e.sighashType?[e.sighashType]:void 0,isUserInput:!1})}}))}return a}(e,t,r,n,i);if(0===s.length)throw new Error("no input to sign");var a=n;return e.data.inputs.forEach((function(e){var n,i=!(e.finalScriptSig||e.finalScriptWitness),o=r.startsWith("bc1p")||r.startsWith("tb1p"),s=!e.tapInternalKey;if(i&&o&&s){var u,c=32===(n=zb.from(t,"hex")).length?n:n.slice(1,33),f=fb.PP.p2tr({pubkey:c,network:yb(a)}).output;(null===(u=e.witnessUtxo)||void 0===u?void 0:u.script.toString("hex"))===(null===f||void 0===f?void 0:f.toString("hex"))&&(e.tapInternalKey=c)}})),{toSignInputs:s,opts:o}},Db=function(){var e=i(s().mark((function e(t,r,n,i,o,a,u,c,f,l,h){var d,p,g;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("signPsbt",{inputs:h}),e.next=3,Pb(t,r,n,i,h,o,a,u,c,f,l.autoFinalized);case 3:return d=e.sent,p=d.token,g=d.currentSignTimes,e.abrupt("return",{psbt:t,token:p,currentTimes:g});case 7:case"end":return e.stop()}}),e)})));return function(t,r,n,i,o,s,a,u,c,f,l){return e.apply(this,arguments)}}();function qb(e,t,r,n){var i=yb(t),o="string"===typeof e?fb._B.fromHex(e,{network:i}):e,s=[],a=o.data.inputs.map((function(e,i){var a,u=o.txInputs[i].hash.reverse().toString("hex"),c=o.txInputs[i].index,f=0,l="";if(e.witnessUtxo)a=e.witnessUtxo.script,f=e.witnessUtxo.value;else if(e.nonWitnessUtxo){var h=fb.YW.fromBuffer(e.nonWitnessUtxo).outs[c];a=h.script,f=h.value}a&&(l=Ub(a,t));var d=!!e.finalScriptSig||!!e.finalScriptWitness;return l!==r||d||s.push({index:i,publicKey:n,sighashTypes:e.sighashType?[e.sighashType]:void 0,isUserInput:!1}),{txId:u,vout:c,address:l,value:f,isSigned:d}})),u=o.txOutputs.map((function(e,t){return{address:e.address,value:e.value,index:t}})),c=a.reduce((function(e,t){return e+t.value}),0)-u.reduce((function(e,t){return e+t.value}),0),f=a.filter((function(e){return e.address===r})).reduce((function(e,t){return e+t.value}),0)-u.filter((function(e){return e.address===r})).reduce((function(e,t){return e+t.value}),0);return{inputsDetails:a,outputsDetails:u,toSignInputs:s,gas:c,spend:f}}var Kb=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Hb=Math.ceil,Fb=Math.floor,Wb="[BigNumber Error] ",$b=Wb+"Number primitive has more than 15 significant digits: ",Vb=1e14,Gb=14,Zb=9007199254740991,Jb=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Xb=1e7,Yb=1e9;function Qb(e){var t=0|e;return e>0||e===t?t:t-1}function ew(e){for(var t,r,n=1,i=e.length,o=e[0]+"";n<i;){for(t=e[n++]+"",r=Gb-t.length;r--;t="0"+t);o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function tw(e,t){var r,n,i=e.c,o=t.c,s=e.s,a=t.s,u=e.e,c=t.e;if(!s||!a)return null;if(r=i&&!i[0],n=o&&!o[0],r||n)return r?n?0:-a:s;if(s!=a)return s;if(r=s<0,n=u==c,!i||!o)return n?0:!i^r?1:-1;if(!n)return u>c^r?1:-1;for(a=(u=i.length)<(c=o.length)?u:c,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^r?1:-1;return u==c?0:u>c^r?1:-1}function rw(e,t,r,n){if(e<t||e>r||e!==Fb(e))throw Error(Wb+(n||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function nw(e){var t=e.c.length-1;return Qb(e.e/Gb)==t&&e.c[t]%2!=0}function iw(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function ow(e,t,r){var n,i;if(t<0){for(i=r+".";++t;i+=r);e=i+e}else if(++t>(n=e.length)){for(i=r,t-=n;--t;i+=r);e+=i}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}var sw=function e(t){var r,n,i,o=w.prototype={constructor:w,toString:null,valueOf:null},s=new w(1),a=20,u=4,c=-7,f=21,l=-1e7,h=1e7,d=!1,p=1,g=0,y={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},m="0123456789abcdefghijklmnopqrstuvwxyz",b=!0;function w(e,t){var r,o,s,c,f,d,p,g,y=this;if(!(y instanceof w))return new w(e,t);if(null==t){if(e&&!0===e._isBigNumber)return y.s=e.s,void(!e.c||e.e>h?y.c=y.e=null:e.e<l?y.c=[y.e=0]:(y.e=e.e,y.c=e.c.slice()));if((d="number"==typeof e)&&0*e==0){if(y.s=1/e<0?(e=-e,-1):1,e===~~e){for(c=0,f=e;f>=10;f/=10,c++);return void(c>h?y.c=y.e=null:(y.e=c,y.c=[e]))}g=String(e)}else{if(!Kb.test(g=String(e)))return i(y,g,d);y.s=45==g.charCodeAt(0)?(g=g.slice(1),-1):1}(c=g.indexOf("."))>-1&&(g=g.replace(".","")),(f=g.search(/e/i))>0?(c<0&&(c=f),c+=+g.slice(f+1),g=g.substring(0,f)):c<0&&(c=g.length)}else{if(rw(t,2,m.length,"Base"),10==t&&b)return E(y=new w(e),a+y.e+1,u);if(g=String(e),d="number"==typeof e){if(0*e!=0)return i(y,g,d,t);if(y.s=1/e<0?(g=g.slice(1),-1):1,w.DEBUG&&g.replace(/^0\.0*|\./,"").length>15)throw Error($b+e)}else y.s=45===g.charCodeAt(0)?(g=g.slice(1),-1):1;for(r=m.slice(0,t),c=f=0,p=g.length;f<p;f++)if(r.indexOf(o=g.charAt(f))<0){if("."==o){if(f>c){c=p;continue}}else if(!s&&(g==g.toUpperCase()&&(g=g.toLowerCase())||g==g.toLowerCase()&&(g=g.toUpperCase()))){s=!0,f=-1,c=0;continue}return i(y,String(e),d,t)}d=!1,(c=(g=n(g,t,10,y.s)).indexOf("."))>-1?g=g.replace(".",""):c=g.length}for(f=0;48===g.charCodeAt(f);f++);for(p=g.length;48===g.charCodeAt(--p););if(g=g.slice(f,++p)){if(p-=f,d&&w.DEBUG&&p>15&&(e>Zb||e!==Fb(e)))throw Error($b+y.s*e);if((c=c-f-1)>h)y.c=y.e=null;else if(c<l)y.c=[y.e=0];else{if(y.e=c,y.c=[],f=(c+1)%Gb,c<0&&(f+=Gb),f<p){for(f&&y.c.push(+g.slice(0,f)),p-=Gb;f<p;)y.c.push(+g.slice(f,f+=Gb));f=Gb-(g=g.slice(f)).length}else f-=p;for(;f--;g+="0");y.c.push(+g)}}else y.c=[y.e=0]}function v(e,t,r,n){var i,o,s,a,l;if(null==r?r=u:rw(r,0,8),!e.c)return e.toString();if(i=e.c[0],s=e.e,null==t)l=ew(e.c),l=1==n||2==n&&(s<=c||s>=f)?iw(l,s):ow(l,s,"0");else if(o=(e=E(new w(e),t,r)).e,a=(l=ew(e.c)).length,1==n||2==n&&(t<=o||o<=c)){for(;a<t;l+="0",a++);l=iw(l,o)}else if(t-=s,l=ow(l,o,"0"),o+1>a){if(--t>0)for(l+=".";t--;l+="0");}else if((t+=o-a)>0)for(o+1==a&&(l+=".");t--;l+="0");return e.s<0&&i?"-"+l:l}function _(e,t){for(var r,n=1,i=new w(e[0]);n<e.length;n++){if(!(r=new w(e[n])).s){i=r;break}t.call(i,r)&&(i=r)}return i}function S(e,t,r){for(var n=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,n++);return(r=n+r*Gb-1)>h?e.c=e.e=null:r<l?e.c=[e.e=0]:(e.e=r,e.c=t),e}function E(e,t,r,n){var i,o,s,a,u,c,f,d=e.c,p=Jb;if(d){e:{for(i=1,a=d[0];a>=10;a/=10,i++);if((o=t-i)<0)o+=Gb,s=t,f=(u=d[c=0])/p[i-s-1]%10|0;else if((c=Hb((o+1)/Gb))>=d.length){if(!n)break e;for(;d.length<=c;d.push(0));u=f=0,i=1,s=(o%=Gb)-Gb+1}else{for(u=a=d[c],i=1;a>=10;a/=10,i++);f=(s=(o%=Gb)-Gb+i)<0?0:u/p[i-s-1]%10|0}if(n=n||t<0||null!=d[c+1]||(s<0?u:u%p[i-s-1]),n=r<4?(f||n)&&(0==r||r==(e.s<0?3:2)):f>5||5==f&&(4==r||n||6==r&&(o>0?s>0?u/p[i-s]:0:d[c-1])%10&1||r==(e.s<0?8:7)),t<1||!d[0])return d.length=0,n?(t-=e.e+1,d[0]=p[(Gb-t%Gb)%Gb],e.e=-t||0):d[0]=e.e=0,e;if(0==o?(d.length=c,a=1,c--):(d.length=c+1,a=p[Gb-o],d[c]=s>0?Fb(u/p[i-s]%p[s])*a:0),n)for(;;){if(0==c){for(o=1,s=d[0];s>=10;s/=10,o++);for(s=d[0]+=a,a=1;s>=10;s/=10,a++);o!=a&&(e.e++,d[0]==Vb&&(d[0]=1));break}if(d[c]+=a,d[c]!=Vb)break;d[c--]=0,a=1}for(o=d.length;0===d[--o];d.pop());}e.e>h?e.c=e.e=null:e.e<l&&(e.c=[e.e=0])}return e}function A(e){var t,r=e.e;return null===r?e.toString():(t=ew(e.c),t=r<=c||r>=f?iw(t,r):ow(t,r,"0"),e.s<0?"-"+t:t)}return w.clone=e,w.ROUND_UP=0,w.ROUND_DOWN=1,w.ROUND_CEIL=2,w.ROUND_FLOOR=3,w.ROUND_HALF_UP=4,w.ROUND_HALF_DOWN=5,w.ROUND_HALF_EVEN=6,w.ROUND_HALF_CEIL=7,w.ROUND_HALF_FLOOR=8,w.EUCLID=9,w.config=w.set=function(e){var t,r;if(null!=e){if("object"!=typeof e)throw Error(Wb+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(rw(r=e[t],0,Yb,t),a=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(rw(r=e[t],0,8,t),u=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(rw(r[0],-Yb,0,t),rw(r[1],0,Yb,t),c=r[0],f=r[1]):(rw(r,-Yb,Yb,t),c=-(f=r<0?-r:r))),e.hasOwnProperty(t="RANGE"))if((r=e[t])&&r.pop)rw(r[0],-Yb,-1,t),rw(r[1],1,Yb,t),l=r[0],h=r[1];else{if(rw(r,-Yb,Yb,t),!r)throw Error(Wb+t+" cannot be zero: "+r);l=-(h=r<0?-r:r)}if(e.hasOwnProperty(t="CRYPTO")){if((r=e[t])!==!!r)throw Error(Wb+t+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw d=!r,Error(Wb+"crypto unavailable");d=r}else d=r}if(e.hasOwnProperty(t="MODULO_MODE")&&(rw(r=e[t],0,9,t),p=r),e.hasOwnProperty(t="POW_PRECISION")&&(rw(r=e[t],0,Yb,t),g=r),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(r=e[t]))throw Error(Wb+t+" not an object: "+r);y=r}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(Wb+t+" invalid: "+r);b="0123456789"==r.slice(0,10),m=r}}return{DECIMAL_PLACES:a,ROUNDING_MODE:u,EXPONENTIAL_AT:[c,f],RANGE:[l,h],CRYPTO:d,MODULO_MODE:p,POW_PRECISION:g,FORMAT:y,ALPHABET:m}},w.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!w.DEBUG)return!0;var t,r,n=e.c,i=e.e,o=e.s;e:if("[object Array]"=={}.toString.call(n)){if((1===o||-1===o)&&i>=-Yb&&i<=Yb&&i===Fb(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break e}if((t=(i+1)%Gb)<1&&(t+=Gb),String(n[0]).length==t){for(t=0;t<n.length;t++)if((r=n[t])<0||r>=Vb||r!==Fb(r))break e;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===o||1===o||-1===o))return!0;throw Error(Wb+"Invalid BigNumber: "+e)},w.maximum=w.max=function(){return _(arguments,o.lt)},w.minimum=w.min=function(){return _(arguments,o.gt)},w.random=function(){var e=9007199254740992,t=Math.random()*e&2097151?function(){return Fb(Math.random()*e)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)};return function(e){var r,n,i,o,u,c=0,f=[],l=new w(s);if(null==e?e=a:rw(e,0,Yb),o=Hb(e/Gb),d)if(crypto.getRandomValues){for(r=crypto.getRandomValues(new Uint32Array(o*=2));c<o;)(u=131072*r[c]+(r[c+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),r[c]=n[0],r[c+1]=n[1]):(f.push(u%1e14),c+=2);c=o/2}else{if(!crypto.randomBytes)throw d=!1,Error(Wb+"crypto unavailable");for(r=crypto.randomBytes(o*=7);c<o;)(u=281474976710656*(31&r[c])+1099511627776*r[c+1]+4294967296*r[c+2]+16777216*r[c+3]+(r[c+4]<<16)+(r[c+5]<<8)+r[c+6])>=9e15?crypto.randomBytes(7).copy(r,c):(f.push(u%1e14),c+=7);c=o/7}if(!d)for(;c<o;)(u=t())<9e15&&(f[c++]=u%1e14);for(o=f[--c],e%=Gb,o&&e&&(u=Jb[Gb-e],f[c]=Fb(o/u)*u);0===f[c];f.pop(),c--);if(c<0)f=[i=0];else{for(i=-1;0===f[0];f.splice(0,1),i-=Gb);for(c=1,u=f[0];u>=10;u/=10,c++);c<Gb&&(i-=Gb-c)}return l.e=i,l.c=f,l}}(),w.sum=function(){for(var e=1,t=arguments,r=new w(t[0]);e<t.length;)r=r.plus(t[e++]);return r},n=function(){var e="0123456789";function t(e,t,r,n){for(var i,o,s=[0],a=0,u=e.length;a<u;){for(o=s.length;o--;s[o]*=t);for(s[0]+=n.indexOf(e.charAt(a++)),i=0;i<s.length;i++)s[i]>r-1&&(null==s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/r|0,s[i]%=r)}return s.reverse()}return function(n,i,o,s,c){var f,l,h,d,p,y,b,v,_=n.indexOf("."),S=a,E=u;for(_>=0&&(d=g,g=0,n=n.replace(".",""),y=(v=new w(i)).pow(n.length-_),g=d,v.c=t(ow(ew(y.c),y.e,"0"),10,o,e),v.e=v.c.length),h=d=(b=t(n,i,o,c?(f=m,e):(f=e,m))).length;0==b[--d];b.pop());if(!b[0])return f.charAt(0);if(_<0?--h:(y.c=b,y.e=h,y.s=s,b=(y=r(y,v,S,E,o)).c,p=y.r,h=y.e),_=b[l=h+S+1],d=o/2,p=p||l<0||null!=b[l+1],p=E<4?(null!=_||p)&&(0==E||E==(y.s<0?3:2)):_>d||_==d&&(4==E||p||6==E&&1&b[l-1]||E==(y.s<0?8:7)),l<1||!b[0])n=p?ow(f.charAt(1),-S,f.charAt(0)):f.charAt(0);else{if(b.length=l,p)for(--o;++b[--l]>o;)b[l]=0,l||(++h,b=[1].concat(b));for(d=b.length;!b[--d];);for(_=0,n="";_<=d;n+=f.charAt(b[_++]));n=ow(n,h,f.charAt(0))}return n}}(),r=function(){function e(e,t,r){var n,i,o,s,a=0,u=e.length,c=t%Xb,f=t/Xb|0;for(e=e.slice();u--;)a=((i=c*(o=e[u]%Xb)+(n=f*o+(s=e[u]/Xb|0)*c)%Xb*Xb+a)/r|0)+(n/Xb|0)+f*s,e[u]=i%r;return a&&(e=[a].concat(e)),e}function t(e,t,r,n){var i,o;if(r!=n)o=r>n?1:-1;else for(i=o=0;i<r;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,i,o,s,a){var u,c,f,l,h,d,p,g,y,m,b,v,_,S,A,x,k,T=n.s==i.s?1:-1,I=n.c,M=i.c;if(!I||!I[0]||!M||!M[0])return new w(n.s&&i.s&&(I?!M||I[0]!=M[0]:M)?I&&0==I[0]||!M?0*T:T/0:NaN);for(y=(g=new w(T)).c=[],T=o+(c=n.e-i.e)+1,a||(a=Vb,c=Qb(n.e/Gb)-Qb(i.e/Gb),T=T/Gb|0),f=0;M[f]==(I[f]||0);f++);if(M[f]>(I[f]||0)&&c--,T<0)y.push(1),l=!0;else{for(S=I.length,x=M.length,f=0,T+=2,(h=Fb(a/(M[0]+1)))>1&&(M=e(M,h,a),I=e(I,h,a),x=M.length,S=I.length),_=x,b=(m=I.slice(0,x)).length;b<x;m[b++]=0);k=M.slice(),k=[0].concat(k),A=M[0],M[1]>=a/2&&A++;do{if(h=0,(u=t(M,m,x,b))<0){if(v=m[0],x!=b&&(v=v*a+(m[1]||0)),(h=Fb(v/A))>1)for(h>=a&&(h=a-1),p=(d=e(M,h,a)).length,b=m.length;1==t(d,m,p,b);)h--,r(d,x<p?k:M,p,a),p=d.length,u=1;else 0==h&&(u=h=1),p=(d=M.slice()).length;if(p<b&&(d=[0].concat(d)),r(m,d,b,a),b=m.length,-1==u)for(;t(M,m,x,b)<1;)h++,r(m,x<b?k:M,b,a),b=m.length}else 0===u&&(h++,m=[0]);y[f++]=h,m[0]?m[b++]=I[_]||0:(m=[I[_]],b=1)}while((_++<S||null!=m[0])&&T--);l=null!=m[0],y[0]||y.splice(0,1)}if(a==Vb){for(f=1,T=y[0];T>=10;T/=10,f++);E(g,o+(g.e=f+c*Gb-1)+1,s,l)}else g.e=c,g.r=+l;return g}}(),i=function(){var e=/^(-?)0([xbo])(?=\w[\w.]*$)/i,t=/^([^.]+)\.$/,r=/^\.([^.]+)$/,n=/^-?(Infinity|NaN)$/,i=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(o,s,a,u){var c,f=a?s:s.replace(i,"");if(n.test(f))o.s=isNaN(f)?null:f<0?-1:1;else{if(!a&&(f=f.replace(e,(function(e,t,r){return c="x"==(r=r.toLowerCase())?16:"b"==r?2:8,u&&u!=c?e:t})),u&&(c=u,f=f.replace(t,"$1").replace(r,"0.$1")),s!=f))return new w(f,c);if(w.DEBUG)throw Error(Wb+"Not a"+(u?" base "+u:"")+" number: "+s);o.s=null}o.c=o.e=null}}(),o.absoluteValue=o.abs=function(){var e=new w(this);return e.s<0&&(e.s=1),e},o.comparedTo=function(e,t){return tw(this,new w(e,t))},o.decimalPlaces=o.dp=function(e,t){var r,n,i,o=this;if(null!=e)return rw(e,0,Yb),null==t?t=u:rw(t,0,8),E(new w(o),e+o.e+1,t);if(!(r=o.c))return null;if(n=((i=r.length-1)-Qb(this.e/Gb))*Gb,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},o.dividedBy=o.div=function(e,t){return r(this,new w(e,t),a,u)},o.dividedToIntegerBy=o.idiv=function(e,t){return r(this,new w(e,t),0,1)},o.exponentiatedBy=o.pow=function(e,t){var r,n,i,o,a,c,f,l,h=this;if((e=new w(e)).c&&!e.isInteger())throw Error(Wb+"Exponent not an integer: "+A(e));if(null!=t&&(t=new w(t)),a=e.e>14,!h.c||!h.c[0]||1==h.c[0]&&!h.e&&1==h.c.length||!e.c||!e.c[0])return l=new w(Math.pow(+A(h),a?e.s*(2-nw(e)):+A(e))),t?l.mod(t):l;if(c=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new w(NaN);(n=!c&&h.isInteger()&&t.isInteger())&&(h=h.mod(t))}else{if(e.e>9&&(h.e>0||h.e<-1||(0==h.e?h.c[0]>1||a&&h.c[1]>=24e7:h.c[0]<8e13||a&&h.c[0]<=9999975e7)))return o=h.s<0&&nw(e)?-0:0,h.e>-1&&(o=1/o),new w(c?1/o:o);g&&(o=Hb(g/Gb+2))}for(a?(r=new w(.5),c&&(e.s=1),f=nw(e)):f=(i=Math.abs(+A(e)))%2,l=new w(s);;){if(f){if(!(l=l.times(h)).c)break;o?l.c.length>o&&(l.c.length=o):n&&(l=l.mod(t))}if(i){if(0===(i=Fb(i/2)))break;f=i%2}else if(E(e=e.times(r),e.e+1,1),e.e>14)f=nw(e);else{if(0===(i=+A(e)))break;f=i%2}h=h.times(h),o?h.c&&h.c.length>o&&(h.c.length=o):n&&(h=h.mod(t))}return n?l:(c&&(l=s.div(l)),t?l.mod(t):o?E(l,g,u,undefined):l)},o.integerValue=function(e){var t=new w(this);return null==e?e=u:rw(e,0,8),E(t,t.e+1,e)},o.isEqualTo=o.eq=function(e,t){return 0===tw(this,new w(e,t))},o.isFinite=function(){return!!this.c},o.isGreaterThan=o.gt=function(e,t){return tw(this,new w(e,t))>0},o.isGreaterThanOrEqualTo=o.gte=function(e,t){return 1===(t=tw(this,new w(e,t)))||0===t},o.isInteger=function(){return!!this.c&&Qb(this.e/Gb)>this.c.length-2},o.isLessThan=o.lt=function(e,t){return tw(this,new w(e,t))<0},o.isLessThanOrEqualTo=o.lte=function(e,t){return-1===(t=tw(this,new w(e,t)))||0===t},o.isNaN=function(){return!this.s},o.isNegative=function(){return this.s<0},o.isPositive=function(){return this.s>0},o.isZero=function(){return!!this.c&&0==this.c[0]},o.minus=function(e,t){var r,n,i,o,s=this,a=s.s;if(t=(e=new w(e,t)).s,!a||!t)return new w(NaN);if(a!=t)return e.s=-t,s.plus(e);var c=s.e/Gb,f=e.e/Gb,l=s.c,h=e.c;if(!c||!f){if(!l||!h)return l?(e.s=-t,e):new w(h?s:NaN);if(!l[0]||!h[0])return h[0]?(e.s=-t,e):new w(l[0]?s:3==u?-0:0)}if(c=Qb(c),f=Qb(f),l=l.slice(),a=c-f){for((o=a<0)?(a=-a,i=l):(f=c,i=h),i.reverse(),t=a;t--;i.push(0));i.reverse()}else for(n=(o=(a=l.length)<(t=h.length))?a:t,a=t=0;t<n;t++)if(l[t]!=h[t]){o=l[t]<h[t];break}if(o&&(i=l,l=h,h=i,e.s=-e.s),(t=(n=h.length)-(r=l.length))>0)for(;t--;l[r++]=0);for(t=Vb-1;n>a;){if(l[--n]<h[n]){for(r=n;r&&!l[--r];l[r]=t);--l[r],l[n]+=Vb}l[n]-=h[n]}for(;0==l[0];l.splice(0,1),--f);return l[0]?S(e,l,f):(e.s=3==u?-1:1,e.c=[e.e=0],e)},o.modulo=o.mod=function(e,t){var n,i,o=this;return e=new w(e,t),!o.c||!e.s||e.c&&!e.c[0]?new w(NaN):!e.c||o.c&&!o.c[0]?new w(o):(9==p?(i=e.s,e.s=1,n=r(o,e,0,3),e.s=i,n.s*=i):n=r(o,e,0,p),(e=o.minus(n.times(e))).c[0]||1!=p||(e.s=o.s),e)},o.multipliedBy=o.times=function(e,t){var r,n,i,o,s,a,u,c,f,l,h,d,p,g,y,m=this,b=m.c,v=(e=new w(e,t)).c;if(!b||!v||!b[0]||!v[0])return!m.s||!e.s||b&&!b[0]&&!v||v&&!v[0]&&!b?e.c=e.e=e.s=null:(e.s*=m.s,b&&v?(e.c=[0],e.e=0):e.c=e.e=null),e;for(n=Qb(m.e/Gb)+Qb(e.e/Gb),e.s*=m.s,(u=b.length)<(l=v.length)&&(p=b,b=v,v=p,i=u,u=l,l=i),i=u+l,p=[];i--;p.push(0));for(g=Vb,y=Xb,i=l;--i>=0;){for(r=0,h=v[i]%y,d=v[i]/y|0,o=i+(s=u);o>i;)r=((c=h*(c=b[--s]%y)+(a=d*c+(f=b[s]/y|0)*h)%y*y+p[o]+r)/g|0)+(a/y|0)+d*f,p[o--]=c%g;p[o]=r}return r?++n:p.splice(0,1),S(e,p,n)},o.negated=function(){var e=new w(this);return e.s=-e.s||null,e},o.plus=function(e,t){var r,n=this,i=n.s;if(t=(e=new w(e,t)).s,!i||!t)return new w(NaN);if(i!=t)return e.s=-t,n.minus(e);var o=n.e/Gb,s=e.e/Gb,a=n.c,u=e.c;if(!o||!s){if(!a||!u)return new w(i/0);if(!a[0]||!u[0])return u[0]?e:new w(a[0]?n:0*i)}if(o=Qb(o),s=Qb(s),a=a.slice(),i=o-s){for(i>0?(s=o,r=u):(i=-i,r=a),r.reverse();i--;r.push(0));r.reverse()}for((i=a.length)-(t=u.length)<0&&(r=u,u=a,a=r,t=i),i=0;t;)i=(a[--t]=a[t]+u[t]+i)/Vb|0,a[t]=Vb===a[t]?0:a[t]%Vb;return i&&(a=[i].concat(a),++s),S(e,a,s)},o.precision=o.sd=function(e,t){var r,n,i,o=this;if(null!=e&&e!==!!e)return rw(e,1,Yb),null==t?t=u:rw(t,0,8),E(new w(o),e,t);if(!(r=o.c))return null;if(n=(i=r.length-1)*Gb+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return e&&o.e+1>n&&(n=o.e+1),n},o.shiftedBy=function(e){return rw(e,-9007199254740991,Zb),this.times("1e"+e)},o.squareRoot=o.sqrt=function(){var e,t,n,i,o,s=this,c=s.c,f=s.s,l=s.e,h=a+4,d=new w("0.5");if(1!==f||!c||!c[0])return new w(!f||f<0&&(!c||c[0])?NaN:c?s:1/0);if(0==(f=Math.sqrt(+A(s)))||f==1/0?(((t=ew(c)).length+l)%2==0&&(t+="0"),f=Math.sqrt(+t),l=Qb((l+1)/2)-(l<0||l%2),n=new w(t=f==1/0?"5e"+l:(t=f.toExponential()).slice(0,t.indexOf("e")+1)+l)):n=new w(f+""),n.c[0])for((f=(l=n.e)+h)<3&&(f=0);;)if(o=n,n=d.times(o.plus(r(s,o,h,1))),ew(o.c).slice(0,f)===(t=ew(n.c)).slice(0,f)){if(n.e<l&&--f,"9999"!=(t=t.slice(f-3,f+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(E(n,n.e+a+2,1),e=!n.times(n).eq(s));break}if(!i&&(E(o,o.e+a+2,0),o.times(o).eq(s))){n=o;break}h+=4,f+=4,i=1}return E(n,n.e+a+1,u,e)},o.toExponential=function(e,t){return null!=e&&(rw(e,0,Yb),e++),v(this,e,t,1)},o.toFixed=function(e,t){return null!=e&&(rw(e,0,Yb),e=e+this.e+1),v(this,e,t)},o.toFormat=function(e,t,r){var n,i=this;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=y;else if("object"!=typeof r)throw Error(Wb+"Argument not an object: "+r);if(n=i.toFixed(e,t),i.c){var o,s=n.split("."),a=+r.groupSize,u=+r.secondaryGroupSize,c=r.groupSeparator||"",f=s[0],l=s[1],h=i.s<0,d=h?f.slice(1):f,p=d.length;if(u&&(o=a,a=u,u=o,p-=o),a>0&&p>0){for(o=p%a||a,f=d.substr(0,o);o<p;o+=a)f+=c+d.substr(o,a);u>0&&(f+=c+d.slice(o)),h&&(f="-"+f)}n=l?f+(r.decimalSeparator||"")+((u=+r.fractionGroupSize)?l.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):l):f}return(r.prefix||"")+n+(r.suffix||"")},o.toFraction=function(e){var t,n,i,o,a,c,f,l,d,p,g,y,m=this,b=m.c;if(null!=e&&(!(f=new w(e)).isInteger()&&(f.c||1!==f.s)||f.lt(s)))throw Error(Wb+"Argument "+(f.isInteger()?"out of range: ":"not an integer: ")+A(f));if(!b)return new w(m);for(t=new w(s),d=n=new w(s),i=l=new w(s),y=ew(b),a=t.e=y.length-m.e-1,t.c[0]=Jb[(c=a%Gb)<0?Gb+c:c],e=!e||f.comparedTo(t)>0?a>0?t:d:f,c=h,h=1/0,f=new w(y),l.c[0]=0;p=r(f,t,0,1),1!=(o=n.plus(p.times(i))).comparedTo(e);)n=i,i=o,d=l.plus(p.times(o=d)),l=o,t=f.minus(p.times(o=t)),f=o;return o=r(e.minus(n),i,0,1),l=l.plus(o.times(d)),n=n.plus(o.times(i)),l.s=d.s=m.s,g=r(d,i,a*=2,u).minus(m).abs().comparedTo(r(l,n,a,u).minus(m).abs())<1?[d,i]:[l,n],h=c,g},o.toNumber=function(){return+A(this)},o.toPrecision=function(e,t){return null!=e&&rw(e,1,Yb),v(this,e,t,2)},o.toString=function(e){var t,r=this,i=r.s,o=r.e;return null===o?i?(t="Infinity",i<0&&(t="-"+t)):t="NaN":(null==e?t=o<=c||o>=f?iw(ew(r.c),o):ow(ew(r.c),o,"0"):10===e&&b?t=ow(ew((r=E(new w(r),a+o+1,u)).c),r.e,"0"):(rw(e,2,m.length,"Base"),t=n(ow(ew(r.c),o,"0"),10,e,i,!0)),i<0&&r.c[0]&&(t="-"+t)),t},o.valueOf=o.toJSON=function(){return A(this)},o._isBigNumber=!0,o[Symbol.toStringTag]="BigNumber",o[Symbol.for("nodejs.util.inspect.custom")]=o.valueOf,null!=t&&w.set(t),w}();new sw(10).exponentiatedBy(8);var aw=r("Dp+g").Buffer;function uw(e){var t=fb.eL.sha256,r=t(aw.from("BIP0322-signed-message"));return t(aw.concat([r,r,aw.from(e)])).toString("hex")}function cw(e){return fw.apply(this,arguments)}function fw(){return fw=i(s().mark((function e(t){var r,n,o,a,u,c,f,l,h,d,p,g,y,m,b,w,v,_,S,E;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v=function(e){return aw.concat([(0,gb.encode)(e.byteLength),e])},r=t.message,n=t.address,o=t.pubKey,a=t.originPubKey,u=t.networkType,c=t.bitcoinNetworkId,f=t.signData,l=Rb(n,u),h=Lb(n),!1!==[db.P2WPKH,db.P2TR,db.M44_P2WPKH,db.M44_P2TR].includes(h)){e.next=7;break}throw new Error("Not support address type to sign");case 7:return d=aw.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),p=aw.concat([aw.from("0020","hex"),aw.from(uw(r),"hex")]),(g=new fb.YW).version=0,g.addInput(d,4294967295,0,p),g.addOutput(l,0),(y=new fb._B).setVersion(0),y.addInput({hash:g.getHash(),index:0,sequence:0,witnessUtxo:{script:l,value:0}}),y.addOutput({script:aw.from("6a","hex"),value:0}),m=jb(y,o,n,u).toSignInputs,b=function(){var e=i(s().mark((function e(){var t=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.unisat._previewMessage(r);case 2:return e.abrupt("return",f.apply(self,t));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),e.next=23,Db(y,o,a,c,b,2,1,void 0,{network:c,from:n,inputData:y.toHex()},{autoFinalized:!0},m);case 23:return w=y.extractTransaction(),_=(0,gb.encode)(w.ins[0].witness.length),S=aw.concat([_].concat(hb(w.ins[0].witness.map((function(e){return v(e)}))))),E=S.toString("base64"),e.abrupt("return",E);case 29:case"end":return e.stop()}}),e)}))),fw.apply(this,arguments)}var lw=function(){var e=i(s().mark((function e(t,r,n,i,o,a){var u,c,f,l,h,d,p,g;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.unisat._requestBinanceChainIdAndNetworkId.bind(window.unisat)(window.unisat._connectedChainId);case 2:return u=e.sent,c=u.binanceChainId,f=u.networkId,console.log("messageForRisk:",a),l=window.unisat._connectedAddress,h={signData:t.data.images.map((function(e){return{address:l,data:e.data,binanceChainId:c,signMethod:r,disableTweak:e.disableTweak||!1}})),messageForRisk:{network:f,from:l},totalSignTimes:n,currentTime:i,token:o},e.next=10,window.unisat._requestSignFullNative.bind(window.unisat)(h);case 10:return d=e.sent,p=d.result,g=d.token,e.abrupt("return",{result:p,token:g});case 14:case"end":return e.stop()}}),e)})));return function(t,r,n,i,o,s){return e.apply(this,arguments)}}(),hw=function(){function e(){g(this,e)}return X(e,[{key:"signPsbt",value:function(e,t,r,n,o,a){var u=this;return i(s().mark((function c(){var f,l,h,d,p,g,y,m;return s().wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,window.unisat._requestTweakedPubkey();case 2:return f=c.sent,c.next=5,window.unisat._requestOriginPubkey();case 5:return l=c.sent,c.next=8,window.unisat.getPublicKey();case 8:return h=c.sent,d=jb(e,h,t,n,a),p=d.toSignInputs,g=d.opts,y=u,m=function(){var e=i(s().mark((function e(){var t=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.unisat._request(ie.bip122PreviewTx,o);case 2:return e.abrupt("return",y.signData.apply(y,t));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c.next=14,Db(e,f,l,r,m,p.length+1,1,void 0,{network:r,from:t,inputData:e.toHex()},g,p);case 14:return c.abrupt("return",e);case 15:case"end":return c.stop()}}),c)})))()}},{key:"getPublicKey",value:function(){return window.unisat.getPublicKey()}},{key:"signPsbts",value:function(e,t,r,n,o){var a=this;return i(s().mark((function i(){var u,c,f,l,h,d,p,g,y,m;return s().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,window.unisat._requestTweakedPubkey();case 2:return u=i.sent,i.next=5,window.unisat._requestOriginPubkey();case 5:c=i.sent,f=void 0,l=1,h=e.map((function(e,r){var i=o?o[r]:void 0,s=jb(e,u,t,n,i);return{toSignInputs:s.toSignInputs,formattedOpts:s.opts}})),d=h.reduce((function(e,t){return e+t.toSignInputs.length}),e.length),p=0;case 11:if(!(p<e.length)){i.next=22;break}return i.next=14,Db(e[p],u,c,r,a.signData,d,l,f,h[p].formattedOpts,h[p].toSignInputs);case 14:g=i.sent,y=g.token,m=g.currentTimes,f=y,l=m;case 19:p++,i.next=11;break;case 22:return i.abrupt("return",e);case 23:case"end":return i.stop()}}),i)})))()}},{key:"parsePsbt",value:function(e,t,r){return i(s().mark((function n(){var i;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,window.unisat._requestTweakedPubkey();case 2:return i=n.sent,n.next=5,qb(e,t,r,i);case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n)})))()}},{key:"signMessage",value:function(e,t,r,n,o){var a=this;return i(s().mark((function i(){var u,c,f;return s().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if("bip322-simple"!==t){i.next=12;break}return i.next=3,window.unisat._requestTweakedPubkey();case 3:return u=i.sent,i.next=6,window.unisat._requestOriginPubkey();case 6:return c=i.sent,i.next=9,cw({message:e,address:r,originPubKey:c,pubKey:u,networkType:o,bitcoinNetworkId:n,signData:a.signData});case 9:case 17:return i.abrupt("return",i.sent);case 12:return f=xb(e).toString("hex"),i.next=15,window.unisat._previewMessage(e);case 15:return i.next=17,Tb(f,n,a.signData);case 18:case"end":return i.stop()}}),i)})))()}},{key:"signData",value:function(e,t,r,n,o,a){return i(s().mark((function i(){return s().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,lw(e,t,r,n,o,a);case 2:return i.abrupt("return",i.sent);case 3:case"end":return i.stop()}}),i)})))()}}]),e}();new hw,r("Dp+g").Buffer;const dw=BigInt(0),pw=BigInt(1),gw=BigInt(2),yw=BigInt(8),mw={zip215:!0};function bw(e){const t=function(e){const t=Bl(e);return Qf(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}(e),{Fp:r,n:n,prehash:i,hash:o,randomBytes:s,nByteLength:a,h:u}=t,c=gw<<BigInt(8*a)-pw,f=r.create,l=yl(t.n,t.nBitLength),h=t.uvRatio||((e,t)=>{try{return{isValid:!0,value:r.sqrt(e*r.inv(t))}}catch(tp){return{isValid:!1,value:dw}}}),d=t.adjustScalarBytes||(e=>e),p=t.domain||((e,t,r)=>{if(xf("phflag",r),t.length||r)throw new Error("Contexts/pre-hash are not supported");return e});function g(e,t){Ff("coordinate "+e,t,dw,c)}function y(e){if(!(e instanceof w))throw new Error("ExtendedPoint expected")}const m=tl(((e,t)=>{const{ex:n,ey:i,ez:o}=e,s=e.is0();null==t&&(t=s?yw:r.inv(o));const a=f(n*t),u=f(i*t),c=f(o*t);if(s)return{x:dw,y:pw};if(c!==pw)throw new Error("invZ was invalid");return{x:a,y:u}})),b=tl((e=>{const{a:r,d:n}=t;if(e.is0())throw new Error("bad point: ZERO");const{ex:i,ey:o,ez:s,et:a}=e,u=f(i*i),c=f(o*o),l=f(s*s),h=f(l*l),d=f(u*r);if(f(l*f(d+c))!==f(h+f(n*f(u*c))))throw new Error("bad point: equation left != right (1)");if(f(i*o)!==f(s*a))throw new Error("bad point: equation left != right (2)");return!0}));class w{constructor(e,t,r,n){this.ex=e,this.ey=t,this.ez=r,this.et=n,g("x",e),g("y",t),g("z",r),g("t",n),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(e){if(e instanceof w)throw new Error("extended point not allowed");const{x:t,y:r}=e||{};return g("x",t),g("y",r),new w(t,r,pw,f(t*r))}static normalizeZ(e){const t=r.invertBatch(e.map((e=>e.ez)));return e.map(((e,r)=>e.toAffine(t[r]))).map(w.fromAffine)}static msm(e,t){return Pl(w,l,e,t)}_setWindowSize(e){S.setWindowSize(this,e)}assertValidity(){b(this)}equals(e){y(e);const{ex:t,ey:r,ez:n}=this,{ex:i,ey:o,ez:s}=e,a=f(t*s),u=f(i*n),c=f(r*s),l=f(o*n);return a===u&&c===l}is0(){return this.equals(w.ZERO)}negate(){return new w(f(-this.ex),this.ey,this.ez,f(-this.et))}double(){const{a:e}=t,{ex:r,ey:n,ez:i}=this,o=f(r*r),s=f(n*n),a=f(gw*f(i*i)),u=f(e*o),c=r+n,l=f(f(c*c)-o-s),h=u+s,d=h-a,p=u-s,g=f(l*d),y=f(h*p),m=f(l*p),b=f(d*h);return new w(g,y,b,m)}add(e){y(e);const{a:r,d:n}=t,{ex:i,ey:o,ez:s,et:a}=this,{ex:u,ey:c,ez:l,et:h}=e;if(r===BigInt(-1)){const e=f((o-i)*(c+u)),t=f((o+i)*(c-u)),r=f(t-e);if(r===dw)return this.double();const n=f(s*gw*h),d=f(a*gw*l),p=d+n,g=t+e,y=d-n,m=f(p*r),b=f(g*y),v=f(p*y),_=f(r*g);return new w(m,b,_,v)}const d=f(i*u),p=f(o*c),g=f(a*n*h),m=f(s*l),b=f((i+o)*(u+c)-d-p),v=m-g,_=m+g,S=f(p-r*d),E=f(b*v),A=f(_*S),x=f(b*S),k=f(v*_);return new w(E,A,k,x)}subtract(e){return this.add(e.negate())}wNAF(e){return S.wNAFCached(this,e,w.normalizeZ)}multiply(e){const t=e;Ff("scalar",t,pw,n);const{p:r,f:i}=this.wNAF(t);return w.normalizeZ([r,i])[0]}multiplyUnsafe(e,t=w.ZERO){const r=e;return Ff("scalar",r,dw,n),r===dw?_:this.is0()||r===pw?this:S.wNAFCachedUnsafe(this,r,w.normalizeZ,t)}isSmallOrder(){return this.multiplyUnsafe(u).is0()}isTorsionFree(){return S.unsafeLadder(this,n).is0()}toAffine(e){return m(this,e)}clearCofactor(){const{h:e}=t;return e===pw?this:this.multiplyUnsafe(e)}static fromHex(e,n=!1){const{d:i,a:o}=t,s=r.BYTES;e=zf("pointHex",e,s),xf("zip215",n);const a=e.slice(),u=e[s-1];a[s-1]=-129&u;const l=Uf(a),d=n?c:r.ORDER;Ff("pointHex.y",l,dw,d);const p=f(l*l),g=f(p-pw),y=f(i*p-o);let{isValid:m,value:b}=h(g,y);if(!m)throw new Error("Point.fromHex: invalid y coordinate");const v=(b&pw)===pw,_=0!==(128&u);if(!n&&b===dw&&_)throw new Error("Point.fromHex: x=0 and x_0=1");return _!==v&&(b=f(-b)),w.fromAffine({x:b,y:l})}static fromPrivateKey(e){return x(e).point}toRawBytes(){const{x:e,y:t}=this.toAffine(),n=Rf(t,r.BYTES);return n[n.length-1]|=e&pw?128:0,n}toHex(){return Tf(this.toRawBytes())}}w.BASE=new w(t.Gx,t.Gy,pw,f(t.Gx*t.Gy)),w.ZERO=new w(dw,pw,pw,dw);const{BASE:v,ZERO:_}=w,S=Ml(w,8*a);function E(e){return cl(e,n)}function A(e){return E(Uf(e))}function x(e){const t=r.BYTES;e=zf("private key",e,t);const n=zf("hashed private key",o(e),2*t),i=d(n.slice(0,t)),s=n.slice(t,2*t),a=A(i),u=v.multiply(a),c=u.toRawBytes();return{head:i,prefix:s,scalar:a,point:u,pointBytes:c}}function k(e=new Uint8Array,...t){const r=jf(...t);return A(o(p(r,zf("context",e),!!i)))}const T=mw;v._setWindowSize(8);return{CURVE:t,getPublicKey:function(e){return x(e).pointBytes},sign:function(e,t,o={}){e=zf("message",e),i&&(e=i(e));const{prefix:s,scalar:a,pointBytes:u}=x(t),c=k(o.context,s,e),f=v.multiply(c).toRawBytes(),l=E(c+k(o.context,f,u,e)*a);return Ff("signature.s",l,dw,n),zf("result",jf(f,Rf(l,r.BYTES)),2*r.BYTES)},verify:function(e,t,n,o=T){const{context:s,zip215:a}=o,u=r.BYTES;e=zf("signature",e,2*u),t=zf("message",t),n=zf("publicKey",n,u),void 0!==a&&xf("zip215",a),i&&(t=i(t));const c=Uf(e.slice(u,2*u));let f,l,h;try{f=w.fromHex(n,a),l=w.fromHex(e.slice(0,u),a),h=v.multiplyUnsafe(c)}catch(p){return!1}if(!a&&f.isSmallOrder())return!1;const d=k(s,l.toRawBytes(),f.toRawBytes(),t);return l.add(f.multiplyUnsafe(d)).subtract(h).clearCofactor().equals(w.ZERO)},ExtendedPoint:w,utils:{getExtendedPublicKey:x,randomPrivateKey:()=>s(r.BYTES),precompute:(e=8,t=w.BASE)=>(t._setWindowSize(e),t.multiply(BigInt(3)),t)}}}const ww=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),vw=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),_w=(BigInt(0),BigInt(1)),Sw=BigInt(2),Ew=(BigInt(3),BigInt(5)),Aw=BigInt(8);function xw(e){const t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),o=ww,s=e*e%o*e%o,a=ll(s,Sw,o)*s%o,u=ll(a,_w,o)*e%o,c=ll(u,Ew,o)*u%o,f=ll(c,t,o)*c%o,l=ll(f,r,o)*f%o,h=ll(l,n,o)*l%o,d=ll(h,i,o)*h%o,p=ll(d,i,o)*h%o,g=ll(p,t,o)*c%o;return{pow_p_5_8:ll(g,Sw,o)*e%o,b2:s}}function kw(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function Tw(e,t){const r=ww,n=cl(t*t*t,r),i=cl(n*n*t,r);let o=cl(e*n*xw(e*i).pow_p_5_8,r);const s=cl(t*o*o,r),a=o,u=cl(o*vw,r),c=s===e,f=s===cl(-e,r),l=s===cl(-e*vw,r);return c&&(o=a),(f||l)&&(o=u),((e,t)=>(cl(e,t)&nl)===nl)(o,r)&&(o=cl(-o,r)),{isValid:c||f,value:o}}const Iw=(()=>yl(ww,void 0,!0))(),Mw=(()=>({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Iw,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Aw,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:ps,randomBytes:Jo,adjustScalarBytes:kw,uvRatio:Tw}))(),Pw=(()=>bw(Mw))();var Bw=r("ADGY"),Ow=r.n(Bw),Cw=r("1YSi"),Uw=r.n(Cw);const Nw=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Rw=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Lw=new Uint32Array(64);class zw extends xs{constructor(){super(64,32,8,!1),this.A=0|Rw[0],this.B=0|Rw[1],this.C=0|Rw[2],this.D=0|Rw[3],this.E=0|Rw[4],this.F=0|Rw[5],this.G=0|Rw[6],this.H=0|Rw[7]}get(){const{A:e,B:t,C:r,D:n,E:i,F:o,G:s,H:a}=this;return[e,t,r,n,i,o,s,a]}set(e,t,r,n,i,o,s,a){this.A=0|e,this.B=0|t,this.C=0|r,this.D=0|n,this.E=0|i,this.F=0|o,this.G=0|s,this.H=0|a}process(e,t){for(let f=0;f<16;f++,t+=4)Lw[f]=e.getUint32(t,!1);for(let f=16;f<64;f++){const e=Lw[f-15],t=Lw[f-2],r=Pi(e,7)^Pi(e,18)^e>>>3,n=Pi(t,17)^Pi(t,19)^t>>>10;Lw[f]=n+Lw[f-7]+r+Lw[f-16]|0}let{A:r,B:n,C:i,D:o,E:s,F:a,G:u,H:c}=this;for(let f=0;f<64;f++){const e=c+(Pi(s,6)^Pi(s,11)^Pi(s,25))+Es(s,a,u)+Nw[f]+Lw[f]|0,t=(Pi(r,2)^Pi(r,13)^Pi(r,22))+As(r,n,i)|0;c=u,u=a,a=s,s=o+e|0,o=i,i=n,n=r,r=e+t|0}r=r+this.A|0,n=n+this.B|0,i=i+this.C|0,o=o+this.D|0,s=s+this.E|0,a=a+this.F|0,u=u+this.G|0,c=c+this.H|0,this.set(r,n,i,o,s,a,u,c)}roundClean(){Lw.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const jw=Vi((()=>new zw));var Dw=r("RMeF"),qw=r("yCyo"),Kw=r("GRMR");class Hw extends TypeError{constructor(e,t){let r;const{message:n,explanation:i,...o}=e,{path:s}=e,a=0===s.length?n:`At path: ${s.join(".")} -- ${n}`;super(i??a),null!=i&&(this.cause=a),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...t()])}}function Fw(e){return"object"===typeof e&&null!=e}function Ww(e){return Fw(e)&&!Array.isArray(e)}function $w(e){return"symbol"===typeof e?e.toString():"string"===typeof e?JSON.stringify(e):`${e}`}function Vw(e,t,r,n){if(!0===e)return;!1===e?e={}:"string"===typeof e&&(e={message:e});const{path:i,branch:o}=t,{type:s}=r,{refinement:a,message:u=`Expected a value of type \`${s}\`${a?` with refinement \`${a}\``:""}, but received: \`${$w(n)}\``}=e;return{value:n,type:s,refinement:a,key:i[i.length-1],path:i,branch:o,...e,message:u}}function*Gw(e,t,r,n){(function(e){return Fw(e)&&"function"===typeof e[Symbol.iterator]})(e)||(e=[e]);for(const i of e){const e=Vw(i,t,r,n);e&&(yield e)}}function*Zw(e,t,r={}){const{path:n=[],branch:i=[e],coerce:o=!1,mask:s=!1}=r,a={path:n,branch:i,mask:s};o&&(e=t.coercer(e,a));let u="valid";for(const c of t.validator(e,a))c.explanation=r.message,u="not_valid",yield[c,void 0];for(let[c,f,l]of t.entries(e,a)){const t=Zw(f,l,{path:void 0===c?n:[...n,c],branch:void 0===c?i:[...i,f],coerce:o,mask:s,message:r.message});for(const r of t)r[0]?(u=null!=r[0].refinement?"not_refined":"not_valid",yield[r[0],void 0]):o&&(f=r[1],void 0===c?e=f:e instanceof Map?e.set(c,f):e instanceof Set?e.add(f):Fw(e)&&(void 0!==f||c in e)&&(e[c]=f))}if("not_valid"!==u)for(const c of t.refiner(e,a))c.explanation=r.message,u="not_refined",yield[c,void 0];"valid"===u&&(yield[void 0,e])}class Jw{constructor(e){const{type:t,schema:r,validator:n,refiner:i,coercer:o=e=>e,entries:s=function*(){}}=e;this.type=t,this.schema=r,this.entries=s,this.coercer=o,this.validator=n?(e,t)=>Gw(n(e,t),t,this,e):()=>[],this.refiner=i?(e,t)=>Gw(i(e,t),t,this,e):()=>[]}assert(e,t){return function(e,t,r){const n=Qw(e,t,{message:r});if(n[0])throw n[0]}(e,this,t)}create(e,t){return Xw(e,this,t)}is(e){return Yw(e,this)}mask(e,t){return function(e,t,r){const n=Qw(e,t,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}(e,this,t)}validate(e,t={}){return Qw(e,this,t)}}function Xw(e,t,r){const n=Qw(e,t,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function Yw(e,t){return!Qw(e,t)[0]}function Qw(e,t,r={}){const n=Zw(e,t,r),i=function(e){const{done:t,value:r}=e.next();return t?void 0:r}(n);if(i[0]){const e=new Hw(i[0],(function*(){for(const e of n)e[0]&&(yield e[0])}));return[e,void 0]}return[void 0,i[1]]}function ev(e,t){return new Jw({type:e,schema:null,validator:t})}function tv(e){return new Jw({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[r,n]of t.entries())yield[r,n,e]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${$w(e)}`})}function rv(){return ev("boolean",(e=>"boolean"===typeof e))}function nv(e){return ev("instance",(t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${$w(t)}`))}function iv(e){const t=$w(e),r=typeof e;return new Jw({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?e:null,validator:r=>r===e||`Expected the literal \`${t}\`, but received: ${$w(r)}`})}function ov(){return ev("never",(()=>!1))}function sv(e){return new Jw({...e,validator:(t,r)=>null===t||e.validator(t,r),refiner:(t,r)=>null===t||e.refiner(t,r)})}function av(){return ev("number",(e=>"number"===typeof e&&!isNaN(e)||`Expected a number, but received: ${$w(e)}`))}function uv(e){return new Jw({...e,validator:(t,r)=>void 0===t||e.validator(t,r),refiner:(t,r)=>void 0===t||e.refiner(t,r)})}function cv(e,t){return new Jw({type:"record",schema:null,*entries(r){if(Fw(r))for(const n in r){const i=r[n];yield[n,n,e],yield[n,i,t]}},validator:e=>Ww(e)||`Expected an object, but received: ${$w(e)}`,coercer:e=>Ww(e)?{...e}:e})}function fv(){return ev("string",(e=>"string"===typeof e||`Expected a string, but received: ${$w(e)}`))}function lv(e){const t=ov();return new Jw({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(e.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],e[i]||t]}},validator:e=>Array.isArray(e)||`Expected an array, but received: ${$w(e)}`,coercer:e=>Array.isArray(e)?e.slice():e})}function hv(e){const t=Object.keys(e);return new Jw({type:"type",schema:e,*entries(r){if(Fw(r))for(const n of t)yield[n,r[n],e[n]]},validator:e=>Ww(e)||`Expected an object, but received: ${$w(e)}`,coercer:e=>Ww(e)?{...e}:e})}function dv(e){const t=e.map((e=>e.type)).join(" | ");return new Jw({type:"union",schema:null,coercer(t,r){for(const n of e){const[e,i]=n.validate(t,{coerce:!0,mask:r.mask});if(!e)return i}return t},validator(r,n){const i=[];for(const t of e){const[...e]=Zw(r,t,n),[o]=e;if(!o[0])return[];for(const[t]of e)t&&i.push(t)}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${$w(r)}`,...i]}})}function pv(){return ev("unknown",(()=>!0))}function gv(e,t,r){return new Jw({...e,coercer:(n,i)=>Yw(n,t)?e.coercer(r(n,i),i):e.coercer(n,i)})}var yv=r("xUCB"),mv=r.n(yv),bv=class extends Q{socket;constructor(e,t,r){super(),this.socket=new window.WebSocket(e,r),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=e=>this.emit("message",e.data),this.socket.onerror=e=>this.emit("error",e),this.socket.onclose=e=>{this.emit("close",e.code,e.reason)}}send(e,t,r){const n=r||t;try{this.socket.send(e),n()}catch(i){n(i)}}close(e,t){this.socket.close(e,t)}addEventListener(e,t,r){this.socket.addEventListener(e,t,r)}};function wv(e,t){return new bv(e,t)}var vv=class{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}},_v=class extends Q{address;rpc_id;queue;options;autoconnect;ready;reconnect;reconnect_timer_id;reconnect_interval;max_reconnects;rest_options;current_reconnects;generate_request_id;socket;webSocketFactory;dataPack;constructor(e,t="ws://localhost:8080",{autoconnect:r=!0,reconnect:n=!0,reconnect_interval:i=1e3,max_reconnects:o=5,...s}={},a,u){super(),this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=t,this.autoconnect=r,this.ready=!1,this.reconnect=n,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=o,this.rest_options=s,this.current_reconnects=0,this.generate_request_id=a||(()=>"number"===typeof this.rpc_id?++this.rpc_id:Number(this.rpc_id)+1),this.dataPack=u||new vv,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,t,r,n){return n||"object"!==typeof r||(n=r,r=null),new Promise(((i,o)=>{if(!this.ready)return o(new Error("socket not ready"));const s=this.generate_request_id(e,t),a={jsonrpc:"2.0",method:e,params:t||void 0,id:s};this.socket.send(this.dataPack.encode(a),n,(e=>{if(e)return o(e);this.queue[s]={promise:[i,o]},r&&(this.queue[s].timeout=setTimeout((()=>{delete this.queue[s],o(new Error("reply timeout"))}),r))}))}))}async login(e){const t=await this.call("rpc.login",e);if(!t)throw new Error("authentication failed");return t}async listMethods(){return await this.call("__listMethods")}notify(e,t){return new Promise(((r,n)=>{if(!this.ready)return n(new Error("socket not ready"));const i={jsonrpc:"2.0",method:e,params:t};this.socket.send(this.dataPack.encode(i),(e=>{if(e)return n(e);r()}))}))}async subscribe(e){"string"===typeof e&&(e=[e]);const t=await this.call("rpc.on",e);if("string"===typeof e&&"ok"!==t[e])throw new Error("Failed subscribing to an event '"+e+"' with: "+t[e]);return t}async unsubscribe(e){"string"===typeof e&&(e=[e]);const t=await this.call("rpc.off",e);if("string"===typeof e&&"ok"!==t[e])throw new Error("Failed unsubscribing from an event with: "+t);return t}close(e,t){this.socket.close(e||1e3,t)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,t){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,t),this.socket.addEventListener("open",(()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0})),this.socket.addEventListener("message",(({data:e})=>{e instanceof ArrayBuffer&&(e=et.Buffer.from(e).toString());try{e=this.dataPack.decode(e)}catch(t){return}if(e.notification&&this.listeners(e.notification).length){if(!Object.keys(e.params).length)return this.emit(e.notification);const t=[e.notification];if(e.params.constructor===Object)t.push(e.params);else for(let r=0;r<e.params.length;r++)t.push(e.params[r]);return Promise.resolve().then((()=>{this.emit.apply(this,t)}))}if(!this.queue[e.id])return e.method?Promise.resolve().then((()=>{this.emit(e.method,e?.params)})):void 0;"error"in e==="result"in e&&this.queue[e.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[e.id].timeout&&clearTimeout(this.queue[e.id].timeout),e.error?this.queue[e.id].promise[1](e.error):this.queue[e.id].promise[0](e.result),delete this.queue[e.id]})),this.socket.addEventListener("error",(e=>this.emit("error",e))),this.socket.addEventListener("close",(({code:r,reason:n})=>{this.ready&&setTimeout((()=>this.emit("close",r,n)),0),this.ready=!1,this.socket=void 0,1e3!==r&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||0===this.max_reconnects)&&(this.reconnect_timer_id=setTimeout((()=>this._connect(e,t)),this.reconnect_interval)))}))}};Pw.utils.randomPrivateKey;const Sv=()=>{const e=Pw.utils.randomPrivateKey(),t=Ev(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),{publicKey:t,secretKey:r}},Ev=Pw.getPublicKey;function Av(e){try{return Pw.ExtendedPoint.fromHex(e),!0}catch{return!1}}const xv=(e,t)=>Pw.sign(e,t.slice(0,32)),kv=Pw.verify,Tv=e=>et.Buffer.isBuffer(e)?e:e instanceof Uint8Array?et.Buffer.from(e.buffer,e.byteOffset,e.byteLength):et.Buffer.from(e);class Iv{constructor(e){Object.assign(this,e)}encode(){return et.Buffer.from((0,Dw.serialize)(Mv,this))}static decode(e){return(0,Dw.deserialize)(Mv,this,e)}static decodeUnchecked(e){return(0,Dw.deserializeUnchecked)(Mv,this,e)}}const Mv=new Map;var Pv;const Bv=32;let Ov=1;class Cv extends Iv{constructor(e){if(super({}),this._bn=void 0,function(e){return void 0!==e._bn}(e))this._bn=e._bn;else{if("string"===typeof e){const t=Uw().decode(e);if(t.length!=Bv)throw new Error("Invalid public key input");this._bn=new(Ow())(t)}else this._bn=new(Ow())(e);if(this._bn.byteLength()>Bv)throw new Error("Invalid public key input")}}static unique(){const e=new Cv(Ov);return Ov+=1,new Cv(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return Uw().encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(et.Buffer);if(e.length===Bv)return e;const t=et.Buffer.alloc(32);return e.copy(t,32-e.length),t}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,t,r){const n=et.Buffer.concat([e.toBuffer(),et.Buffer.from(t),r.toBuffer()]),i=jw(n);return new Cv(i)}static createProgramAddressSync(e,t){let r=et.Buffer.alloc(0);e.forEach((function(e){if(e.length>32)throw new TypeError("Max seed length exceeded");r=et.Buffer.concat([r,Tv(e)])})),r=et.Buffer.concat([r,t.toBuffer(),et.Buffer.from("ProgramDerivedAddress")]);const n=jw(r);if(Av(n))throw new Error("Invalid seeds, address must fall off the curve");return new Cv(n)}static async createProgramAddress(e,t){return this.createProgramAddressSync(e,t)}static findProgramAddressSync(e,t){let r,n=255;for(;0!=n;){try{const i=e.concat(et.Buffer.from([n]));r=this.createProgramAddressSync(i,t)}catch(i){if(i instanceof TypeError)throw i;n--;continue}return[r,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,t){return this.findProgramAddressSync(e,t)}static isOnCurve(e){return Av(new Cv(e).toBytes())}}Pv=Cv,Cv.default=new Pv("11111111111111111111111111111111"),Mv.set(Cv,{kind:"struct",fields:[["_bn","u256"]]});new Cv("BPFLoader1111111111111111111111111111111111");const Uv=1232;class Nv extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Nv.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class Rv extends Error{constructor(e,t){super(`Transaction was not confirmed in ${t.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Rv.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Lv extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Lv.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class zv{constructor(e,t){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=t}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const t of this.keySegments()){if(e<t.length)return t[e];e-=t.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const t=new Map;this.keySegments().flat().forEach(((e,r)=>{t.set(e.toBase58(),r)}));const r=e=>{const r=t.get(e.toBase58());if(void 0===r)throw new Error("Encountered an unknown instruction account key during compilation");return r};return e.map((e=>({programIdIndex:r(e.programId),accountKeyIndexes:e.keys.map((e=>r(e.pubkey))),data:e.data})))}}const jv=(e="publicKey")=>qw.Ik(32,e),Dv=(e="signature")=>qw.Ik(64,e),qv=(e="string")=>{const t=qw.n_([qw.Jq("length"),qw.Jq("lengthPadding"),qw.Ik(qw.cv(qw.Jq(),-8),"chars")],e),r=t.decode.bind(t),n=t.encode.bind(t),i=t;return i.decode=(e,t)=>r(e,t).chars.toString(),i.encode=(e,t,r)=>{const i={chars:et.Buffer.from(e,"utf8")};return n(i,t,r)},i.alloc=e=>qw.Jq().span+qw.Jq().span+et.Buffer.from(e,"utf8").length,i};function Kv(e,t){const r=e=>{if(e.span>=0)return e.span;if("function"===typeof e.alloc)return e.alloc(t[e.property]);if("count"in e&&"elementLayout"in e){const n=t[e.property];if(Array.isArray(n))return n.length*r(e.elementLayout)}else if("fields"in e)return Kv({layout:e},t[e.property]);return 0};let n=0;return e.layout.fields.forEach((e=>{n+=r(e)})),n}function Hv(e){let t=0,r=0;for(;;){let n=e.shift();if(t|=(127&n)<<7*r,r+=1,0===(128&n))break}return t}function Fv(e,t){let r=t;for(;;){let t=127&r;if(r>>=7,0==r){e.push(t);break}t|=128,e.push(t)}}function Wv(e,t){if(!e)throw new Error(t||"Assertion failed")}class $v{constructor(e,t){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=t}static compile(e,t){const r=new Map,n=e=>{const t=e.toBase58();let n=r.get(t);return void 0===n&&(n={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(t,n)),n},i=n(t);i.isSigner=!0,i.isWritable=!0;for(const o of e){n(o.programId).isInvoked=!0;for(const e of o.keys){const t=n(e.pubkey);t.isSigner||=e.isSigner,t.isWritable||=e.isWritable}}return new $v(t,r)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];Wv(e.length<=256,"Max static account keys length exceeded");const t=e.filter((([,e])=>e.isSigner&&e.isWritable)),r=e.filter((([,e])=>e.isSigner&&!e.isWritable)),n=e.filter((([,e])=>!e.isSigner&&e.isWritable)),i=e.filter((([,e])=>!e.isSigner&&!e.isWritable)),o={numRequiredSignatures:t.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{Wv(t.length>0,"Expected at least one writable signer key");const[e]=t[0];Wv(e===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}return[o,[...t.map((([e])=>new Cv(e))),...r.map((([e])=>new Cv(e))),...n.map((([e])=>new Cv(e))),...i.map((([e])=>new Cv(e)))]]}extractTableLookup(e){const[t,r]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&e.isWritable)),[n,i]=this.drainKeysFoundInLookupTable(e.state.addresses,(e=>!e.isSigner&&!e.isInvoked&&!e.isWritable));if(0!==t.length||0!==n.length)return[{accountKey:e.key,writableIndexes:t,readonlyIndexes:n},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(e,t){const r=new Array,n=new Array;for(const[i,o]of this.keyMetaMap.entries())if(t(o)){const t=new Cv(i),o=e.findIndex((e=>e.equals(t)));o>=0&&(Wv(o<256,"Max lookup table index exceeded"),r.push(o),n.push(t),this.keyMetaMap.delete(i))}return[r,n]}}const Vv="Reached end of buffer unexpectedly";function Gv(e){if(0===e.length)throw new Error(Vv);return e.shift()}function Zv(e,...t){const[r]=t;if(2===t.length?r+(t[1]??0)>e.length:r>=e.length)throw new Error(Vv);return e.splice(...t)}class Jv{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map((e=>new Cv(e))),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach((e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex])))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map((e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Uw().decode(e.data)})))}get addressTableLookups(){return[]}getAccountKeys(){return new zv(this.staticAccountKeys)}static compile(e){const t=$v.compile(e.instructions,e.payerKey),[r,n]=t.getMessageComponents(),i=new zv(n).compileInstructions(e.instructions).map((e=>({programIdIndex:e.programIdIndex,accounts:e.accountKeyIndexes,data:Uw().encode(e.data)})));return new Jv({header:r,accountKeys:n,recentBlockhash:e.recentBlockhash,instructions:i})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){return e-t<this.accountKeys.length-t-this.header.numReadonlyUnsignedAccounts}return e<t-this.header.numReadonlySignedAccounts}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((e,t)=>!this.isProgramId(t)))}serialize(){const e=this.accountKeys.length;let t=[];Fv(t,e);const r=this.instructions.map((e=>{const{accounts:t,programIdIndex:r}=e,n=Array.from(Uw().decode(e.data));let i=[];Fv(i,t.length);let o=[];return Fv(o,n.length),{programIdIndex:r,keyIndicesCount:et.Buffer.from(i),keyIndices:t,dataLength:et.Buffer.from(o),data:n}}));let n=[];Fv(n,r.length);let i=et.Buffer.alloc(Uv);et.Buffer.from(n).copy(i);let o=n.length;r.forEach((e=>{const t=qw.n_([qw.u8("programIdIndex"),qw.Ik(e.keyIndicesCount.length,"keyIndicesCount"),qw.A9(qw.u8("keyIndex"),e.keyIndices.length,"keyIndices"),qw.Ik(e.dataLength.length,"dataLength"),qw.A9(qw.u8("userdatum"),e.data.length,"data")]).encode(e,i,o);o+=t})),i=i.slice(0,o);const s=qw.n_([qw.Ik(1,"numRequiredSignatures"),qw.Ik(1,"numReadonlySignedAccounts"),qw.Ik(1,"numReadonlyUnsignedAccounts"),qw.Ik(t.length,"keyCount"),qw.A9(jv("key"),e,"keys"),jv("recentBlockhash")]),a={numRequiredSignatures:et.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:et.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:et.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:et.Buffer.from(t),keys:this.accountKeys.map((e=>Tv(e.toBytes()))),recentBlockhash:Uw().decode(this.recentBlockhash)};let u=et.Buffer.alloc(2048);const c=s.encode(a,u);return i.copy(u,c),u.slice(0,c+i.length)}static from(e){let t=[...e];const r=Gv(t);if(r!==(127&r))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const n=Gv(t),i=Gv(t),o=Hv(t);let s=[];for(let l=0;l<o;l++){const e=Zv(t,0,Bv);s.push(new Cv(et.Buffer.from(e)))}const a=Zv(t,0,Bv),u=Hv(t);let c=[];for(let l=0;l<u;l++){const e=Gv(t),r=Zv(t,0,Hv(t)),n=Zv(t,0,Hv(t)),i=Uw().encode(et.Buffer.from(n));c.push({programIdIndex:e,accounts:r,data:i})}const f={header:{numRequiredSignatures:r,numReadonlySignedAccounts:n,numReadonlyUnsignedAccounts:i},recentBlockhash:Uw().encode(et.Buffer.from(a)),accountKeys:s,instructions:c};return new Jv(f)}}class Xv{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const t of this.addressTableLookups)e+=t.readonlyIndexes.length+t.writableIndexes.length;return e}getAccountKeys(e){let t;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");t=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)t=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new zv(this.staticAccountKeys,t)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const t=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(e>=r){return e-r<this.addressTableLookups.reduce(((e,t)=>e+t.writableIndexes.length),0)}if(e>=this.header.numRequiredSignatures){return e-t<r-t-this.header.numReadonlyUnsignedAccounts}return e<t-this.header.numReadonlySignedAccounts}resolveAddressTableLookups(e){const t={writable:[],readonly:[]};for(const r of this.addressTableLookups){const n=e.find((e=>e.key.equals(r.accountKey)));if(!n)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const e of r.writableIndexes){if(!(e<n.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${r.accountKey.toBase58()}`);t.writable.push(n.state.addresses[e])}for(const e of r.readonlyIndexes){if(!(e<n.state.addresses.length))throw new Error(`Failed to find address for index ${e} in address lookup table ${r.accountKey.toBase58()}`);t.readonly.push(n.state.addresses[e])}}return t}static compile(e){const t=$v.compile(e.instructions,e.payerKey),r=new Array,n={writable:new Array,readonly:new Array},i=e.addressLookupTableAccounts||[];for(const u of i){const e=t.extractTableLookup(u);if(void 0!==e){const[t,{writable:i,readonly:o}]=e;r.push(t),n.writable.push(...i),n.readonly.push(...o)}}const[o,s]=t.getMessageComponents(),a=new zv(s,n).compileInstructions(e.instructions);return new Xv({header:o,staticAccountKeys:s,recentBlockhash:e.recentBlockhash,compiledInstructions:a,addressTableLookups:r})}serialize(){const e=Array();Fv(e,this.staticAccountKeys.length);const t=this.serializeInstructions(),r=Array();Fv(r,this.compiledInstructions.length);const n=this.serializeAddressTableLookups(),i=Array();Fv(i,this.addressTableLookups.length);const o=qw.n_([qw.u8("prefix"),qw.n_([qw.u8("numRequiredSignatures"),qw.u8("numReadonlySignedAccounts"),qw.u8("numReadonlyUnsignedAccounts")],"header"),qw.Ik(e.length,"staticAccountKeysLength"),qw.A9(jv(),this.staticAccountKeys.length,"staticAccountKeys"),jv("recentBlockhash"),qw.Ik(r.length,"instructionsLength"),qw.Ik(t.length,"serializedInstructions"),qw.Ik(i.length,"addressTableLookupsLength"),qw.Ik(n.length,"serializedAddressTableLookups")]),s=new Uint8Array(Uv),a=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map((e=>e.toBytes())),recentBlockhash:Uw().decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:t,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:n},s);return s.slice(0,a)}serializeInstructions(){let e=0;const t=new Uint8Array(Uv);for(const r of this.compiledInstructions){const n=Array();Fv(n,r.accountKeyIndexes.length);const i=Array();Fv(i,r.data.length);e+=qw.n_([qw.u8("programIdIndex"),qw.Ik(n.length,"encodedAccountKeyIndexesLength"),qw.A9(qw.u8(),r.accountKeyIndexes.length,"accountKeyIndexes"),qw.Ik(i.length,"encodedDataLength"),qw.Ik(r.data.length,"data")]).encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(n),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},t,e)}return t.slice(0,e)}serializeAddressTableLookups(){let e=0;const t=new Uint8Array(Uv);for(const r of this.addressTableLookups){const n=Array();Fv(n,r.writableIndexes.length);const i=Array();Fv(i,r.readonlyIndexes.length);e+=qw.n_([jv("accountKey"),qw.Ik(n.length,"encodedWritableIndexesLength"),qw.A9(qw.u8(),r.writableIndexes.length,"writableIndexes"),qw.Ik(i.length,"encodedReadonlyIndexesLength"),qw.A9(qw.u8(),r.readonlyIndexes.length,"readonlyIndexes")]).encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(n),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},t,e)}return t.slice(0,e)}static deserialize(e){let t=[...e];const r=Gv(t),n=127&r;Wv(r!==n,"Expected versioned message but received legacy message");Wv(0===n,`Expected versioned message with version 0 but found version ${n}`);const i={numRequiredSignatures:Gv(t),numReadonlySignedAccounts:Gv(t),numReadonlyUnsignedAccounts:Gv(t)},o=[],s=Hv(t);for(let h=0;h<s;h++)o.push(new Cv(Zv(t,0,Bv)));const a=Uw().encode(Zv(t,0,Bv)),u=Hv(t),c=[];for(let h=0;h<u;h++){const e=Gv(t),r=Zv(t,0,Hv(t)),n=Hv(t),i=new Uint8Array(Zv(t,0,n));c.push({programIdIndex:e,accountKeyIndexes:r,data:i})}const f=Hv(t),l=[];for(let h=0;h<f;h++){const e=new Cv(Zv(t,0,Bv)),r=Zv(t,0,Hv(t)),n=Zv(t,0,Hv(t));l.push({accountKey:e,writableIndexes:r,readonlyIndexes:n})}return new Xv({header:i,staticAccountKeys:o,recentBlockhash:a,compiledInstructions:c,addressTableLookups:l})}}const Yv={deserializeMessageVersion(e){const t=e[0],r=127&t;return r===t?"legacy":r},deserialize:e=>{const t=Yv.deserializeMessageVersion(e);if("legacy"===t)return Jv.from(e);if(0===t)return Xv.deserialize(e);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let Qv=function(e){return e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT",e[e.NONCE_INVALID=3]="NONCE_INVALID",e}({});const e_=et.Buffer.alloc(64).fill(0);class t_{constructor(e){this.keys=void 0,this.programId=void 0,this.data=et.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map((({pubkey:e,isSigner:t,isWritable:r})=>({pubkey:e.toJSON(),isSigner:t,isWritable:r}))),programId:this.programId.toJSON(),data:[...this.data]}}}class r_{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:t,nonceInfo:r}=e;this.minNonceContextSlot=t,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:t,lastValidBlockHeight:r}=e;this.recentBlockhash=t,this.lastValidBlockHeight=r}else{const{recentBlockhash:t,nonceInfo:r}=e;r&&(this.nonceInfo=r),this.recentBlockhash=t}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((e=>e.toJSON())),signers:this.signatures.map((({publicKey:e})=>e.toJSON()))}}add(...e){if(0===e.length)throw new Error("No instructions");return e.forEach((e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new t_(e))})),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,t,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,t=this.instructions[0]!=this.nonceInfo.nonceInstruction?[this.nonceInfo.nonceInstruction,...this.instructions]:this.instructions):(e=this.recentBlockhash,t=this.instructions),!e)throw new Error("Transaction recentBlockhash required");if(t.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");r=this.signatures[0].publicKey}for(let p=0;p<t.length;p++)if(void 0===t[p].programId)throw new Error(`Transaction instruction index ${p} has undefined program id`);const n=[],i=[];t.forEach((e=>{e.keys.forEach((e=>{i.push({...e})}));const t=e.programId.toString();n.includes(t)||n.push(t)})),n.forEach((e=>{i.push({pubkey:new Cv(e),isSigner:!1,isWritable:!1})}));const o=[];i.forEach((e=>{const t=e.pubkey.toString(),r=o.findIndex((e=>e.pubkey.toString()===t));r>-1?(o[r].isWritable=o[r].isWritable||e.isWritable,o[r].isSigner=o[r].isSigner||e.isSigner):o.push(e)})),o.sort((function(e,t){if(e.isSigner!==t.isSigner)return e.isSigner?-1:1;if(e.isWritable!==t.isWritable)return e.isWritable?-1:1;return e.pubkey.toBase58().localeCompare(t.pubkey.toBase58(),"en",{localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"})}));const s=o.findIndex((e=>e.pubkey.equals(r)));if(s>-1){const[e]=o.splice(s,1);e.isSigner=!0,e.isWritable=!0,o.unshift(e)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const p of this.signatures){const e=o.findIndex((e=>e.pubkey.equals(p.publicKey)));if(!(e>-1))throw new Error(`unknown signer: ${p.publicKey.toString()}`);o[e].isSigner||(o[e].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let a=0,u=0,c=0;const f=[],l=[];o.forEach((({pubkey:e,isSigner:t,isWritable:r})=>{t?(f.push(e.toString()),a+=1,r||(u+=1)):(l.push(e.toString()),r||(c+=1))}));const h=f.concat(l),d=t.map((e=>{const{data:t,programId:r}=e;return{programIdIndex:h.indexOf(r.toString()),accounts:e.keys.map((e=>h.indexOf(e.pubkey.toString()))),data:Uw().encode(t)}}));return d.forEach((e=>{Wv(e.programIdIndex>=0),e.accounts.forEach((e=>Wv(e>=0)))})),new Jv({header:{numRequiredSignatures:a,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:c},accountKeys:h,recentBlockhash:e,instructions:d})}_compile(){const e=this.compileMessage(),t=e.accountKeys.slice(0,e.header.numRequiredSignatures);if(this.signatures.length===t.length){if(this.signatures.every(((e,r)=>t[r].equals(e.publicKey))))return e}return this.signatures=t.map((e=>({signature:null,publicKey:e}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(0===e.length)throw new Error("No signers");const t=new Set;this.signatures=e.filter((e=>{const r=e.toString();return!t.has(r)&&(t.add(r),!0)})).map((e=>({signature:null,publicKey:e})))}sign(...e){if(0===e.length)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const e=i.publicKey.toString();t.has(e)||(t.add(e),r.push(i))}this.signatures=r.map((e=>({signature:null,publicKey:e.publicKey})));const n=this._compile();this._partialSign(n,...r)}partialSign(...e){if(0===e.length)throw new Error("No signers");const t=new Set,r=[];for(const i of e){const e=i.publicKey.toString();t.has(e)||(t.add(e),r.push(i))}const n=this._compile();this._partialSign(n,...r)}_partialSign(e,...t){const r=e.serialize();t.forEach((e=>{const t=xv(r,e.secretKey);this._addSignature(e.publicKey,Tv(t))}))}addSignature(e,t){this._compile(),this._addSignature(e,t)}_addSignature(e,t){Wv(64===t.length);const r=this.signatures.findIndex((t=>e.equals(t.publicKey)));if(r<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[r].signature=et.Buffer.from(t)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,t){const r={};for(const{signature:n,publicKey:i}of this.signatures)null===n?t&&(r.missing||=[]).push(i):kv(n,e,i.toBytes())||(r.invalid||=[]).push(i);return r.invalid||r.missing?r:void 0}serialize(e){const{requireAllSignatures:t,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),n=this.serializeMessage();if(r){const e=this._getMessageSignednessErrors(n,t);if(e){let t="Signature verification failed.";throw e.invalid&&(t+=`\nInvalid signature for public key${1===e.invalid.length?"":"(s)"} [\`${e.invalid.map((e=>e.toBase58())).join("`, `")}\`].`),e.missing&&(t+=`\nMissing signature for public key${1===e.missing.length?"":"(s)"} [\`${e.missing.map((e=>e.toBase58())).join("`, `")}\`].`),new Error(t)}}return this._serialize(n)}_serialize(e){const{signatures:t}=this,r=[];Fv(r,t.length);const n=r.length+64*t.length+e.length,i=et.Buffer.alloc(n);return Wv(t.length<256),et.Buffer.from(r).copy(i,0),t.forEach((({signature:e},t)=>{null!==e&&(Wv(64===e.length,"signature has invalid length"),et.Buffer.from(e).copy(i,r.length+64*t))})),e.copy(i,r.length+64*t.length),Wv(i.length<=Uv,`Transaction too large: ${i.length} > 1232`),i}get keys(){return Wv(1===this.instructions.length),this.instructions[0].keys.map((e=>e.pubkey))}get programId(){return Wv(1===this.instructions.length),this.instructions[0].programId}get data(){return Wv(1===this.instructions.length),this.instructions[0].data}static from(e){let t=[...e];const r=Hv(t);let n=[];for(let i=0;i<r;i++){const e=Zv(t,0,64);n.push(Uw().encode(et.Buffer.from(e)))}return r_.populate(Jv.from(t),n)}static populate(e,t=[]){const r=new r_;return r.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(r.feePayer=e.accountKeys[0]),t.forEach(((t,n)=>{const i={signature:t==Uw().encode(e_)?null:Uw().decode(t),publicKey:e.accountKeys[n]};r.signatures.push(i)})),e.instructions.forEach((t=>{const n=t.accounts.map((t=>{const n=e.accountKeys[t];return{pubkey:n,isSigner:r.signatures.some((e=>e.publicKey.toString()===n.toString()))||e.isAccountSigner(t),isWritable:e.isAccountWritable(t)}}));r.instructions.push(new t_({keys:n,programId:e.accountKeys[t.programIdIndex],data:Uw().decode(t.data)}))})),r._message=e,r._json=r.toJSON(),r}}class n_{get version(){return this.message.version}constructor(e,t){if(this.signatures=void 0,this.message=void 0,void 0!==t)Wv(t.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=t;else{const t=[];for(let r=0;r<e.header.numRequiredSignatures;r++)t.push(new Uint8Array(64));this.signatures=t}this.message=e}serialize(){const e=this.message.serialize(),t=Array();Fv(t,this.signatures.length);const r=qw.n_([qw.Ik(t.length,"encodedSignaturesLength"),qw.A9(Dv(),this.signatures.length,"signatures"),qw.Ik(e.length,"serializedMessage")]),n=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(t),signatures:this.signatures,serializedMessage:e},n);return n.slice(0,i)}static deserialize(e){let t=[...e];const r=[],n=Hv(t);for(let o=0;o<n;o++)r.push(new Uint8Array(Zv(t,0,64)));const i=Yv.deserialize(new Uint8Array(t));return new n_(i,r)}sign(e){const t=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const n of e){const e=r.findIndex((e=>e.equals(n.publicKey)));Wv(e>=0,`Cannot sign with non signer key ${n.publicKey.toBase58()}`),this.signatures[e]=xv(t,n.secretKey)}}addSignature(e,t){Wv(64===t.byteLength,"Signature must be 64 bytes long");const r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex((t=>t.equals(e)));Wv(r>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[r]=t}}const i_=new Cv("SysvarC1ock11111111111111111111111111111111"),o_=(new Cv("SysvarEpochSchedu1e111111111111111111111111"),new Cv("Sysvar1nstructions1111111111111111111111111"),new Cv("SysvarRecentB1ockHashes11111111111111111111")),s_=new Cv("SysvarRent111111111111111111111111111111111"),a_=(new Cv("SysvarRewards111111111111111111111111111111"),new Cv("SysvarS1otHashes111111111111111111111111111"),new Cv("SysvarS1otHistory11111111111111111111111111"),new Cv("SysvarStakeHistory1111111111111111111111111"));class u_ extends Error{constructor({action:e,signature:t,transactionMessage:r,logs:n}){const i=n?`Logs: \n${JSON.stringify(n.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let s;switch(e){case"send":s=`Transaction ${t} resulted in an error. \n${r}. `+i+o;break;case"simulate":s=`Simulation failed. \nMessage: ${r}. \n`+i+o;break;default:s=`Unknown action '${e}'`}super(s),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=t,this.transactionMessage=r,this.transactionLogs=n||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(null==e||"object"!==typeof e||!("then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise(((t,r)=>{e.getTransaction(this.signature).then((e=>{if(e&&e.meta&&e.meta.logMessages){const r=e.meta.logMessages;this.transactionLogs=r,t(r)}else r(new Error("Log messages not found"))})).catch(r)}))),await this.transactionLogs}}class c_ extends Error{constructor({code:e,message:t,data:r},n){super(null!=n?`${n}: ${t}`:t),this.code=void 0,this.data=void 0,this.code=e,this.data=r,this.name="SolanaJSONRPCError"}}async function f_(e,t,r,n){const i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},o=await e.sendTransaction(t,r,i);let s;if(null!=t.recentBlockhash&&null!=t.lastValidBlockHeight)s=(await e.confirmTransaction({abortSignal:n?.abortSignal,signature:o,blockhash:t.recentBlockhash,lastValidBlockHeight:t.lastValidBlockHeight},n&&n.commitment)).value;else if(null!=t.minNonceContextSlot&&null!=t.nonceInfo){const{nonceInstruction:r}=t.nonceInfo,i=r.keys[0].pubkey;s=(await e.confirmTransaction({abortSignal:n?.abortSignal,minContextSlot:t.minNonceContextSlot,nonceAccountPubkey:i,nonceValue:t.nonceInfo.nonce,signature:o},n&&n.commitment)).value}else null!=n?.abortSignal&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),s=(await e.confirmTransaction(o,n&&n.commitment)).value;if(s.err){if(null!=o)throw new u_({action:"send",signature:o,transactionMessage:`Status: (${JSON.stringify(s)})`});throw new Error(`Transaction ${o} failed (${JSON.stringify(s)})`)}return o}function l_(e){return new Promise((t=>setTimeout(t,e)))}function h_(e,t){const r=e.layout.span>=0?e.layout.span:Kv(e,t),n=et.Buffer.alloc(r),i=Object.assign({instruction:e.index},t);return e.layout.encode(i,n),n}const d_=qw._O("lamportsPerSignature"),p_=qw.n_([qw.Jq("version"),qw.Jq("state"),jv("authorizedPubkey"),jv("nonce"),qw.n_([d_],"feeCalculator")]),g_=p_.span;class y_{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const t=p_.decode(Tv(e),0);return new y_({authorizedPubkey:new Cv(t.authorizedPubkey),nonce:new Cv(t.nonce).toString(),feeCalculator:t.feeCalculator})}}const m_=(b_=8,e=>{const t=(0,qw.Ik)(b_,e),{encode:r,decode:n}=(e=>({decode:e.decode.bind(e),encode:e.encode.bind(e)}))(t),i=t;return i.decode=(e,t)=>{const r=n(e,t);return(0,Kw.oU)(et.Buffer.from(r))},i.encode=(e,t,n)=>{const i=(0,Kw.k$)(e,b_);return r(i,t,n)},i});var b_;const w_=Object.freeze({Create:{index:0,layout:qw.n_([qw.Jq("instruction"),qw.gM("lamports"),qw.gM("space"),jv("programId")])},Assign:{index:1,layout:qw.n_([qw.Jq("instruction"),jv("programId")])},Transfer:{index:2,layout:qw.n_([qw.Jq("instruction"),m_("lamports")])},CreateWithSeed:{index:3,layout:qw.n_([qw.Jq("instruction"),jv("base"),qv("seed"),qw.gM("lamports"),qw.gM("space"),jv("programId")])},AdvanceNonceAccount:{index:4,layout:qw.n_([qw.Jq("instruction")])},WithdrawNonceAccount:{index:5,layout:qw.n_([qw.Jq("instruction"),qw.gM("lamports")])},InitializeNonceAccount:{index:6,layout:qw.n_([qw.Jq("instruction"),jv("authorized")])},AuthorizeNonceAccount:{index:7,layout:qw.n_([qw.Jq("instruction"),jv("authorized")])},Allocate:{index:8,layout:qw.n_([qw.Jq("instruction"),qw.gM("space")])},AllocateWithSeed:{index:9,layout:qw.n_([qw.Jq("instruction"),jv("base"),qv("seed"),qw.gM("space"),jv("programId")])},AssignWithSeed:{index:10,layout:qw.n_([qw.Jq("instruction"),jv("base"),qv("seed"),jv("programId")])},TransferWithSeed:{index:11,layout:qw.n_([qw.Jq("instruction"),m_("lamports"),qv("seed"),jv("programId")])},UpgradeNonceAccount:{index:12,layout:qw.n_([qw.Jq("instruction")])}});class v_{constructor(){}static createAccount(e){const t=h_(w_.Create,{lamports:e.lamports,space:e.space,programId:Tv(e.programId.toBuffer())});return new t_({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:t})}static transfer(e){let t,r;if("basePubkey"in e){t=h_(w_.TransferWithSeed,{lamports:BigInt(e.lamports),seed:e.seed,programId:Tv(e.programId.toBuffer())}),r=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{t=h_(w_.Transfer,{lamports:BigInt(e.lamports)}),r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new t_({keys:r,programId:this.programId,data:t})}static assign(e){let t,r;if("basePubkey"in e){t=h_(w_.AssignWithSeed,{base:Tv(e.basePubkey.toBuffer()),seed:e.seed,programId:Tv(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=h_(w_.Assign,{programId:Tv(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new t_({keys:r,programId:this.programId,data:t})}static createAccountWithSeed(e){const t=h_(w_.CreateWithSeed,{base:Tv(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:Tv(e.programId.toBuffer())});let r=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||r.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new t_({keys:r,programId:this.programId,data:t})}static createNonceAccount(e){const t=new r_;"basePubkey"in e&&"seed"in e?t.add(v_.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:g_,programId:this.programId})):t.add(v_.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:g_,programId:this.programId}));const r={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return t.add(this.nonceInitialize(r)),t}static nonceInitialize(e){const t=h_(w_.InitializeNonceAccount,{authorized:Tv(e.authorizedPubkey.toBuffer())}),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:o_,isSigner:!1,isWritable:!1},{pubkey:s_,isSigner:!1,isWritable:!1}],programId:this.programId,data:t};return new t_(r)}static nonceAdvance(e){const t=h_(w_.AdvanceNonceAccount),r={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:o_,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t};return new t_(r)}static nonceWithdraw(e){const t=h_(w_.WithdrawNonceAccount,{lamports:e.lamports});return new t_({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:o_,isSigner:!1,isWritable:!1},{pubkey:s_,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static nonceAuthorize(e){const t=h_(w_.AuthorizeNonceAccount,{authorized:Tv(e.newAuthorizedPubkey.toBuffer())});return new t_({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:t})}static allocate(e){let t,r;if("basePubkey"in e){t=h_(w_.AllocateWithSeed,{base:Tv(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:Tv(e.programId.toBuffer())}),r=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{t=h_(w_.Allocate,{space:e.space}),r=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new t_({keys:r,programId:this.programId,data:t})}}v_.programId=new Cv("11111111111111111111111111111111");class __{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/__.chunkSize)+1+1)}static async load(e,t,r,n,i){{const o=await e.getMinimumBalanceForRentExemption(i.length),s=await e.getAccountInfo(r.publicKey,"confirmed");let a=null;if(null!==s){if(s.executable)return console.error("Program load failed, account is already executable"),!1;s.data.length!==i.length&&(a=a||new r_,a.add(v_.allocate({accountPubkey:r.publicKey,space:i.length}))),s.owner.equals(n)||(a=a||new r_,a.add(v_.assign({accountPubkey:r.publicKey,programId:n}))),s.lamports<o&&(a=a||new r_,a.add(v_.transfer({fromPubkey:t.publicKey,toPubkey:r.publicKey,lamports:o-s.lamports})))}else a=(new r_).add(v_.createAccount({fromPubkey:t.publicKey,newAccountPubkey:r.publicKey,lamports:o>0?o:1,space:i.length,programId:n}));null!==a&&await f_(e,a,[t,r],{commitment:"confirmed"})}const o=qw.n_([qw.Jq("instruction"),qw.Jq("offset"),qw.Jq("bytesLength"),qw.Jq("bytesLengthPadding"),qw.A9(qw.u8("byte"),qw.cv(qw.Jq(),-8),"bytes")]),s=__.chunkSize;let a=0,u=i,c=[];for(;u.length>0;){const i=u.slice(0,s),f=et.Buffer.alloc(s+16);o.encode({instruction:0,offset:a,bytes:i,bytesLength:0,bytesLengthPadding:0},f);const l=(new r_).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:n,data:f});if(c.push(f_(e,l,[t,r],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")){const e=4;await l_(1e3/e)}a+=s,u=u.slice(s)}await Promise.all(c);{const i=qw.n_([qw.Jq("instruction")]),o=et.Buffer.alloc(i.span);i.encode({instruction:1},o);const s=(new r_).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:s_,isSigner:!1,isWritable:!1}],programId:n,data:o}),a="processed",u=await e.sendTransaction(s,[t,r],{preflightCommitment:a}),{context:c,value:f}=await e.confirmTransaction({signature:u,lastValidBlockHeight:s.lastValidBlockHeight,blockhash:s.recentBlockhash},a);if(f.err)throw new Error(`Transaction ${u} failed (${JSON.stringify(f)})`);for(;;){try{if(await e.getSlot({commitment:a})>c.slot)break}catch{}await new Promise((e=>setTimeout(e,Math.round(200))))}}return!0}}__.chunkSize=932;new Cv("BPFLoader2111111111111111111111111111111111");function S_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var E_,A_;function x_(){if(A_)return E_;A_=1;var e=Object.prototype.toString,t=Object.keys||function(e){var t=[];for(var r in e)t.push(r);return t};function r(n,i){var o,s,a,u,c,f,l;if(!0===n)return"true";if(!1===n)return"false";switch(typeof n){case"object":if(null===n)return null;if(n.toJSON&&"function"===typeof n.toJSON)return r(n.toJSON(),i);if("[object Array]"===(l=e.call(n))){for(a="[",s=n.length-1,o=0;o<s;o++)a+=r(n[o],!0)+",";return s>-1&&(a+=r(n[o],!0)),a+"]"}if("[object Object]"===l){for(s=(u=t(n).sort()).length,a="",o=0;o<s;)void 0!==(f=r(n[c=u[o]],!1))&&(a&&(a+=","),a+=JSON.stringify(c)+":"+f),o++;return"{"+a+"}"}return JSON.stringify(n);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}return E_=function(e){var t=r(e,!1);if(void 0!==t)return""+t}}var k_=S_(x_());function T_(e){let t=0;for(;e>1;)e/=2,t++;return t}class I_{constructor(e,t,r,n,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=t,this.warmup=r,this.firstNormalEpoch=n,this.firstNormalSlot=i}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const t=T_(function(e){return 0===e?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,1+(e|=e>>32))}(e+32+1))-T_(32)-1;return[t,e-(this.getSlotsInEpoch(t)-32)]}{const t=e-this.firstNormalSlot,r=Math.floor(t/this.slotsPerEpoch);return[this.firstNormalEpoch+r,t%this.slotsPerEpoch]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?32*(Math.pow(2,e)-1):(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+T_(32)):this.slotsPerEpoch}}var M_=globalThis.fetch;class P_ extends _v{constructor(e,t,r){super((e=>{const r=wv(e,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...t});return this.underlyingSocket="socket"in r?r.socket:r,r}),e,t,r),this.underlyingSocket=void 0}call(...e){const t=this.underlyingSocket?.readyState;return 1===t?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}notify(...e){const t=this.underlyingSocket?.readyState;return 1===t?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+t+")"))}}class B_{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const t=function(e,t){let r;try{r=e.layout.decode(t)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==e.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${e.index}`);return r}(O_,e),r=e.length-56;Wv(r>=0,"lookup table is invalid"),Wv(r%32===0,"lookup table is invalid");const n=r/32,{addresses:i}=qw.n_([qw.A9(jv(),n,"addresses")]).decode(e.slice(56));return{deactivationSlot:t.deactivationSlot,lastExtendedSlot:t.lastExtendedSlot,lastExtendedSlotStartIndex:t.lastExtendedStartIndex,authority:0!==t.authority.length?new Cv(t.authority[0]):void 0,addresses:i.map((e=>new Cv(e)))}}}const O_={index:1,layout:qw.n_([qw.Jq("typeIndex"),m_("deactivationSlot"),qw._O("lastExtendedSlot"),qw.u8("lastExtendedStartIndex"),qw.u8(),qw.A9(jv(),qw.cv(qw.u8(),-1),"authority")])},C_=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;const U_=gv(nv(Cv),fv(),(e=>new Cv(e))),N_=lv([fv(),iv("base64")]),R_=gv(nv(et.Buffer),N_,(e=>et.Buffer.from(e[0],"base64")));function L_(e){let t,r;if("string"===typeof e)t=e;else if(e){const{commitment:n,...i}=e;t=n,r=i}return{commitment:t,config:r}}function z_(e){return e.map((e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e))}function j_(e){return dv([hv({jsonrpc:iv("2.0"),id:fv(),result:e}),hv({jsonrpc:iv("2.0"),id:fv(),error:hv({code:pv(),message:fv(),data:uv(ev("any",(()=>!0)))})})])}const D_=j_(pv());function q_(e){return gv(j_(e),D_,(t=>"error"in t?t:{...t,result:Xw(t.result,e)}))}function K_(e){return q_(hv({context:hv({slot:av()}),value:e}))}function H_(e){return hv({context:hv({slot:av()}),value:e})}function F_(e,t){return 0===e?new Xv({header:t.header,staticAccountKeys:t.accountKeys.map((e=>new Cv(e))),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map((e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:Uw().decode(e.data)}))),addressTableLookups:t.addressTableLookups}):new Jv(t)}const W_=hv({foundation:av(),foundationTerm:av(),initial:av(),taper:av(),terminal:av()}),$_=q_(tv(sv(hv({epoch:av(),effectiveSlot:av(),amount:av(),postBalance:av(),commission:uv(sv(av()))})))),V_=tv(hv({slot:av(),prioritizationFee:av()})),G_=hv({total:av(),validator:av(),foundation:av(),epoch:av()}),Z_=hv({epoch:av(),slotIndex:av(),slotsInEpoch:av(),absoluteSlot:av(),blockHeight:uv(av()),transactionCount:uv(av())}),J_=hv({slotsPerEpoch:av(),leaderScheduleSlotOffset:av(),warmup:rv(),firstNormalEpoch:av(),firstNormalSlot:av()}),X_=cv(fv(),tv(av())),Y_=sv(dv([hv({}),fv()])),Q_=hv({err:Y_}),eS=iv("receivedSignature"),tS=hv({"solana-core":fv(),"feature-set":uv(av())}),rS=hv({program:fv(),programId:U_,parsed:pv()}),nS=hv({programId:U_,accounts:tv(U_),data:fv()}),iS=K_(hv({err:sv(dv([hv({}),fv()])),logs:sv(tv(fv())),accounts:uv(sv(tv(sv(hv({executable:rv(),owner:fv(),lamports:av(),data:tv(fv()),rentEpoch:uv(av())}))))),unitsConsumed:uv(av()),returnData:uv(sv(hv({programId:fv(),data:lv([fv(),iv("base64")])}))),innerInstructions:uv(sv(tv(hv({index:av(),instructions:tv(dv([rS,nS]))}))))})),oS=K_(hv({byIdentity:cv(fv(),tv(av())),range:hv({firstSlot:av(),lastSlot:av()})}));const sS=q_(W_),aS=q_(G_),uS=q_(V_),cS=q_(Z_),fS=q_(J_),lS=q_(X_),hS=q_(av()),dS=K_(hv({total:av(),circulating:av(),nonCirculating:av(),nonCirculatingAccounts:tv(U_)})),pS=hv({amount:fv(),uiAmount:sv(av()),decimals:av(),uiAmountString:uv(fv())}),gS=K_(tv(hv({address:U_,amount:fv(),uiAmount:sv(av()),decimals:av(),uiAmountString:uv(fv())}))),yS=K_(tv(hv({pubkey:U_,account:hv({executable:rv(),owner:U_,lamports:av(),data:R_,rentEpoch:av()})}))),mS=hv({program:fv(),parsed:pv(),space:av()}),bS=K_(tv(hv({pubkey:U_,account:hv({executable:rv(),owner:U_,lamports:av(),data:mS,rentEpoch:av()})}))),wS=K_(tv(hv({lamports:av(),address:U_}))),vS=hv({executable:rv(),owner:U_,lamports:av(),data:R_,rentEpoch:av()}),_S=hv({pubkey:U_,account:vS}),SS=gv(dv([nv(et.Buffer),mS]),dv([N_,mS]),(e=>Array.isArray(e)?Xw(e,R_):e)),ES=hv({executable:rv(),owner:U_,lamports:av(),data:SS,rentEpoch:av()}),AS=hv({pubkey:U_,account:ES}),xS=hv({state:dv([iv("active"),iv("inactive"),iv("activating"),iv("deactivating")]),active:av(),inactive:av()}),kS=q_(tv(hv({signature:fv(),slot:av(),err:Y_,memo:sv(fv()),blockTime:uv(sv(av()))}))),TS=q_(tv(hv({signature:fv(),slot:av(),err:Y_,memo:sv(fv()),blockTime:uv(sv(av()))}))),IS=hv({subscription:av(),result:H_(vS)}),MS=hv({pubkey:U_,account:vS}),PS=hv({subscription:av(),result:H_(MS)}),BS=hv({parent:av(),slot:av(),root:av()}),OS=hv({subscription:av(),result:BS}),CS=dv([hv({type:dv([iv("firstShredReceived"),iv("completed"),iv("optimisticConfirmation"),iv("root")]),slot:av(),timestamp:av()}),hv({type:iv("createdBank"),parent:av(),slot:av(),timestamp:av()}),hv({type:iv("frozen"),slot:av(),timestamp:av(),stats:hv({numTransactionEntries:av(),numSuccessfulTransactions:av(),numFailedTransactions:av(),maxTransactionsPerEntry:av()})}),hv({type:iv("dead"),slot:av(),timestamp:av(),err:fv()})]),US=hv({subscription:av(),result:CS}),NS=hv({subscription:av(),result:H_(dv([Q_,eS]))}),RS=hv({subscription:av(),result:av()}),LS=hv({pubkey:fv(),gossip:sv(fv()),tpu:sv(fv()),rpc:sv(fv()),version:sv(fv())}),zS=hv({votePubkey:fv(),nodePubkey:fv(),activatedStake:av(),epochVoteAccount:rv(),epochCredits:tv(lv([av(),av(),av()])),commission:av(),lastVote:av(),rootSlot:sv(av())}),jS=q_(hv({current:tv(zS),delinquent:tv(zS)})),DS=dv([iv("processed"),iv("confirmed"),iv("finalized")]),qS=hv({slot:av(),confirmations:sv(av()),err:Y_,confirmationStatus:uv(DS)}),KS=K_(tv(sv(qS))),HS=q_(av()),FS=hv({accountKey:U_,writableIndexes:tv(av()),readonlyIndexes:tv(av())}),WS=hv({signatures:tv(fv()),message:hv({accountKeys:tv(fv()),header:hv({numRequiredSignatures:av(),numReadonlySignedAccounts:av(),numReadonlyUnsignedAccounts:av()}),instructions:tv(hv({accounts:tv(av()),data:fv(),programIdIndex:av()})),recentBlockhash:fv(),addressTableLookups:uv(tv(FS))})}),$S=hv({pubkey:U_,signer:rv(),writable:rv(),source:uv(dv([iv("transaction"),iv("lookupTable")]))}),VS=hv({accountKeys:tv($S),signatures:tv(fv())}),GS=hv({parsed:pv(),program:fv(),programId:U_}),ZS=hv({accounts:tv(U_),data:fv(),programId:U_}),JS=gv(dv([ZS,GS]),dv([hv({parsed:pv(),program:fv(),programId:fv()}),hv({accounts:tv(fv()),data:fv(),programId:fv()})]),(e=>Xw(e,"accounts"in e?ZS:GS))),XS=hv({signatures:tv(fv()),message:hv({accountKeys:tv($S),instructions:tv(JS),recentBlockhash:fv(),addressTableLookups:uv(sv(tv(FS)))})}),YS=hv({accountIndex:av(),mint:fv(),owner:uv(fv()),programId:uv(fv()),uiTokenAmount:pS}),QS=hv({writable:tv(U_),readonly:tv(U_)}),eE=hv({err:Y_,fee:av(),innerInstructions:uv(sv(tv(hv({index:av(),instructions:tv(hv({accounts:tv(av()),data:fv(),programIdIndex:av()}))})))),preBalances:tv(av()),postBalances:tv(av()),logMessages:uv(sv(tv(fv()))),preTokenBalances:uv(sv(tv(YS))),postTokenBalances:uv(sv(tv(YS))),loadedAddresses:uv(QS),computeUnitsConsumed:uv(av())}),tE=hv({err:Y_,fee:av(),innerInstructions:uv(sv(tv(hv({index:av(),instructions:tv(JS)})))),preBalances:tv(av()),postBalances:tv(av()),logMessages:uv(sv(tv(fv()))),preTokenBalances:uv(sv(tv(YS))),postTokenBalances:uv(sv(tv(YS))),loadedAddresses:uv(QS),computeUnitsConsumed:uv(av())}),rE=dv([iv(0),iv("legacy")]),nE=hv({pubkey:fv(),lamports:av(),postBalance:sv(av()),rewardType:sv(fv()),commission:uv(sv(av()))}),iE=q_(sv(hv({blockhash:fv(),previousBlockhash:fv(),parentSlot:av(),transactions:tv(hv({transaction:WS,meta:sv(eE),version:uv(rE)})),rewards:uv(tv(nE)),blockTime:sv(av()),blockHeight:sv(av())}))),oE=q_(sv(hv({blockhash:fv(),previousBlockhash:fv(),parentSlot:av(),rewards:uv(tv(nE)),blockTime:sv(av()),blockHeight:sv(av())}))),sE=q_(sv(hv({blockhash:fv(),previousBlockhash:fv(),parentSlot:av(),transactions:tv(hv({transaction:VS,meta:sv(eE),version:uv(rE)})),rewards:uv(tv(nE)),blockTime:sv(av()),blockHeight:sv(av())}))),aE=q_(sv(hv({blockhash:fv(),previousBlockhash:fv(),parentSlot:av(),transactions:tv(hv({transaction:XS,meta:sv(tE),version:uv(rE)})),rewards:uv(tv(nE)),blockTime:sv(av()),blockHeight:sv(av())}))),uE=q_(sv(hv({blockhash:fv(),previousBlockhash:fv(),parentSlot:av(),transactions:tv(hv({transaction:VS,meta:sv(tE),version:uv(rE)})),rewards:uv(tv(nE)),blockTime:sv(av()),blockHeight:sv(av())}))),cE=q_(sv(hv({blockhash:fv(),previousBlockhash:fv(),parentSlot:av(),rewards:uv(tv(nE)),blockTime:sv(av()),blockHeight:sv(av())}))),fE=q_(sv(hv({blockhash:fv(),previousBlockhash:fv(),parentSlot:av(),transactions:tv(hv({transaction:WS,meta:sv(eE)})),rewards:uv(tv(nE)),blockTime:sv(av())}))),lE=q_(sv(hv({blockhash:fv(),previousBlockhash:fv(),parentSlot:av(),signatures:tv(fv()),blockTime:sv(av())}))),hE=q_(sv(hv({slot:av(),meta:sv(eE),blockTime:uv(sv(av())),transaction:WS,version:uv(rE)}))),dE=q_(sv(hv({slot:av(),transaction:XS,meta:sv(tE),blockTime:uv(sv(av())),version:uv(rE)}))),pE=K_(hv({blockhash:fv(),lastValidBlockHeight:av()})),gE=K_(rv()),yE=q_(tv(hv({slot:av(),numTransactions:av(),numSlots:av(),samplePeriodSecs:av()}))),mE=K_(sv(hv({feeCalculator:hv({lamportsPerSignature:av()})}))),bE=q_(fv()),wE=q_(fv()),vE=hv({err:Y_,logs:tv(fv()),signature:fv()}),_E=hv({result:H_(vE),subscription:av()}),SE={"solana-client":"js/1.0.0-maintenance"};class EE{constructor(e,t){let r,n,i,o,s,a;var u;this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const e={};return async t=>{const{commitment:r,config:n}=L_(t),i=this._buildArgs([],r,void 0,n),o=k_(i);return e[o]=e[o]??(async()=>{try{const e=Xw(await this._rpcRequest("getBlockHeight",i),q_(av()));if("error"in e)throw new c_(e.error,"failed to get block height information");return e.result}finally{delete e[o]}})(),await e[o]}})(),t&&"string"===typeof t?this._commitment=t:t&&(this._commitment=t.commitment,this._confirmTransactionInitialTimeout=t.confirmTransactionInitialTimeout,r=t.wsEndpoint,n=t.httpHeaders,i=t.fetch,o=t.fetchMiddleware,s=t.disableRetryOnRateLimit,a=t.httpAgent),this._rpcEndpoint=function(e){if(!1===/^https?:/.test(e))throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}(e),this._rpcWsEndpoint=r||function(e){const t=e.match(C_);if(null==t)throw TypeError(`Failed to validate endpoint URL \`${e}\``);const[r,n,i,o]=t,s=e.startsWith("https:")?"wss:":"ws:",a=null==i?null:parseInt(i.slice(1),10);return`${s}//${n}${null==a?"":`:${a+1}`}${o}`}(e),this._rpcClient=function(e,t,r,n,i,o){const s=r||M_;let a;null!=o&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments."),n&&(a=async(e,t)=>{const r=await new Promise(((r,i)=>{try{n(e,t,((e,t)=>r([e,t])))}catch(o){i(o)}}));return await s(...r)});const u=new(mv())((async(r,n)=>{const o={method:"POST",body:r,agent:void 0,headers:Object.assign({"Content-Type":"application/json"},t||{},SE)};try{let t,r=5,u=500;for(;t=a?await a(e,o):await s(e,o),429===t.status&&!0!==i&&(r-=1,0!==r);)console.error(`Server responded with ${t.status} ${t.statusText}.  Retrying after ${u}ms delay...`),await l_(u),u*=2;const c=await t.text();t.ok?n(null,c):n(new Error(`${t.status} ${t.statusText}: ${c}`))}catch(u){u instanceof Error&&n(u)}}),{});return u}(e,n,i,o,s,a),this._rpcRequest=(u=this._rpcClient,(e,t)=>new Promise(((r,n)=>{u.request(e,t,((e,t)=>{e?n(e):r(t)}))}))),this._rpcBatchRequest=function(e){return t=>new Promise(((r,n)=>{0===t.length&&r([]);const i=t.map((t=>e.request(t.methodName,t.args)));e.request(i,((e,t)=>{e?n(e):r(t)}))}))}(this._rpcClient),this._rpcWebSocket=new P_(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,t){const{commitment:r,config:n}=L_(t),i=this._buildArgs([e.toBase58()],r,void 0,n),o=Xw(await this._rpcRequest("getBalance",i),K_(av()));if("error"in o)throw new c_(o.error,`failed to get balance for ${e.toBase58()}`);return o.result}async getBalance(e,t){return await this.getBalanceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+t)}))}async getBlockTime(e){const t=Xw(await this._rpcRequest("getBlockTime",[e]),q_(sv(av())));if("error"in t)throw new c_(t.error,`failed to get block time for slot ${e}`);return t.result}async getMinimumLedgerSlot(){const e=Xw(await this._rpcRequest("minimumLedgerSlot",[]),q_(av()));if("error"in e)throw new c_(e.error,"failed to get minimum ledger slot");return e.result}async getFirstAvailableBlock(){const e=Xw(await this._rpcRequest("getFirstAvailableBlock",[]),hS);if("error"in e)throw new c_(e.error,"failed to get first available block");return e.result}async getSupply(e){let t={};t="string"===typeof e?{commitment:e}:e?{...e,commitment:e&&e.commitment||this.commitment}:{commitment:this.commitment};const r=Xw(await this._rpcRequest("getSupply",[t]),dS);if("error"in r)throw new c_(r.error,"failed to get supply");return r.result}async getTokenSupply(e,t){const r=this._buildArgs([e.toBase58()],t),n=Xw(await this._rpcRequest("getTokenSupply",r),K_(pS));if("error"in n)throw new c_(n.error,"failed to get token supply");return n.result}async getTokenAccountBalance(e,t){const r=this._buildArgs([e.toBase58()],t),n=Xw(await this._rpcRequest("getTokenAccountBalance",r),K_(pS));if("error"in n)throw new c_(n.error,"failed to get token account balance");return n.result}async getTokenAccountsByOwner(e,t,r){const{commitment:n,config:i}=L_(r);let o=[e.toBase58()];"mint"in t?o.push({mint:t.mint.toBase58()}):o.push({programId:t.programId.toBase58()});const s=this._buildArgs(o,n,"base64",i),a=Xw(await this._rpcRequest("getTokenAccountsByOwner",s),yS);if("error"in a)throw new c_(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getParsedTokenAccountsByOwner(e,t,r){let n=[e.toBase58()];"mint"in t?n.push({mint:t.mint.toBase58()}):n.push({programId:t.programId.toBase58()});const i=this._buildArgs(n,r,"jsonParsed"),o=Xw(await this._rpcRequest("getTokenAccountsByOwner",i),bS);if("error"in o)throw new c_(o.error,`failed to get token accounts owned by account ${e.toBase58()}`);return o.result}async getLargestAccounts(e){const t={...e,commitment:e&&e.commitment||this.commitment},r=t.filter||t.commitment?[t]:[],n=Xw(await this._rpcRequest("getLargestAccounts",r),wS);if("error"in n)throw new c_(n.error,"failed to get largest accounts");return n.result}async getTokenLargestAccounts(e,t){const r=this._buildArgs([e.toBase58()],t),n=Xw(await this._rpcRequest("getTokenLargestAccounts",r),gS);if("error"in n)throw new c_(n.error,"failed to get token largest accounts");return n.result}async getAccountInfoAndContext(e,t){const{commitment:r,config:n}=L_(t),i=this._buildArgs([e.toBase58()],r,"base64",n),o=Xw(await this._rpcRequest("getAccountInfo",i),K_(sv(vS)));if("error"in o)throw new c_(o.error,`failed to get info about account ${e.toBase58()}`);return o.result}async getParsedAccountInfo(e,t){const{commitment:r,config:n}=L_(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",n),o=Xw(await this._rpcRequest("getAccountInfo",i),K_(sv(ES)));if("error"in o)throw new c_(o.error,`failed to get info about account ${e.toBase58()}`);return o.result}async getAccountInfo(e,t){try{return(await this.getAccountInfoAndContext(e,t)).value}catch(tp){throw new Error("failed to get info about account "+e.toBase58()+": "+tp)}}async getMultipleParsedAccounts(e,t){const{commitment:r,config:n}=L_(t),i=e.map((e=>e.toBase58())),o=this._buildArgs([i],r,"jsonParsed",n),s=Xw(await this._rpcRequest("getMultipleAccounts",o),K_(tv(sv(ES))));if("error"in s)throw new c_(s.error,`failed to get info for accounts ${i}`);return s.result}async getMultipleAccountsInfoAndContext(e,t){const{commitment:r,config:n}=L_(t),i=e.map((e=>e.toBase58())),o=this._buildArgs([i],r,"base64",n),s=Xw(await this._rpcRequest("getMultipleAccounts",o),K_(tv(sv(vS))));if("error"in s)throw new c_(s.error,`failed to get info for accounts ${i}`);return s.result}async getMultipleAccountsInfo(e,t){return(await this.getMultipleAccountsInfoAndContext(e,t)).value}async getStakeActivation(e,t,r){const{commitment:n,config:i}=L_(t),o=this._buildArgs([e.toBase58()],n,void 0,{...i,epoch:null!=r?r:i?.epoch}),s=Xw(await this._rpcRequest("getStakeActivation",o),q_(xS));if("error"in s)throw new c_(s.error,`failed to get Stake Activation ${e.toBase58()}`);return s.result}async getProgramAccounts(e,t){const{commitment:r,config:n}=L_(t),{encoding:i,...o}=n||{},s=this._buildArgs([e.toBase58()],r,i||"base64",{...o,...o.filters?{filters:z_(o.filters)}:null}),a=await this._rpcRequest("getProgramAccounts",s),u=tv(_S),c=!0===o.withContext?Xw(a,K_(u)):Xw(a,q_(u));if("error"in c)throw new c_(c.error,`failed to get accounts owned by program ${e.toBase58()}`);return c.result}async getParsedProgramAccounts(e,t){const{commitment:r,config:n}=L_(t),i=this._buildArgs([e.toBase58()],r,"jsonParsed",n),o=Xw(await this._rpcRequest("getProgramAccounts",i),q_(tv(AS)));if("error"in o)throw new c_(o.error,`failed to get accounts owned by program ${e.toBase58()}`);return o.result}async confirmTransaction(e,t){let r,n;if("string"==typeof e)r=e;else{const t=e;if(t.abortSignal?.aborted)return Promise.reject(t.abortSignal.reason);r=t.signature}try{n=Uw().decode(r)}catch(i){throw new Error("signature must be base58 encoded: "+r)}return Wv(64===n.length,"signature has invalid length"),"string"===typeof e?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:t||this.commitment,signature:r}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:t||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise(((t,r)=>{null!=e&&(e.aborted?r(e.reason):e.addEventListener("abort",(()=>{r(e.reason)})))}))}getTransactionConfirmationPromise({commitment:e,signature:t}){let r,n,i=!1;return{abortConfirmation:()=>{n&&(n(),n=void 0),null!=r&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:new Promise(((o,s)=>{try{r=this.onSignature(t,((e,t)=>{r=void 0;const n={context:t,value:e};o({__type:Qv.PROCESSED,response:n})}),e);const a=new Promise((e=>{null==r?e():n=this._onSubscriptionStateChange(r,(t=>{"subscribed"===t&&e()}))}));(async()=>{if(await a,i)return;const r=await this.getSignatureStatus(t);if(i)return;if(null==r)return;const{context:n,value:u}=r;if(null!=u)if(u?.err)s(u.err);else{switch(e){case"confirmed":case"single":case"singleGossip":if("processed"===u.confirmationStatus)return;break;case"finalized":case"max":case"root":if("processed"===u.confirmationStatus||"confirmed"===u.confirmationStatus)return}i=!0,o({__type:Qv.PROCESSED,response:{context:n,value:u}})}})()}catch(a){s(a)}}))}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:t,lastValidBlockHeight:r,signature:n}}){let i=!1;const o=new Promise((t=>{const n=async()=>{try{return await this.getBlockHeight(e)}catch(t){return-1}};(async()=>{let e=await n();if(!i){for(;e<=r;){if(await l_(1e3),i)return;if(e=await n(),i)return}t({__type:Qv.BLOCKHEIGHT_EXCEEDED})}})()})),{abortConfirmation:s,confirmationPromise:a}=this.getTransactionConfirmationPromise({commitment:e,signature:n}),u=this.getCancellationPromise(t);let c;try{const e=await Promise.race([u,a,o]);if(e.__type!==Qv.PROCESSED)throw new Nv(n);c=e.response}finally{i=!0,s()}return c}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:t,minContextSlot:r,nonceAccountPubkey:n,nonceValue:i,signature:o}}){let s=!1;const a=new Promise((t=>{let o=i,a=null;const u=async()=>{try{const{context:t,value:i}=await this.getNonceAndContext(n,{commitment:e,minContextSlot:r});return a=t.slot,i?.nonce}catch(tp){return o}};(async()=>{if(o=await u(),!s)for(;;){if(i!==o)return void t({__type:Qv.NONCE_INVALID,slotInWhichNonceDidAdvance:a});if(await l_(2e3),s)return;if(o=await u(),s)return}})()})),{abortConfirmation:u,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),f=this.getCancellationPromise(t);let l;try{const t=await Promise.race([f,c,a]);if(t.__type===Qv.PROCESSED)l=t.response;else{let n;for(;;){const e=await this.getSignatureStatus(o);if(null==e)break;if(!(e.context.slot<(t.slotInWhichNonceDidAdvance??r))){n=e;break}await l_(400)}if(!n?.value)throw new Lv(o);{const t=e||"finalized",{confirmationStatus:r}=n.value;switch(t){case"processed":case"recent":if("processed"!==r&&"confirmed"!==r&&"finalized"!==r)throw new Lv(o);break;case"confirmed":case"single":case"singleGossip":if("confirmed"!==r&&"finalized"!==r)throw new Lv(o);break;case"finalized":case"max":case"root":if("finalized"!==r)throw new Lv(o)}l={context:n.context,value:{err:n.value.err}}}}}finally{s=!0,u()}return l}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:t}){let r;const n=new Promise((t=>{let n=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":n=this._confirmTransactionInitialTimeout||3e4}r=setTimeout((()=>t({__type:Qv.TIMED_OUT,timeoutMs:n})),n)})),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:t});let s;try{const e=await Promise.race([o,n]);if(e.__type!==Qv.PROCESSED)throw new Rv(t,e.timeoutMs/1e3);s=e.response}finally{clearTimeout(r),i()}return s}async getClusterNodes(){const e=Xw(await this._rpcRequest("getClusterNodes",[]),q_(tv(LS)));if("error"in e)throw new c_(e.error,"failed to get cluster nodes");return e.result}async getVoteAccounts(e){const t=this._buildArgs([],e),r=Xw(await this._rpcRequest("getVoteAccounts",t),jS);if("error"in r)throw new c_(r.error,"failed to get vote accounts");return r.result}async getSlot(e){const{commitment:t,config:r}=L_(e),n=this._buildArgs([],t,void 0,r),i=Xw(await this._rpcRequest("getSlot",n),q_(av()));if("error"in i)throw new c_(i.error,"failed to get slot");return i.result}async getSlotLeader(e){const{commitment:t,config:r}=L_(e),n=this._buildArgs([],t,void 0,r),i=Xw(await this._rpcRequest("getSlotLeader",n),q_(fv()));if("error"in i)throw new c_(i.error,"failed to get slot leader");return i.result}async getSlotLeaders(e,t){const r=[e,t],n=Xw(await this._rpcRequest("getSlotLeaders",r),q_(tv(U_)));if("error"in n)throw new c_(n.error,"failed to get slot leaders");return n.result}async getSignatureStatus(e,t){const{context:r,value:n}=await this.getSignatureStatuses([e],t);Wv(1===n.length);return{context:r,value:n[0]}}async getSignatureStatuses(e,t){const r=[e];t&&r.push(t);const n=Xw(await this._rpcRequest("getSignatureStatuses",r),KS);if("error"in n)throw new c_(n.error,"failed to get signature status");return n.result}async getTransactionCount(e){const{commitment:t,config:r}=L_(e),n=this._buildArgs([],t,void 0,r),i=Xw(await this._rpcRequest("getTransactionCount",n),q_(av()));if("error"in i)throw new c_(i.error,"failed to get transaction count");return i.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const t=this._buildArgs([],e),r=Xw(await this._rpcRequest("getInflationGovernor",t),sS);if("error"in r)throw new c_(r.error,"failed to get inflation");return r.result}async getInflationReward(e,t,r){const{commitment:n,config:i}=L_(r),o=this._buildArgs([e.map((e=>e.toBase58()))],n,void 0,{...i,epoch:null!=t?t:i?.epoch}),s=Xw(await this._rpcRequest("getInflationReward",o),$_);if("error"in s)throw new c_(s.error,"failed to get inflation reward");return s.result}async getInflationRate(){const e=Xw(await this._rpcRequest("getInflationRate",[]),aS);if("error"in e)throw new c_(e.error,"failed to get inflation rate");return e.result}async getEpochInfo(e){const{commitment:t,config:r}=L_(e),n=this._buildArgs([],t,void 0,r),i=Xw(await this._rpcRequest("getEpochInfo",n),cS);if("error"in i)throw new c_(i.error,"failed to get epoch info");return i.result}async getEpochSchedule(){const e=Xw(await this._rpcRequest("getEpochSchedule",[]),fS);if("error"in e)throw new c_(e.error,"failed to get epoch schedule");const t=e.result;return new I_(t.slotsPerEpoch,t.leaderScheduleSlotOffset,t.warmup,t.firstNormalEpoch,t.firstNormalSlot)}async getLeaderSchedule(){const e=Xw(await this._rpcRequest("getLeaderSchedule",[]),lS);if("error"in e)throw new c_(e.error,"failed to get leader schedule");return e.result}async getMinimumBalanceForRentExemption(e,t){const r=this._buildArgs([e],t),n=Xw(await this._rpcRequest("getMinimumBalanceForRentExemption",r),HS);return"error"in n?(console.warn("Unable to fetch minimum balance for rent exemption"),0):n.result}async getRecentBlockhashAndContext(e){const{context:t,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(e);return{context:t,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON:()=>({})}}}}async getRecentPerformanceSamples(e){const t=Xw(await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),yE);if("error"in t)throw new c_(t.error,"failed to get recent performance samples");return t.result}async getFeeCalculatorForBlockhash(e,t){const r=this._buildArgs([e],t),n=Xw(await this._rpcRequest("getFeeCalculatorForBlockhash",r),mE);if("error"in n)throw new c_(n.error,"failed to get fee calculator");const{context:i,value:o}=n.result;return{context:i,value:null!==o?o.feeCalculator:null}}async getFeeForMessage(e,t){const r=Tv(e.serialize()).toString("base64"),n=this._buildArgs([r],t),i=Xw(await this._rpcRequest("getFeeForMessage",n),K_(sv(av())));if("error"in i)throw new c_(i.error,"failed to get fee for message");if(null===i.result)throw new Error("invalid blockhash");return i.result}async getRecentPrioritizationFees(e){const t=e?.lockedWritableAccounts?.map((e=>e.toBase58())),r=t?.length?[t]:[],n=Xw(await this._rpcRequest("getRecentPrioritizationFees",r),uS);if("error"in n)throw new c_(n.error,"failed to get recent prioritization fees");return n.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(tp){throw new Error("failed to get recent blockhash: "+tp)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(tp){throw new Error("failed to get recent blockhash: "+tp)}}async getLatestBlockhashAndContext(e){const{commitment:t,config:r}=L_(e),n=this._buildArgs([],t,void 0,r),i=Xw(await this._rpcRequest("getLatestBlockhash",n),pE);if("error"in i)throw new c_(i.error,"failed to get latest blockhash");return i.result}async isBlockhashValid(e,t){const{commitment:r,config:n}=L_(t),i=this._buildArgs([e],r,void 0,n),o=Xw(await this._rpcRequest("isBlockhashValid",i),gE);if("error"in o)throw new c_(o.error,"failed to determine if the blockhash `"+e+"`is valid");return o.result}async getVersion(){const e=Xw(await this._rpcRequest("getVersion",[]),q_(tS));if("error"in e)throw new c_(e.error,"failed to get version");return e.result}async getGenesisHash(){const e=Xw(await this._rpcRequest("getGenesisHash",[]),q_(fv()));if("error"in e)throw new c_(e.error,"failed to get genesis hash");return e.result}async getBlock(e,t){const{commitment:r,config:n}=L_(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,n),o=await this._rpcRequest("getBlock",i);try{switch(n?.transactionDetails){case"accounts":{const e=Xw(o,sE);if("error"in e)throw e.error;return e.result}case"none":{const e=Xw(o,oE);if("error"in e)throw e.error;return e.result}default:{const e=Xw(o,iE);if("error"in e)throw e.error;const{result:t}=e;return t?{...t,transactions:t.transactions.map((({transaction:e,meta:t,version:r})=>({meta:t,transaction:{...e,message:F_(r,e.message)},version:r})))}:null}}}catch(tp){throw new c_(tp,"failed to get confirmed block")}}async getParsedBlock(e,t){const{commitment:r,config:n}=L_(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",n),o=await this._rpcRequest("getBlock",i);try{switch(n?.transactionDetails){case"accounts":{const e=Xw(o,uE);if("error"in e)throw e.error;return e.result}case"none":{const e=Xw(o,cE);if("error"in e)throw e.error;return e.result}default:{const e=Xw(o,aE);if("error"in e)throw e.error;return e.result}}}catch(tp){throw new c_(tp,"failed to get block")}}async getBlockProduction(e){let t,r;if("string"===typeof e)r=e;else if(e){const{commitment:n,...i}=e;r=n,t=i}const n=this._buildArgs([],r,"base64",t),i=Xw(await this._rpcRequest("getBlockProduction",n),oS);if("error"in i)throw new c_(i.error,"failed to get block production information");return i.result}async getTransaction(e,t){const{commitment:r,config:n}=L_(t),i=this._buildArgsAtLeastConfirmed([e],r,void 0,n),o=Xw(await this._rpcRequest("getTransaction",i),hE);if("error"in o)throw new c_(o.error,"failed to get transaction");const s=o.result;return s?{...s,transaction:{...s.transaction,message:F_(s.version,s.transaction.message)}}:s}async getParsedTransaction(e,t){const{commitment:r,config:n}=L_(t),i=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",n),o=Xw(await this._rpcRequest("getTransaction",i),dE);if("error"in o)throw new c_(o.error,"failed to get transaction");return o.result}async getParsedTransactions(e,t){const{commitment:r,config:n}=L_(t),i=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],r,"jsonParsed",n)})));return(await this._rpcBatchRequest(i)).map((e=>{const t=Xw(e,dE);if("error"in t)throw new c_(t.error,"failed to get transactions");return t.result}))}async getTransactions(e,t){const{commitment:r,config:n}=L_(t),i=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],r,void 0,n)})));return(await this._rpcBatchRequest(i)).map((e=>{const t=Xw(e,hE);if("error"in t)throw new c_(t.error,"failed to get transactions");const r=t.result;return r?{...r,transaction:{...r.transaction,message:F_(r.version,r.transaction.message)}}:r}))}async getConfirmedBlock(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),n=Xw(await this._rpcRequest("getBlock",r),fE);if("error"in n)throw new c_(n.error,"failed to get confirmed block");const i=n.result;if(!i)throw new Error("Confirmed block "+e+" not found");const o={...i,transactions:i.transactions.map((({transaction:e,meta:t})=>{const r=new Jv(e.message);return{meta:t,transaction:{...e,message:r}}}))};return{...o,transactions:o.transactions.map((({transaction:e,meta:t})=>({meta:t,transaction:r_.populate(e.message,e.signatures)})))}}async getBlocks(e,t,r){const n=this._buildArgsAtLeastConfirmed(void 0!==t?[e,t]:[e],r),i=Xw(await this._rpcRequest("getBlocks",n),q_(tv(av())));if("error"in i)throw new c_(i.error,"failed to get blocks");return i.result}async getBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),n=Xw(await this._rpcRequest("getBlock",r),lE);if("error"in n)throw new c_(n.error,"failed to get block");const i=n.result;if(!i)throw new Error("Block "+e+" not found");return i}async getConfirmedBlockSignatures(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,void 0,{transactionDetails:"signatures",rewards:!1}),n=Xw(await this._rpcRequest("getBlock",r),lE);if("error"in n)throw new c_(n.error,"failed to get confirmed block");const i=n.result;if(!i)throw new Error("Confirmed block "+e+" not found");return i}async getConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t),n=Xw(await this._rpcRequest("getTransaction",r),hE);if("error"in n)throw new c_(n.error,"failed to get transaction");const i=n.result;if(!i)return i;const o=new Jv(i.transaction.message),s=i.transaction.signatures;return{...i,transaction:r_.populate(o,s)}}async getParsedConfirmedTransaction(e,t){const r=this._buildArgsAtLeastConfirmed([e],t,"jsonParsed"),n=Xw(await this._rpcRequest("getTransaction",r),dE);if("error"in n)throw new c_(n.error,"failed to get confirmed transaction");return n.result}async getParsedConfirmedTransactions(e,t){const r=e.map((e=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([e],t,"jsonParsed")})));return(await this._rpcBatchRequest(r)).map((e=>{const t=Xw(e,dE);if("error"in t)throw new c_(t.error,"failed to get confirmed transactions");return t.result}))}async getConfirmedSignaturesForAddress(e,t,r){let n={},i=await this.getFirstAvailableBlock();for(;!("until"in n)&&!(--t<=0||t<i);)try{const e=await this.getConfirmedBlockSignatures(t,"finalized");e.signatures.length>0&&(n.until=e.signatures[e.signatures.length-1].toString())}catch(s){if(s instanceof Error&&s.message.includes("skipped"))continue;throw s}let o=await this.getSlot("finalized");for(;!("before"in n)&&!(++r>o);)try{const e=await this.getConfirmedBlockSignatures(r);e.signatures.length>0&&(n.before=e.signatures[e.signatures.length-1].toString())}catch(s){if(s instanceof Error&&s.message.includes("skipped"))continue;throw s}return(await this.getConfirmedSignaturesForAddress2(e,n)).map((e=>e.signature))}async getConfirmedSignaturesForAddress2(e,t,r){const n=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=Xw(await this._rpcRequest("getConfirmedSignaturesForAddress2",n),kS);if("error"in i)throw new c_(i.error,"failed to get confirmed signatures for address");return i.result}async getSignaturesForAddress(e,t,r){const n=this._buildArgsAtLeastConfirmed([e.toBase58()],r,void 0,t),i=Xw(await this._rpcRequest("getSignaturesForAddress",n),TS);if("error"in i)throw new c_(i.error,"failed to get signatures for address");return i.result}async getAddressLookupTable(e,t){const{context:r,value:n}=await this.getAccountInfoAndContext(e,t);let i=null;return null!==n&&(i=new B_({key:e,state:B_.deserialize(n.data)})),{context:r,value:i}}async getNonceAndContext(e,t){const{context:r,value:n}=await this.getAccountInfoAndContext(e,t);let i=null;return null!==n&&(i=y_.fromAccountData(n.data)),{context:r,value:i}}async getNonce(e,t){return await this.getNonceAndContext(e,t).then((e=>e.value)).catch((t=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+t)}))}async requestAirdrop(e,t){const r=Xw(await this._rpcRequest("requestAirdrop",[e.toBase58(),t]),bE);if("error"in r)throw new c_(r.error,`airdrop to ${e.toBase58()} failed`);return r.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await l_(100);const e=Date.now()-this._blockhashInfo.lastFetch>=3e4;if(null!==this._blockhashInfo.latestBlockhash&&!e)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),t=this._blockhashInfo.latestBlockhash,r=t?t.blockhash:null;for(let n=0;n<50;n++){const e=await this.getLatestBlockhash("finalized");if(r!==e.blockhash)return this._blockhashInfo={latestBlockhash:e,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},e;await l_(200)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:t,config:r}=L_(e),n=this._buildArgs([],t,"base64",r),i=Xw(await this._rpcRequest("getStakeMinimumDelegation",n),K_(av()));if("error"in i)throw new c_(i.error,"failed to get stake minimum delegation");return i.result}async simulateTransaction(e,t,r){if("message"in e){const n=e.serialize(),i=et.Buffer.from(n).toString("base64");if(Array.isArray(t)||void 0!==r)throw new Error("Invalid arguments");const o=t||{};o.encoding="base64","commitment"in o||(o.commitment=this.commitment),t&&"object"===typeof t&&"innerInstructions"in t&&(o.innerInstructions=t.innerInstructions);const s=[i,o],a=Xw(await this._rpcRequest("simulateTransaction",s),iS);if("error"in a)throw new Error("failed to simulate transaction: "+a.error.message);return a.result}let n;if(e instanceof r_){let t=e;n=new r_,n.feePayer=t.feePayer,n.instructions=e.instructions,n.nonceInfo=t.nonceInfo,n.signatures=t.signatures}else n=r_.populate(e),n._message=n._json=void 0;if(void 0!==t&&!Array.isArray(t))throw new Error("Invalid arguments");const i=t;if(n.nonceInfo&&i)n.sign(...i);else{let e=this._disableBlockhashCaching;for(;;){const t=await this._blockhashWithExpiryBlockHeight(e);if(n.lastValidBlockHeight=t.lastValidBlockHeight,n.recentBlockhash=t.blockhash,!i)break;if(n.sign(...i),!n.signature)throw new Error("!signature");const r=n.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(r)&&!this._blockhashInfo.transactionSignatures.includes(r)){this._blockhashInfo.simulatedSignatures.push(r);break}e=!0}}const o=n._compile(),s=o.serialize(),a=n._serialize(s).toString("base64"),u={encoding:"base64",commitment:this.commitment};if(r){const e=(Array.isArray(r)?r:o.nonProgramIds()).map((e=>e.toBase58()));u.accounts={encoding:"base64",addresses:e}}i&&(u.sigVerify=!0),t&&"object"===typeof t&&"innerInstructions"in t&&(u.innerInstructions=t.innerInstructions);const c=[a,u],f=Xw(await this._rpcRequest("simulateTransaction",c),iS);if("error"in f){let e;if("data"in f.error&&(e=f.error.data.logs,e&&Array.isArray(e))){const t="\n    ",r=t+e.join(t);console.error(f.error.message,r)}throw new u_({action:"simulate",signature:"",transactionMessage:f.error.message,logs:e})}return f.result}async sendTransaction(e,t,r){if("version"in e){if(t&&Array.isArray(t))throw new Error("Invalid arguments");const r=e.serialize();return await this.sendRawTransaction(r,t)}if(void 0===t||!Array.isArray(t))throw new Error("Invalid arguments");const n=t;if(e.nonceInfo)e.sign(...n);else{let t=this._disableBlockhashCaching;for(;;){const r=await this._blockhashWithExpiryBlockHeight(t);if(e.lastValidBlockHeight=r.lastValidBlockHeight,e.recentBlockhash=r.blockhash,e.sign(...n),!e.signature)throw new Error("!signature");const i=e.signature.toString("base64");if(!this._blockhashInfo.transactionSignatures.includes(i)){this._blockhashInfo.transactionSignatures.push(i);break}t=!0}}const i=e.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(e,t){const r=Tv(e).toString("base64");return await this.sendEncodedTransaction(r,t)}async sendEncodedTransaction(e,t){const r={encoding:"base64"},n=t&&t.skipPreflight,i=!0===n?"processed":t&&t.preflightCommitment||this.commitment;t&&null!=t.maxRetries&&(r.maxRetries=t.maxRetries),t&&null!=t.minContextSlot&&(r.minContextSlot=t.minContextSlot),n&&(r.skipPreflight=n),i&&(r.preflightCommitment=i);const o=[e,r],s=Xw(await this._rpcRequest("sendTransaction",o),wE);if("error"in s){let e;throw"data"in s.error&&(e=s.error.data.logs),new u_({action:n?"send":"simulate",signature:"",transactionMessage:s.error.message,logs:e})}return s.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval((()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()}),5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),1e3!==e?(this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach((([e,t])=>{this._setSubscription(e,{...t,state:"pending"})}))):this._updateSubscriptions()}_setSubscription(e,t){const r=this._subscriptionsByHash[e]?.state;if(this._subscriptionsByHash[e]=t,r!==t.state){const r=this._subscriptionStateChangeCallbacksByHash[e];r&&r.forEach((e=>{try{e(t.state)}catch{}}))}}_onSubscriptionStateChange(e,t){const r=this._subscriptionHashByClientSubscriptionId[e];if(null==r)return()=>{};const n=this._subscriptionStateChangeCallbacksByHash[r]||=new Set;return n.add(t),()=>{n.delete(t),0===n.size&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(0===Object.keys(this._subscriptionsByHash).length)return void(this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout((()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(e){e instanceof Error&&console.log(`Error when closing socket connection: ${e.message}`)}}),500)));if(null!==this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected)return void this._rpcWebSocket.connect();const e=this._rpcWebSocketGeneration,t=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map((async e=>{const r=this._subscriptionsByHash[e];if(void 0!==r)switch(r.state){case"pending":case"unsubscribed":if(0===r.callbacks.size)return delete this._subscriptionsByHash[e],"unsubscribed"===r.state&&delete this._subscriptionCallbacksByServerSubscriptionId[r.serverSubscriptionId],void(await this._updateSubscriptions());await(async()=>{const{args:n,method:i}=r;try{this._setSubscription(e,{...r,state:"subscribing"});const t=await this._rpcWebSocket.call(i,n);this._setSubscription(e,{...r,serverSubscriptionId:t,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[t]=r.callbacks,await this._updateSubscriptions()}catch(tp){if(console.error(`Received ${tp instanceof Error?"":"JSON-RPC "}error calling \`${i}\``,{args:n,error:tp}),!t())return;this._setSubscription(e,{...r,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":0===r.callbacks.size&&await(async()=>{const{serverSubscriptionId:n,unsubscribeMethod:i}=r;if(this._subscriptionsAutoDisposedByRpc.has(n))this._subscriptionsAutoDisposedByRpc.delete(n);else{this._setSubscription(e,{...r,state:"unsubscribing"}),this._setSubscription(e,{...r,state:"unsubscribing"});try{await this._rpcWebSocket.call(i,[n])}catch(tp){if(tp instanceof Error&&console.error(`${i} error:`,tp.message),!t())return;return this._setSubscription(e,{...r,state:"subscribed"}),void(await this._updateSubscriptions())}}this._setSubscription(e,{...r,state:"unsubscribed"}),await this._updateSubscriptions()})()}})))}_handleServerNotification(e,t){const r=this._subscriptionCallbacksByServerSubscriptionId[e];void 0!==r&&r.forEach((e=>{try{e(...t)}catch(tp){console.error(tp)}}))}_wsOnAccountNotification(e){const{result:t,subscription:r}=Xw(e,IS);this._handleServerNotification(r,[t.value,t.context])}_makeSubscription(e,t){const r=this._nextClientSubscriptionId++,n=k_([e.method,t]),i=this._subscriptionsByHash[n];return void 0===i?this._subscriptionsByHash[n]={...e,args:t,callbacks:new Set([e.callback]),state:"pending"}:i.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[r]=n,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const t=this._subscriptionsByHash[n];Wv(void 0!==t,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),t.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(e,t,r){const{commitment:n,config:i}=L_(r),o=this._buildArgs([e.toBase58()],n||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:t,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:t,subscription:r}=Xw(e,PS);this._handleServerNotification(r,[{accountId:t.value.pubkey,accountInfo:t.value.account},t.context])}onProgramAccountChange(e,t,r,n){const{commitment:i,config:o}=L_(r),s=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",o||(n?{filters:z_(n)}:void 0));return this._makeSubscription({callback:t,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},s)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,t,r){const n=this._buildArgs(["object"===typeof e?{mentions:[e.toString()]}:e],r||this._commitment||"finalized");return this._makeSubscription({callback:t,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},n)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:t,subscription:r}=Xw(e,_E);this._handleServerNotification(r,[t.value,t.context])}_wsOnSlotNotification(e){const{result:t,subscription:r}=Xw(e,OS);this._handleServerNotification(r,[t])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:t,subscription:r}=Xw(e,US);this._handleServerNotification(r,[t])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,t){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${t}' events could not be found.`)}_buildArgs(e,t,r,n){const i=t||this._commitment;if(i||r||n){let t={};r&&(t.encoding=r),i&&(t.commitment=i),n&&(t=Object.assign(t,n)),e.push(t)}return e}_buildArgsAtLeastConfirmed(e,t,r,n){const i=t||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,t,r,n)}_wsOnSignatureNotification(e){const{result:t,subscription:r}=Xw(e,NS);"receivedSignature"!==t.value&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,"receivedSignature"===t.value?[{type:"received"},t.context]:[{type:"status",result:t.value},t.context])}onSignature(e,t,r){const n=this._buildArgs([e],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(e,r)=>{if("status"===e.type){t(e.result,r);try{this.removeSignatureListener(i)}catch(n){}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},n);return i}onSignatureWithOptions(e,t,r){const{commitment:n,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([e],n,void 0,i),s=this._makeSubscription({callback:(e,r)=>{t(e,r);try{this.removeSignatureListener(s)}catch(n){}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return s}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:t,subscription:r}=Xw(e,RS);this._handleServerNotification(r,[t])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class AE{constructor(e){this._keypair=void 0,this._keypair=e??Sv()}static generate(){return new AE(Sv())}static fromSecretKey(e,t){if(64!==e.byteLength)throw new Error("bad secret key size");const r=e.slice(32,64);if(!t||!t.skipValidation){const t=e.slice(0,32),n=Ev(t);for(let e=0;e<32;e++)if(r[e]!==n[e])throw new Error("provided secretKey is invalid")}return new AE({publicKey:r,secretKey:e})}static fromSeed(e){const t=Ev(e),r=new Uint8Array(64);return r.set(e),r.set(t,32),new AE({publicKey:t,secretKey:r})}get publicKey(){return new Cv(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const xE=Object.freeze({CreateLookupTable:{index:0,layout:qw.n_([qw.Jq("instruction"),m_("recentSlot"),qw.u8("bumpSeed")])},FreezeLookupTable:{index:1,layout:qw.n_([qw.Jq("instruction")])},ExtendLookupTable:{index:2,layout:qw.n_([qw.Jq("instruction"),m_(),qw.A9(jv(),qw.cv(qw.Jq(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:qw.n_([qw.Jq("instruction")])},CloseLookupTable:{index:4,layout:qw.n_([qw.Jq("instruction")])}});class kE{constructor(){}static createLookupTable(e){const[t,r]=Cv.findProgramAddressSync([e.authority.toBuffer(),(0,Kw.k$)(BigInt(e.recentSlot),8)],this.programId),n=h_(xE.CreateLookupTable,{recentSlot:BigInt(e.recentSlot),bumpSeed:r}),i=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:v_.programId,isSigner:!1,isWritable:!1}];return[new t_({programId:this.programId,keys:i,data:n}),t]}static freezeLookupTable(e){const t=h_(xE.FreezeLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new t_({programId:this.programId,keys:r,data:t})}static extendLookupTable(e){const t=h_(xE.ExtendLookupTable,{addresses:e.addresses.map((e=>e.toBytes()))}),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&r.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:v_.programId,isSigner:!1,isWritable:!1}),new t_({programId:this.programId,keys:r,data:t})}static deactivateLookupTable(e){const t=h_(xE.DeactivateLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new t_({programId:this.programId,keys:r,data:t})}static closeLookupTable(e){const t=h_(xE.CloseLookupTable),r=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new t_({programId:this.programId,keys:r,data:t})}}kE.programId=new Cv("AddressLookupTab1e1111111111111111111111111");const TE=Object.freeze({RequestUnits:{index:0,layout:qw.n_([qw.u8("instruction"),qw.Jq("units"),qw.Jq("additionalFee")])},RequestHeapFrame:{index:1,layout:qw.n_([qw.u8("instruction"),qw.Jq("bytes")])},SetComputeUnitLimit:{index:2,layout:qw.n_([qw.u8("instruction"),qw.Jq("units")])},SetComputeUnitPrice:{index:3,layout:qw.n_([qw.u8("instruction"),m_("microLamports")])}});class IE{constructor(){}static requestUnits(e){const t=h_(TE.RequestUnits,e);return new t_({keys:[],programId:this.programId,data:t})}static requestHeapFrame(e){const t=h_(TE.RequestHeapFrame,e);return new t_({keys:[],programId:this.programId,data:t})}static setComputeUnitLimit(e){const t=h_(TE.SetComputeUnitLimit,e);return new t_({keys:[],programId:this.programId,data:t})}static setComputeUnitPrice(e){const t=h_(TE.SetComputeUnitPrice,{microLamports:BigInt(e.microLamports)});return new t_({keys:[],programId:this.programId,data:t})}}IE.programId=new Cv("ComputeBudget111111111111111111111111111111");const ME=qw.n_([qw.u8("numSignatures"),qw.u8("padding"),qw.KB("signatureOffset"),qw.KB("signatureInstructionIndex"),qw.KB("publicKeyOffset"),qw.KB("publicKeyInstructionIndex"),qw.KB("messageDataOffset"),qw.KB("messageDataSize"),qw.KB("messageInstructionIndex")]);class PE{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:n,instructionIndex:i}=e;Wv(32===t.length,`Public Key must be 32 bytes but received ${t.length} bytes`),Wv(64===n.length,`Signature must be 64 bytes but received ${n.length} bytes`);const o=ME.span,s=o+t.length,a=s+n.length,u=et.Buffer.alloc(a+r.length),c=null==i?65535:i;return ME.encode({numSignatures:1,padding:0,signatureOffset:s,signatureInstructionIndex:c,publicKeyOffset:o,publicKeyInstructionIndex:c,messageDataOffset:a,messageDataSize:r.length,messageInstructionIndex:c},u),u.fill(t,o),u.fill(n,s),u.fill(r,a),new t_({keys:[],programId:PE.programId,data:u})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:n}=e;Wv(64===t.length,`Private key must be 64 bytes but received ${t.length} bytes`);try{const e=AE.fromSecretKey(t),i=e.publicKey.toBytes(),o=xv(r,e.secretKey);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:o,instructionIndex:n})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}PE.programId=new Cv("Ed25519SigVerify111111111111111111111111111");Jl.utils.isValidPrivateKey;const BE=Jl.getPublicKey,OE=qw.n_([qw.u8("numSignatures"),qw.KB("signatureOffset"),qw.u8("signatureInstructionIndex"),qw.KB("ethAddressOffset"),qw.u8("ethAddressInstructionIndex"),qw.KB("messageDataOffset"),qw.KB("messageDataSize"),qw.u8("messageInstructionIndex"),qw.Ik(20,"ethAddress"),qw.Ik(64,"signature"),qw.u8("recoveryId")]);class CE{constructor(){}static publicKeyToEthAddress(e){Wv(64===e.length,`Public key must be 64 bytes but received ${e.length} bytes`);try{return et.Buffer.from(tf(Tv(e))).slice(-20)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(e){const{publicKey:t,message:r,signature:n,recoveryId:i,instructionIndex:o}=e;return CE.createInstructionWithEthAddress({ethAddress:CE.publicKeyToEthAddress(t),message:r,signature:n,recoveryId:i,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:t,message:r,signature:n,recoveryId:i,instructionIndex:o=0}=e;let s;s="string"===typeof t?t.startsWith("0x")?et.Buffer.from(t.substr(2),"hex"):et.Buffer.from(t,"hex"):t,Wv(20===s.length,`Address must be 20 bytes but received ${s.length} bytes`);const a=12+s.length,u=a+n.length+1,c=et.Buffer.alloc(OE.span+r.length);return OE.encode({numSignatures:1,signatureOffset:a,signatureInstructionIndex:o,ethAddressOffset:12,ethAddressInstructionIndex:o,messageDataOffset:u,messageDataSize:r.length,messageInstructionIndex:o,signature:Tv(n),ethAddress:Tv(s),recoveryId:i},c),c.fill(Tv(r),OE.span),new t_({keys:[],programId:CE.programId,data:c})}static createInstructionWithPrivateKey(e){const{privateKey:t,message:r,instructionIndex:n}=e;Wv(32===t.length,`Private key must be 32 bytes but received ${t.length} bytes`);try{const e=Tv(t),i=BE(e,!1).slice(1),o=et.Buffer.from(tf(Tv(r))),[s,a]=((e,t)=>{const r=Jl.sign(e,t);return[r.toCompactRawBytes(),r.recovery]})(o,e);return this.createInstructionWithPublicKey({publicKey:i,message:r,signature:s,recoveryId:a,instructionIndex:n})}catch(i){throw new Error(`Error creating instruction; ${i}`)}}}var UE;CE.programId=new Cv("KeccakSecp256k11111111111111111111111111111");const NE=new Cv("StakeConfig11111111111111111111111111111111");class RE{constructor(e,t,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=t,this.custodian=r}}UE=RE,RE.default=new UE(0,0,Cv.default);const LE=Object.freeze({Initialize:{index:0,layout:qw.n_([qw.Jq("instruction"),((e="authorized")=>qw.n_([jv("staker"),jv("withdrawer")],e))(),((e="lockup")=>qw.n_([qw.gM("unixTimestamp"),qw.gM("epoch"),jv("custodian")],e))()])},Authorize:{index:1,layout:qw.n_([qw.Jq("instruction"),jv("newAuthorized"),qw.Jq("stakeAuthorizationType")])},Delegate:{index:2,layout:qw.n_([qw.Jq("instruction")])},Split:{index:3,layout:qw.n_([qw.Jq("instruction"),qw.gM("lamports")])},Withdraw:{index:4,layout:qw.n_([qw.Jq("instruction"),qw.gM("lamports")])},Deactivate:{index:5,layout:qw.n_([qw.Jq("instruction")])},Merge:{index:7,layout:qw.n_([qw.Jq("instruction")])},AuthorizeWithSeed:{index:8,layout:qw.n_([qw.Jq("instruction"),jv("newAuthorized"),qw.Jq("stakeAuthorizationType"),qv("authoritySeed"),jv("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class zE{constructor(){}static initialize(e){const{stakePubkey:t,authorized:r,lockup:n}=e,i=n||RE.default,o=h_(LE.Initialize,{authorized:{staker:Tv(r.staker.toBuffer()),withdrawer:Tv(r.withdrawer.toBuffer())},lockup:{unixTimestamp:i.unixTimestamp,epoch:i.epoch,custodian:Tv(i.custodian.toBuffer())}}),s={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s_,isSigner:!1,isWritable:!1}],programId:this.programId,data:o};return new t_(s)}static createAccountWithSeed(e){const t=new r_;t.add(v_.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static createAccount(e){const t=new r_;t.add(v_.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:i}=e;return t.add(this.initialize({stakePubkey:r,authorized:n,lockup:i}))}static delegate(e){const{stakePubkey:t,authorizedPubkey:r,votePubkey:n}=e,i=h_(LE.Delegate);return(new r_).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:i_,isSigner:!1,isWritable:!1},{pubkey:a_,isSigner:!1,isWritable:!1},{pubkey:NE,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static authorize(e){const{stakePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,stakeAuthorizationType:i,custodianPubkey:o}=e,s=h_(LE.Authorize,{newAuthorized:Tv(n.toBuffer()),stakeAuthorizationType:i.index}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i_,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!0,isWritable:!1}),(new r_).add({keys:a,programId:this.programId,data:s})}static authorizeWithSeed(e){const{stakePubkey:t,authorityBase:r,authoritySeed:n,authorityOwner:i,newAuthorizedPubkey:o,stakeAuthorizationType:s,custodianPubkey:a}=e,u=h_(LE.AuthorizeWithSeed,{newAuthorized:Tv(o.toBuffer()),stakeAuthorizationType:s.index,authoritySeed:n,authorityOwner:Tv(i.toBuffer())}),c=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:i_,isSigner:!1,isWritable:!1}];return a&&c.push({pubkey:a,isSigner:!0,isWritable:!1}),(new r_).add({keys:c,programId:this.programId,data:u})}static splitInstruction(e){const{stakePubkey:t,authorizedPubkey:r,splitStakePubkey:n,lamports:i}=e,o=h_(LE.Split,{lamports:i});return new t_({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static split(e,t){const r=new r_;return r.add(v_.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:t,space:this.space,programId:this.programId})),r.add(this.splitInstruction(e))}static splitWithSeed(e,t){const{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,basePubkey:o,seed:s,lamports:a}=e,u=new r_;return u.add(v_.allocate({accountPubkey:i,basePubkey:o,seed:s,space:this.space,programId:this.programId})),t&&t>0&&u.add(v_.transfer({fromPubkey:e.authorizedPubkey,toPubkey:i,lamports:t})),u.add(this.splitInstruction({stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:a}))}static merge(e){const{stakePubkey:t,sourceStakePubKey:r,authorizedPubkey:n}=e,i=h_(LE.Merge);return(new r_).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i_,isSigner:!1,isWritable:!1},{pubkey:a_,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:i})}static withdraw(e){const{stakePubkey:t,authorizedPubkey:r,toPubkey:n,lamports:i,custodianPubkey:o}=e,s=h_(LE.Withdraw,{lamports:i}),a=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:i_,isSigner:!1,isWritable:!1},{pubkey:a_,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return o&&a.push({pubkey:o,isSigner:!0,isWritable:!1}),(new r_).add({keys:a,programId:this.programId,data:s})}static deactivate(e){const{stakePubkey:t,authorizedPubkey:r}=e,n=h_(LE.Deactivate);return(new r_).add({keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i_,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}}zE.programId=new Cv("Stake11111111111111111111111111111111111111"),zE.space=200;const jE=Object.freeze({InitializeAccount:{index:0,layout:qw.n_([qw.Jq("instruction"),((e="voteInit")=>qw.n_([jv("nodePubkey"),jv("authorizedVoter"),jv("authorizedWithdrawer"),qw.u8("commission")],e))()])},Authorize:{index:1,layout:qw.n_([qw.Jq("instruction"),jv("newAuthorized"),qw.Jq("voteAuthorizationType")])},Withdraw:{index:3,layout:qw.n_([qw.Jq("instruction"),qw.gM("lamports")])},UpdateValidatorIdentity:{index:4,layout:qw.n_([qw.Jq("instruction")])},AuthorizeWithSeed:{index:10,layout:qw.n_([qw.Jq("instruction"),((e="voteAuthorizeWithSeedArgs")=>qw.n_([qw.Jq("voteAuthorizationType"),jv("currentAuthorityDerivedKeyOwnerPubkey"),qv("currentAuthorityDerivedKeySeed"),jv("newAuthorized")],e))()])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class DE{constructor(){}static initializeAccount(e){const{votePubkey:t,nodePubkey:r,voteInit:n}=e,i=h_(jE.InitializeAccount,{voteInit:{nodePubkey:Tv(n.nodePubkey.toBuffer()),authorizedVoter:Tv(n.authorizedVoter.toBuffer()),authorizedWithdrawer:Tv(n.authorizedWithdrawer.toBuffer()),commission:n.commission}}),o={keys:[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:s_,isSigner:!1,isWritable:!1},{pubkey:i_,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:i};return new t_(o)}static createAccount(e){const t=new r_;return t.add(v_.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),t.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:t,authorizedPubkey:r,newAuthorizedPubkey:n,voteAuthorizationType:i}=e,o=h_(jE.Authorize,{newAuthorized:Tv(n.toBuffer()),voteAuthorizationType:i.index}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i_,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new r_).add({keys:s,programId:this.programId,data:o})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:t,currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:i,voteAuthorizationType:o,votePubkey:s}=e,a=h_(jE.AuthorizeWithSeed,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:Tv(r.toBuffer()),currentAuthorityDerivedKeySeed:n,newAuthorized:Tv(i.toBuffer()),voteAuthorizationType:o.index}}),u=[{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:i_,isSigner:!1,isWritable:!1},{pubkey:t,isSigner:!0,isWritable:!1}];return(new r_).add({keys:u,programId:this.programId,data:a})}static withdraw(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,lamports:n,toPubkey:i}=e,o=h_(jE.Withdraw,{lamports:n}),s=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return(new r_).add({keys:s,programId:this.programId,data:o})}static safeWithdraw(e,t,r){if(e.lamports>t-r)throw new Error("Withdraw will leave vote account with insufficient funds.");return DE.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:t,authorizedWithdrawerPubkey:r,nodePubkey:n}=e,i=h_(jE.UpdateValidatorIdentity),o=[{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new r_).add({keys:o,programId:this.programId,data:i})}}DE.programId=new Cv("Vote111111111111111111111111111111111111111"),DE.space=3762;new Cv("Va1idator1nfo111111111111111111111111111111"),hv({name:fv(),website:uv(fv()),details:uv(fv()),iconUrl:uv(fv()),keybaseUsername:uv(fv())});new Cv("Vote111111111111111111111111111111111111111"),qw.n_([jv("nodePubkey"),jv("authorizedWithdrawer"),qw.u8("commission"),qw._O(),qw.A9(qw.n_([qw._O("slot"),qw.Jq("confirmationCount")]),qw.cv(qw.Jq(),-8),"votes"),qw.u8("rootSlotValid"),qw._O("rootSlot"),qw._O(),qw.A9(qw.n_([qw._O("epoch"),jv("authorizedVoter")]),qw.cv(qw.Jq(),-8),"authorizedVoters"),qw.n_([qw.A9(qw.n_([jv("authorizedPubkey"),qw._O("epochOfLastAuthorizedSwitch"),qw._O("targetEpoch")]),32,"buf"),qw._O("idx"),qw.u8("isEmpty")],"priorVoters"),qw._O(),qw.A9(qw.n_([qw._O("epoch"),qw._O("credits"),qw._O("prevCredits")]),qw.cv(qw.Jq(),-8),"epochCredits"),qw.n_([qw._O("slot"),qw._O("timestamp")],"lastTimestamp")]);const qE={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function KE(e,t){const r=!1===t?"http":"https";if(!e)return qE[r].devnet;const n=qE[r][e];if(!n)throw new Error(`Unknown ${r} cluster: ${e}`);return n}var HE=r("Dp+g").Buffer,FE=function(e){k(r,e);var t=N(r);function r(){var e;return g(this,r),_(C(e=t.call(this)),"_namespace","solana"),_(C(e),"_signMethod","ecdsa"),_(C(e),"isConnected",!1),Le(C(e)),e}return X(r,[{key:"publicKey",get:function(){return this._connectedPubKey?(console.log("get pubKey",new Cv(this._connectedAddress)),new Cv(this._connectedAddress)):null}},{key:"connect",value:function(){var e=this;return i(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.debug("SolanaProvider call connect"),t.next=4,e._requestNormalConnect();case 4:if(e.emit("connect"),e.isConnected=!0,e.publicKey){t.next=8;break}throw new Error("publicKey is null");case 8:return t.abrupt("return",{publicKey:e.publicKey});case 11:throw t.prev=11,t.t0=t.catch(0),e.reportError(t.t0),t.t0;case 15:case"end":return t.stop()}}),t,null,[[0,11]])})))()}},{key:"disconnect",value:function(){var e=this;return i(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._requestDisconnect();case 2:case"end":return t.stop()}}),t)})))()}},{key:"_signSolanaTx",value:function(e,t){var r=this;return i(s().mark((function n(){var i,o;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.publicKey){n.next=2;break}throw new Error("publicKey is null");case 2:return console.log("_signSolanaTx serialize",e.serialize),i=HE.from(e.serialize({requireAllSignatures:!1})),console.log("_signSolanaTx buffer:",i),o=i.toString("base64"),console.log("_signSolanaTx base64Encoded:",o),n.next=9,r._universalSign({type:t?"sendTransaction":"signTransaction",request:{id:1,jsonrpc:"2.0",method:t?"solana_signAndSendTransaction":"solana_signTransaction",params:{transaction:o}}});case 9:return n.abrupt("return",n.sent);case 10:case"end":return n.stop()}}),n)})))()}},{key:"signTransaction",value:function(e){var t=this;return i(s().mark((function r(){var n,i,o,a,u,c,f;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.reportMethodCalled({method:"signTransaction",params:e}),r.next=3,t.getIsUniversalSign();case 3:if(n=r.sent,r.prev=4,t.publicKey){r.next=7;break}throw new Error("publicKey is null");case 7:if(!n){r.next=14;break}return r.next=10,t._signSolanaTx(e);case 10:return i=r.sent.transaction,o=n_.deserialize(HE.from(i,"base64")),console.log("signedTx:",o),r.abrupt("return",o);case 14:return a=t.isVersionedTransaction(e)?e.version:"legacy",u=ot().encode(t.isVersionedTransaction(e)?0===e.version?e.message.serialize():e.serialize():e.serializeMessage()),c=JSON.stringify(e),r.next=19,t._requestWalletKitSign({method:"preview_message",params:{data:c,raw:u,version:a},extra:{from:t._connectedAddress}});case 19:return f=r.sent,e.addSignature(t.publicKey,HE.from(ot().decode(f))),r.abrupt("return",e);case 24:throw r.prev=24,r.t0=r.catch(4),t.reportError(r.t0),console.log("signTransaction error",r.t0),r.t0;case 29:case"end":return r.stop()}}),r,null,[[4,24]])})))()}},{key:"signAllTransactions",value:function(e){var t=this;return i(s().mark((function r(){var n,i,o,a,u,c,f,l;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t.reportMethodCalled({method:"signAllTransactions",params:e}),r.prev=1,n=[],i=!0,o=!1,a=void 0,r.prev=4,u=e[Symbol.iterator]();case 6:if(i=(c=u.next()).done){r.next=15;break}return f=c.value,r.next=10,t.signTransaction(f);case 10:l=r.sent,n.push(l);case 12:i=!0,r.next=6;break;case 15:r.next=21;break;case 17:r.prev=17,r.t0=r.catch(4),o=!0,a=r.t0;case 21:r.prev=21,r.prev=22,i||null==u.return||u.return();case 24:if(r.prev=24,!o){r.next=27;break}throw a;case 27:return r.finish(24);case 28:return r.finish(21);case 29:return r.abrupt("return",n);case 32:throw r.prev=32,r.t1=r.catch(1),t.reportError(r.t1),r.t1;case 36:case"end":return r.stop()}}),r,null,[[1,32],[4,17,21,29],[22,,24,28]])})))()}},{key:"signMessage",value:function(e){var t=this;return i(s().mark((function r(){var n,i,o,a;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.reportMethodCalled({method:"signMessage",params:e}),r.next=3,t.getIsUniversalSign();case 3:if(n=r.sent,r.prev=4,!n){r.next=10;break}return r.next=8,t._universalSign({type:"signMessage",request:{id:1,jsonrpc:"2.0",method:"solana_signMessage",params:{message:ot().encode(e),pubkey:t._connectedPubKey}}});case 8:return i=r.sent.signature,r.abrupt("return",{signature:Uint8Array.from(ot().decode(i))});case 10:return o=Me(e),r.next=13,t._requestWalletKitSign({method:"preview_message",params:{data:o},extra:{from:t._connectedAddress}});case 13:return a=r.sent,r.abrupt("return",{signature:Uint8Array.from(ot().decode(a))});case 17:throw r.prev=17,r.t0=r.catch(4),t.reportError(r.t0),r.t0;case 21:case"end":return r.stop()}}),r,null,[[4,17]])})))()}},{key:"signAndSendTransaction",value:function(e){var t=this;return i(s().mark((function r(){var n,o;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.reportMethodCalled({method:"signAndSendTransaction",params:e}),r.next=3,t.getIsUniversalSign();case 3:if(n=r.sent,r.prev=4,t.publicKey){r.next=7;break}throw new Error("publicKey is null");case 7:if(!n){r.next=13;break}return r.next=10,t._signSolanaTx(e,!0);case 10:return o=r.sent.signature,console.log("signature:",o),r.abrupt("return",{signature:o});case 13:return r.abrupt("return",t.signTransaction(e).then(function(){var e=i(s().mark((function e(t){var r,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new EE(KE("mainnet-beta"),"confirmed"),e.next=3,r.sendRawTransaction(t.serialize());case 3:return n=e.sent,e.abrupt("return",{signature:n});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 16:throw r.prev=16,r.t0=r.catch(4),t.reportError(r.t0),r.t0;case 20:case"end":return r.stop()}}),r,null,[[4,16]])})))()}},{key:"isVersionedTransaction",value:function(e){return"version"in e}}]),r}(Ye);'\n<div id="'.concat("bn-dapp-browser-mediumRiskTooltip",'">\n    ').concat("\n<style>\n  .bn-dapp-browser-mediumRiskTooltip {\n    display: block;\n    box-sizing: border-box !important;\n    position: fixed;\n    z-index: 999999;\n    top: 2px;\n    left: 16px;\n    width: calc(100% - 32px);\n    align-items: center;\n  }\n\n  .bn-dapp-browser-mediumRiskTooltip .tooltip-arrow {\n    display: block;\n    width: 0;\n    height: 0;\n    border-left: 5px solid transparent;\n    border-bottom: 4px solid rgba(32, 38, 48, 0.95);\n    border-right: 5px solid transparent;\n    margin-left: 50%;\n  }\n\n  .bn-dapp-browser-mediumRiskTooltip .tooltip-content {\n    display: block;\n    background-color: rgba(32, 38, 48, 0.95);\n    color: white;\n    font-size: 12px;\n    font-style: normal;\n    font-weight: 400;\n    line-height: 16px;\n    text-align: left;\n    border-radius: 6px;\n    padding: 10px 36px 10px 10px;\n    margin-top: 0px;\n  }\n\n  .bn-dapp-browser-mediumRiskTooltip .tooltip-title {\n    display: block;\n    font-weight: 600;\n    margin-bottom: 2px;\n  }\n\n  .bn-dapp-browser-mediumRiskTooltip .tooltip-close {\n    display: block;\n    position: absolute;\n    top: 12px;\n    right: 10px;\n    width: 16px;\n    height: 16px;\n    padding: 5px;\n  }\n</style>\n","\n    ").concat('\n<div class="bn-dapp-browser-mediumRiskTooltip">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-content">\n    <div class="tooltip-title" id="bn-dapp-browser-mediumRiskTooltip-title">Potential risk</div>\n    <div class="tooltip-desc" id="bn-dapp-browser-mediumRiskTooltip-desc">\n      Never enter any personal data, private key, password, etc.\n    </div>\n  </div>\n  <div class="tooltip-close" id="bn-dapp-browser-mediumRiskTooltip-button">\n    <svg\n      xmlns="http://www.w3.org/2000/svg"\n      width="16"\n      height="16"\n      viewBox="0 0 16 16"\n      fill="none"\n    >\n      <path\n        d="M4.46452 3.05025L3.0503 4.46447L6.58584 8L3.0503 11.5355L4.46452 12.9497L8.00005 9.41421L11.5356 12.9497L12.9498 11.5355L9.41426 8L12.9498 4.46447L11.5356 3.05025L8.00005 6.58579L4.46452 3.05025Z"\n        fill="white"\n      />\n    </svg>\n  </div>\n</div>\n',"\n</div>\n");const WE={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let $E;const VE=new Uint8Array(16);function GE(){if(!$E&&($E="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!$E))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $E(VE)}const ZE=[];for(let r=0;r<256;++r)ZE.push((r+256).toString(16).slice(1));function JE(e,t=0){return ZE[e[t+0]]+ZE[e[t+1]]+ZE[e[t+2]]+ZE[e[t+3]]+"-"+ZE[e[t+4]]+ZE[e[t+5]]+"-"+ZE[e[t+6]]+ZE[e[t+7]]+"-"+ZE[e[t+8]]+ZE[e[t+9]]+"-"+ZE[e[t+10]]+ZE[e[t+11]]+ZE[e[t+12]]+ZE[e[t+13]]+ZE[e[t+14]]+ZE[e[t+15]]}const XE=function(e,t,r){if(WE.randomUUID&&!t&&!e)return WE.randomUUID();const n=(e=e||{}).random||(e.rng||GE)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=n[e];return t}return JE(n)};var YE={},QE=function(e,t,r){return function(e,t){if(!e.startsWith(he))throw new Error('method name must start with "'.concat(he,'"'));return new Promise((function(r,n){var i=XE();YE[i]={id:i,data:t,resolve:r,reject:n},window.bn.miniProgram.postMessage({id:i,name:e,data:t}),setTimeout((function(){YE[i]&&(YE[i].reject("DApp request timeout: ".concat(e)),delete YE[i])}),5e3)}))}(le.REQUEST,{url:e,httpMethod:t,requestData:r})},eA=function(e,t){window.bn.miniProgram.postMessage({name:e,data:t})},tA="en",rA="zh-CN",nA="zh-TW",iA="ja",oA="ko",sA="it",aA=["en","zh-CN","zh-TW","ja","ko","it"],uA="unidentification",cA={version:"3.4.0.20240525",translate:null,includedLanguages:"zh-CN,zh-TW,en",changeLanguage:function(e){cA.to=e,cA.storage.set("to",e),cA.execute()},to:"",autoDiscriminateLocalLanguage:!1,documents:[],inProgressNodes:[],ignore:{tag:["style","script","link","pre","code","noscript","i"],class:["ignore","translateSelectLanguage"],id:[],isIgnore:function(e){if(null==e||"undefined"===typeof e)return!1;for(var t=e,r=100;r-- >0;){if(null==t||"undefined"===typeof t)return!1;var n=cA.element.getNodeName(t).toLowerCase();if(n.length>0){if("body"==n||"html"==n||"#document"==n)return!1;if(cA.ignore.tag.indexOf(n)>-1)return!0}if(null!=t.className){var i=t.className;if(null==i||"string"!==typeof i)continue;i=i.trim().split(" ");for(var o=0;o<i.length;o++)if(null!=i[o]&&i[o].trim().length>0&&cA.ignore.class.indexOf(i[o])>-1)return!0}if(null!=t.id&&"undefined"!==typeof t.id&&cA.ignore.id.indexOf(t.id)>-1)return!0;t=t.parentNode}return!1}},nomenclature:{data:[],old_Data:[],set:function(e){alert("\u8bf7\u5c06 translate.nomenclature.set \u66f4\u6362\u4e3a append\uff0c\u5177\u4f53\u4f7f\u7528\u53ef\u53c2\u8003\uff1a https://github.com/xnx3/translate ")},append:function(e,t,r){"undefined"===typeof cA.nomenclature.data[e]&&(cA.nomenclature.data[e]=[]),"undefined"===typeof cA.nomenclature.data[e][t]&&(cA.nomenclature.data[e][t]=[]);for(var n=r.split("\n"),i=0;i<n.length;i++){var o=n[i].trim();if(!(o.length<1)){var s=o.split("=");if(2==s.length){var a=s[0].trim(),u=s[1].trim();0!=a.length&&0!=u.length&&(cA.nomenclature.data[e][t][a]=u)}}}cA.nomenclature.data[e][t]=cA.util.objSort(cA.nomenclature.data[e][t])},get:function(){return cA.nomenclature.data},dispose:function(e){if(null==e||0==e.length)return e;if("undefined"===typeof cA.nomenclature.data[cA.language.getLocal()]||"undefined"===typeof cA.nomenclature.data[cA.language.getLocal()][cA.to])return e;for(var t in cA.nomenclature.data[cA.language.getLocal()][cA.to]){var r=cA.nomenclature.data[cA.language.getLocal()][cA.to][t];if("function"!==typeof r){var n=e.indexOf(t);if(n>-1)if(cA.language.getLocal()==tA){var i="";if(0==n);else if(i=e.substr(n-1,1),cA.language.getCharLanguage(i)==tA)continue;var o="";if(n+t.length==e.length);else if(o=e.substr(n+t.length,1),cA.language.getCharLanguage(o)==tA)continue;e=e.replace(new RegExp(i+t+o,"g"),i+r+o)}else e=e.replace(new RegExp(t,"g"),r)}}return e}},setAutoDiscriminateLocalLanguage:function(){cA.autoDiscriminateLocalLanguage=!0},nodeQueue:{},setDocuments:function(e){null!=e&&"undefined"!==typeof e&&("undefined"===typeof e.length?cA.documents[0]=e:cA.documents=e,cA.nodeQueue={})},getDocuments:function(){return null!=cA.documents&&"undefined"!==typeof cA.documents&&cA.documents.length>0?cA.documents:document.all},listener:{isStart:!1,stopListen:!1,start:function(){cA.listener.stopListen=!1,cA.temp_linstenerStartInterval=setInterval((function(){"complete"===document.readyState&&(clearInterval(cA.temp_linstenerStartInterval),cA.listener.addListener())}),300)},addListener:function(){cA.listener.isStart=!0,cA.listener.config={attributes:!0,childList:!0,subtree:!0,characterData:!0,attributeOldValue:!0,characterDataOldValue:!0},cA.listener.callback=function(e,t){if(!cA.listener.stopListen){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var u=s.value,c=[];"childList"===u.type?u.addedNodes.length>0?c=u.addedNodes:u.removedNodes.length:"attributes"===u.type||"characterData"===u.type&&(c=[u.target]);var f=!0,l=!1,h=void 0;try{for(var d,p=c[Symbol.iterator]();!(f=(d=p.next()).done);f=!0){for(var g=d.value,y=!1,m=0;m<r.length;m++)if(r[m].isSameNode(g)){y=!0;break}if(y)break;r.push.apply(r,[g])}}catch(T){l=!0,h=T}finally{try{f||null==p.return||p.return()}finally{if(l)throw h}}}}catch(T){i=!0,o=T}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}if(r.length>0){var b=[],w=!0,v=!1,_=void 0;try{for(var S,E=r[Symbol.iterator]();!(w=(S=E.next()).done);w=!0){for(var A=S.value,x=!1,k=0;k<cA.inProgressNodes.length;k++)if(cA.inProgressNodes[k].node.isSameNode(A)){x=!0;break}x||b.push(A)}}catch(T){v=!0,_=T}finally{try{w||null==E.return||E.return()}finally{if(v)throw _}}if(b.length<1)return;setTimeout((function(){cA.execute(b)}),10)}}},cA.listener.observer=new MutationObserver(cA.listener.callback);for(var e=cA.getDocuments(),t=0;t<e.length;t++){var r=e[t];null!=r&&cA.listener.observer.observe(r,cA.listener.config)}},stop:function(){var e,t;cA.listener.stopListen=!0,(null===(e=cA.listener)||void 0===e||null===(t=e.observer)||void 0===t?void 0:t.disconnect)&&cA.listener.observer.disconnect(),clearInterval(cA.temp_linstenerStartInterval)},renderTaskFinish:function(e){}},renderTask:function(){function e(){g(this,e),this.taskQueue=[],this.nodes=[]}return X(e,[{key:"add",value:function(e,t,r,n){var i=cA.element.nodeAnalyse.get(e,n),o=cA.util.hash(i.text);"undefined"===typeof this.nodes[o]&&(this.nodes[o]=[]),this.nodes[o].push(e);var s=this.taskQueue[o];null!=s&&"undefined"!==typeof s||(s=[]);var a=[];" "==t.substr(0,1)&&" "!=r.substr(0,1)&&(r=" "+r)," "===t.substr(t.length-1,1)&&" "!=r.substr(0,1)&&(r+=" "),a.originalText=t,a.resultText=r,a.attribute=n,s.push(a),this.taskQueue[o]=s}},{key:"execute",value:function(){for(var e in this.taskQueue){"function"!==typeof(t=this.taskQueue[e])&&(t.sort((function(e,t){return t.originalText.length-e.originalText.length})),this.taskQueue[e]=t)}for(var e in this.nodes)for(var t=this.taskQueue[e],r=0;r<this.nodes[e].length;r++)for(var n=0;n<t.length;n++){var i=t[n];if("function"!==typeof t){var o=this.nodes[e][n];setTimeout((function(e){for(var t=0;t<cA.inProgressNodes.length;t++)if(cA.inProgressNodes[t].node.isSameNode(e)){cA.inProgressNodes[t].number=cA.inProgressNodes[t].number-1,cA.inProgressNodes[t].number<1&&cA.inProgressNodes.splice(t,1);break}}),50,o),cA.element.nodeAnalyse.set(this.nodes[e][n],i.originalText,i.resultText,i.attribute)}}if("undefined"!==typeof this.taskQueue&&Object.keys(this.taskQueue).length>0){var s=this;setTimeout((function(){for(var e in s.nodes)for(var t in s.nodes[e]){var r=cA.element.nodeAnalyse.get(s.nodes[e][0]),n=fA.uuid(r.node);0!=n.length&&(cA.nodeHistory[n]={},cA.nodeHistory[n].node=r.node,cA.nodeHistory[n].translateText=r.text)}cA.listener.renderTaskFinish(s)}),50)}}}]),e}(),execute:function(e){var t=function(e){for(var t=function(t){for(var n=0;n<g.length;n++)if(p[e][t].node.isSameNode(g[n].node)){p[e][t].array=g[n].array;break}p[e][t].array.sort((function(e,t){return t.length-e.length}));for(var i=cA.element.nodeAnalyse.get(p[e][t].node),o=i.text,s=0;s<p[e][t].array.length;s++)p[e][t].array[s]<1||(o=o.replace(new RegExp(cA.util.regExp.pattern(p[e][t].array[s]),"g"),cA.util.regExp.resultText("\n")));for(var a=o.split("\n"),u=0;u<a.length;u++)a[u]<1||cA.addNodeToQueue(r,i.node,a[u])},n=Object.keys(cA.nodeQueue[r].list[e]),i=n.length,o=0;o<p[e].length;o++)t(o);var s=Object.keys(cA.nodeQueue[r].list[e])||[];if(i-s.length==0)return"continue";for(var a=0;a<s.length;a++){var u=s[a];if(-1==n.indexOf(u)){var c=cA.nodeQueue[r].list[e][u],f=c.original==c.translateText?u:cA.util.hash(c.translateText);cA.nodeQueue[r].list[e][u].cacheHash=f,h[e].push(c.translateText),d[e].push(u)}}};"undefined"!==typeof e&&(cA.useVersion="v2");var r=cA.util.uuid();if(null==cA.to||""==cA.to){var n=cA.storage.get("to");null!=n&&"undefined"!==typeof n&&n.length>0&&(cA.to=n)}if(null!=cA.to&&"undefined"!==typeof cA.to&&0!=cA.to.length)if(cA.to!=cA.language.getLocal()){var i;if(cA.images.execute(),"undefined"!==typeof e){if(null==e)return void console.log("translate.execute(...) \u4e2d\u4f20\u5165\u7684\u8981\u7ffb\u8bd1\u7684\u76ee\u6807\u533a\u57df\u4e0d\u5b58\u5728\u3002");"undefined"===typeof e.length?(i=[])[0]=e:i=e}else i=cA.getDocuments();i.length>500&&console.log("docs.length \u8fc7\u5927\uff0c\u8d85\u8fc7500\uff0c\u8fd9\u5f88\u4e0d\u6b63\u5e38. documents.length:"+i.length);for(var o=0;o<i.length;o++){var s=i[o];cA.element.whileNodes(r,s)}if(cA.language.translateLanguagesRange.length>0)for(var a in cA.nodeQueue[r].list)cA.language.translateLanguagesRange.indexOf(a)<0&&delete cA.nodeQueue[r].list[a];for(var a in cA.nodeQueue[r].list){for(var u in cA.nodeQueue[r].list[a])if("function"!==typeof cA.nodeQueue[r].list[a][u]){for(var c=cA.nodeQueue[r].list[a][u].nodes.length-1;c>-1;c--){var f=cA.element.nodeAnalyse.get(cA.nodeQueue[r].list[a][u].nodes[c].node),l=fA.uuid(f.node);"undefined"!==typeof cA.nodeHistory[l]&&cA.nodeHistory[l].translateText==f.text&&cA.nodeQueue[r].list[a][u].nodes.splice(c,1)}0==cA.nodeQueue[r].list[a][u].nodes.length&&delete cA.nodeQueue[r].list[a][u]}0==Object.keys(cA.nodeQueue[r].list[a]).length&&delete cA.nodeQueue[r].list[a]}var h={},d={},p={},g=[];for(var a in cA.nodeQueue[r].list)if(null!=a&&"undefined"!==typeof a&&0!=a.length&&"undefined"!=a){h[a]=[],d[a]=[];var y=new cA.renderTask;for(var u in p[a]=[],cA.nodeQueue[r].list[a])if("function"!==typeof cA.nodeQueue[r].list[a][u]){var m=cA.nodeQueue[r].list[a][u].original,b=cA.nodeQueue[r].list[a][u].translateText,w=m==b?u:cA.util.hash(b);cA.nodeQueue[r].list[a][u].cacheHash=w;var v=cA.storage.get("hash_"+cA.to+"_"+w);if(null!=v&&v.length>0)for(var _=0;_<cA.nodeQueue[r].list[a][u].nodes.length;_++){for(var S=cA.nodeQueue[r].list[a][u].nodes[_].node,E=!1,A=0;A<cA.inProgressNodes.length;A++)cA.inProgressNodes[A].node.isSameNode(S)&&(cA.inProgressNodes[A].number++,E=!0);E||cA.inProgressNodes.push({node:S,number:1});var x=cA.nodeQueue[r].list[a][u].nodes[_].beforeText+v+cA.nodeQueue[r].list[a][u].nodes[_].afterText;y.add(cA.nodeQueue[r].list[a][u].nodes[_].node,m,x,cA.nodeQueue[r].list[a][u].nodes[_].attribute);var k=-1;for(o=0;o<p[a].length;o++)if(cA.nodeQueue[r].list[a][u].nodes[_].node.isSameNode(p[a][o].node)){k=o;break}var T=-1;for(o=0;o<g.length;o++)if(cA.nodeQueue[r].list[a][u].nodes[_].node.isSameNode(g[o].node)){T=o;break}-1==k&&(k=p[a].length,p[a][k]={},p[a][k].node=cA.nodeQueue[r].list[a][u].nodes[_].node,p[a][k].array=[]),-1==T&&(T=g.length,g[T]={},g[T].node=cA.nodeQueue[r].list[a][u].nodes[_].node,g[T].array=[]);var I=p[a][k].array.length;p[a][k].array[I]=x;var M=g[T].array.length;g[T].array[M]=x}else h[a].push(b),d[a].push(u)}y.execute()}for(var a in p)t(a);var P=[];for(var a in cA.nodeQueue[r].list)"undefined"!==typeof h[a]&&(h[a].length<1||P.push(a));if(0!=P.length){for(var a in d)if("undefined"!==typeof d[a]&&!(d[a].length<1))for(var B=0;B<d[a].length;B++)for(var O=d[a][B],C=0;C<cA.nodeQueue[r].list[a][O].nodes.length;C++){for(S=cA.nodeQueue[r].list[a][O].nodes[C].node,E=!1,A=0;A<cA.inProgressNodes.length;A++)cA.inProgressNodes[A].node.isSameNode(S)&&(cA.inProgressNodes[A].number++,E=!0);E||cA.inProgressNodes.push({node:S,number:1})}for(var U in P){a=P[U];if("undefined"===typeof h[a]||h[a].length<1)return;var N={from:a,to:cA.to,texts:h[a]};cA.fetchTranslation(N,(function(e){if(0==e.result)return console.log("=======ERROR START======="),console.log(h[e.from]),console.log("response : "+e.info),void console.log("=======ERROR END  =======");for(var t=new cA.renderTask,n=0;n<d[e.from].length;n++){var i=e.from,o=e.texts[n];if(null!=o){o.toLowerCase().indexOf(h[e.from][n].toLowerCase())>-1&&(o=h[e.from][n]);var s=d[e.from][n],a=cA.nodeQueue[r].list[i][s].cacheHash,u="";try{u=cA.nodeQueue[r].list[i][s].original}catch(tp){console.log("uuid:"+r+", originalWord:"+u+", lang:"+i+", hash:"+s+", text:"+o+", queue:"+cA.nodeQueue[r]),console.log(tp);continue}for(var c=0;c<cA.nodeQueue[r].list[i][s].nodes.length;c++)t.add(cA.nodeQueue[r].list[i][s].nodes[c].node,u,cA.nodeQueue[r].list[i][s].nodes[c].beforeText+o+cA.nodeQueue[r].list[i][s].nodes[c].afterText,cA.nodeQueue[r].list[i][s].nodes[c].attribute);cA.storage.set("hash_"+e.to+"_"+a,o)}}t.execute()}))}}}else console.log("\u5224\u65ad\u672c\u5730\u8bed\u79cd\u8ddf\u8981\u7ffb\u8bd1\u7684\u76ee\u6807\u8bed\u79cd\u662f\u5426\u4e00\u6837\uff0c\u5982\u679c\u662f\u4e00\u6837\uff0c\u90a3\u5c31\u4e0d\u9700\u8981\u8fdb\u884c\u4efb\u4f55\u7ffb\u8bd1");else console.log("\u6ca1\u6709\u6307\u5b9a\u7ffb\u8bd1\u76ee\u6807\u8bed\u8a00\u3001\u53c8\u6ca1\u81ea\u52a8\u83b7\u53d6\u7528\u6237\u672c\u56fd\u8bed\u79cd\uff0c\u5219\u4e0d\u7ffb\u8bd1")},nodeHistory:{},element:{nodeAnalyse:{get:function(e,t){return cA.element.nodeAnalyse.analyse(e,"","",t)},set:function(e,t,r,n){cA.element.nodeAnalyse.analyse(e,t,r,n)},analyse:function(e,t,r,n){var i=[];i.node=e,i.text="";var o=cA.element.getNodeName(e);if(null!=n&&"string"===typeof n&&n.length>0)return i.text=e[n],"undefined"!==typeof t&&t.length>0&&("undefined"!==typeof e[n]?e[n]=e[n].replace(new RegExp(cA.util.regExp.pattern(t),"g"),cA.util.regExp.resultText(r)):console.log(e)),i;"#text"==o&&("undefined"!==typeof e.parentNode&&"TEXTAREA"==cA.element.getNodeName(e.parentNode)&&(o="TEXTAREA",e=e.parentNode));if("INPUT"==o||"TEXTAREA"==o){if(null==e.attributes||"undefined"===typeof e.attributes)return i.text="",i;if("INPUT"==o&&"undefined"!==typeof e.attributes.type&&null!==U(e.attributes.type.nodeValue)&&("button"==e.attributes.type.nodeValue.toLowerCase()||"submit"==e.attributes.type.nodeValue.toLowerCase())){var s=e.attributes.value;if(null!=s&&"undefined"!==typeof s&&"undefined"!==typeof s.nodeValue&&s.nodeValue.length>0)return"undefined"!==typeof t&&t.length>0&&(s.nodeValue=s.nodeValue.replace(new RegExp(cA.util.regExp.pattern(t),"g"),cA.util.regExp.resultText(r))),i.text=s.nodeValue,i.node=s,i}return"undefined"!==typeof e.attributes.placeholder?("undefined"!==typeof t&&t.length>0&&(e.attributes.placeholder.nodeValue=e.attributes.placeholder.nodeValue.replace(new RegExp(cA.util.regExp.pattern(t),"g"),cA.util.regExp.resultText(r))),i.text=e.attributes.placeholder.nodeValue,i.node=e.attributes.placeholder,i):(i.text="",i)}if("META"==o){if("undefined"!==typeof e.name&&null!=e.name){var a=e.name.toLowerCase();if("keywords"==a||"description"==a)return"undefined"!==typeof t&&null!=t&&t.length>0&&(e.content=e.content.replace(new RegExp(cA.util.regExp.pattern(t),"g"),cA.util.regExp.resultText(r))),i.text=e.content,i}return i.text="",i}return"IMG"==o?"undefined"===typeof e.alt||null==e.alt?(i.text="",i):("undefined"!==typeof t&&t.length>0&&(e.alt=e.alt.replace(new RegExp(cA.util.regExp.pattern(t),"g"),cA.util.regExp.resultText(r))),i.text=e.alt,i):(null==e.nodeValue||"undefined"===typeof e.nodeValue||0==e.nodeValue.trim().length?i.text="":("undefined"!==typeof t&&null!=t&&t.length>0&&(e.nodeValue=e.nodeValue.replace(new RegExp(cA.util.regExp.pattern(t),"g"),cA.util.regExp.resultText(r))),i.text=e.nodeValue),i)}},getNodeName:function(e){return null==e||"undefined"===typeof e||null==e.nodeName||"undefined"===typeof e.nodeName?"":e.nodeName},whileNodes:function(e,t){if(null!=t&&"undefined"!==typeof t){"undefined"!==typeof cA.nodeQueue[e]&&null!=cA.nodeQueue[e]||(cA.nodeQueue[e]=[],cA.nodeQueue[e].expireTime=Date.now()+12e4,cA.nodeQueue[e].list=[]),"object"===typeof t&&"string"===typeof t.title&&t.title.length>0&&(cA.ignore.isIgnore(t)||cA.addNodeToQueue(e,t,t.title,"title"));var r=t.childNodes;if(r.length>0)for(var n=0;n<r.length;n++)cA.element.whileNodes(e,r[n]);else cA.element.findNode(e,t)}},findNode:function(e,t){if(null!=t&&"undefined"!==typeof t&&null!=t.parentNode){var r=cA.element.getNodeName(t.parentNode);if(""!=r&&!(cA.ignore.tag.indexOf(r.toLowerCase())>-1)&&!cA.ignore.isIgnore(t)){var n=cA.element.nodeAnalyse.get(t);n.text.length>0&&cA.addNodeToQueue(e,n.node,n.text)}}}},addNodeToQueue:function(e,t,r,n){if(null!=t&&null!=r&&0!=r.length&&"#comment"!=cA.element.getNodeName(t).toLowerCase()){cA.util.hash(r);if(cA.util.findTag(r)){if(null==t.parentNode)return;var i=cA.element.getNodeName(t.parentNode);if("SCRIPT"==i||"STYLE"==i)return}var o=cA.language.recognition(r),s=o.languageArray;if("undefined"!==typeof s[cA.to]&&delete s[cA.to],cA.whole.isWhole(t)){a=o.languageName;cA.addNodeQueueItem(e,t,r,n,a,"","")}else for(var a in s)for(var u=0;u<s[a].list.length;u++)if("undefined"!==typeof s[a].list[u]&&"undefined"!==typeof s[a].list[u].text){var c=s[a].list[u].text,f=s[a].list[u].beforeText,l=s[a].list[u].afterText;cA.addNodeQueueItem(e,t,c,n,a,f,l)}}},addNodeQueueItem:function(e,t,r,n,i,o,s){null!=cA.nodeQueue[e].list[i]&&"undefined"!==typeof cA.nodeQueue[e].list[i]||(cA.nodeQueue[e].list[i]=[]);var a=cA.util.hash(r);null!=cA.nodeQueue[e].list[i][a]&&"undefined"!==typeof cA.nodeQueue[e].list[i][a]||(cA.nodeQueue[e].list[i][a]=[],cA.nodeQueue[e].list[i][a].nodes=[],cA.nodeQueue[e].list[i][a].original=r,cA.nodeQueue[e].list[i][a].translateText=cA.nomenclature.dispose(r));var u=!1;if("undefined"!==typeof t.isSameNode)for(var c=0;c<cA.nodeQueue[e].list[i][a].nodes.length;c++)t.isSameNode(cA.nodeQueue[e].list[i][a].nodes[c].node)&&(u=!0);if(!u){var f=cA.nodeQueue[e].list[i][a].nodes.length;cA.nodeQueue[e].list[i][a].nodes[f]=[],cA.nodeQueue[e].list[i][a].nodes[f].node=t,cA.nodeQueue[e].list[i][a].nodes[f].attribute=n,cA.nodeQueue[e].list[i][a].nodes[f].beforeText=o,cA.nodeQueue[e].list[i][a].nodes[f].afterText=s}},whole:{class:[],tag:[],id:[],executeTip:function(){0==cA.whole.class.length&&0==cA.whole.tag.length&&0==cA.whole.id.length||console.log("\u60a8\u5f00\u542f\u4e86 translate.whole \u6b64\u6b21\u884c\u4e3a\u907f\u5f00\u4e86\u6d4f\u89c8\u5668\u7aef\u7684\u6587\u672c\u8bed\u79cd\u81ea\u52a8\u8bc6\u522b\uff0c\u800c\u662f\u66b4\u529b\u7684\u76f4\u63a5\u5bf9\u67d0\u4e2a\u5143\u7d20\u7684\u6574\u4e2a\u6587\u672c\u8fdb\u884c\u7ffb\u8bd1\uff0c\u5f88\u53ef\u80fd\u4f1a\u4ea7\u751f\u975e\u5e38\u5927\u7684\u7ffb\u8bd1\u91cf\uff0c\u8bf7\u8c28\u614e\uff01\u6709\u5173\u6bcf\u65e5\u7ffb\u8bd1\u5b57\u7b26\u7684\u8bf4\u660e\uff0c\u53ef\u53c2\u8003\uff1a http://translate.zvo.cn/42557.html "),cA.whole.tag.indexOf("html")>-1&&console.log("\u81ea\u68c0\u53d1\u73b0\u60a8\u8bbe\u7f6e\u4e86 translate.whole.tag \u5176\u4e2d\u6709 html \uff0c\u8fd9\u4e2a\u662f\u4e0d\u751f\u6548\u7684\uff0c\u6700\u5927\u53ea\u5141\u8bb8\u8bbe\u7f6e\u5230 body ")},isWhole:function(e){if(0==cA.whole.class.length&&0==cA.whole.tag.length&&0==cA.whole.id.length)return!1;if(null==e||"undefined"===typeof e)return!1;for(var t=e,r=100;r-- >0;){if(null==t||"undefined"===typeof t)return!1;var n=cA.element.getNodeName(t).toLowerCase();if(n.length>0){if("html"==n||"#document"==n)return!1;if(cA.whole.tag.indexOf(n)>-1)return!0}if(null!=t.className){var i=t.className;if(null==i||"string"!==typeof i)continue;i=i.trim().split(" ");for(var o=0;o<i.length;o++)if(null!=i[o]&&i[o].trim().length>0&&cA.whole.class.indexOf(i[o])>-1)return!0}if(null!=t.id&&"undefined"!==typeof t.id&&cA.whole.id.indexOf(t.id)>-1)return!0;t=t.parentNode}return!1}},language:{local:tA,translateLanguagesRange:[],setLocal:function(e){cA.useVersion="v2",cA.language.local=e},getLocal:function(){return cA.language.local},getCurrent:function(){var e=cA.storage.get("to");return null!=e&&"undefined"!==typeof e&&e.length>0?e:cA.language.getLocal()},setDefaultTo:function(e){var t=cA.storage.get("to");null!=t&&"undefined"!==typeof t&&t.length>0||(cA.storage.set("to",e),cA.to=e)},clearCacheLanguage:function(){cA.to="",cA.storage.set("to","")},setUrlParamControl:function(e){("undefined"===typeof e||e.length<1)&&(e="language");var t=cA.util.getUrlParam(e);"undefined"!==typeof t&&""!=t&&"null"!=t&&"undefined"!=t&&(cA.storage.set("to",t),cA.to=t)},get:function(e,t){for(var r=[],n=[],i=[],o=[],s=0;s<e.length;s++){var a=e.charAt(s),u=cA.language.getCharLanguage(a);""==u&&(u=uA);var c=cA.language.analyse(u,n,i,o,a);n=c.langStrs,"undefined"!==typeof i.language&&(o.language=i.language,o.charstr=i.charstr,o.storage_language=i.storage_language),i.language=c.storage_language,i.charstr=a,i.storage_language=c.storage_language,r.push(u)}return"undefined"!==typeof n.specialCharacter&&delete n.specialCharacter,"undefined"!==typeof n.number&&delete n.number,n},getDetectLanguage:function(){var e=document.body.outerText;if(null===e||"undefined"===typeof e||e.length<1)return{};e=e.replace(/\n|\t|\r/g,"");for(var t=cA.language.recognition(e,!0),r=t.languageName,n=t.languageArray[r],i=0,o="",s=0;s<n.list.length;s++){var a=n.list[s];a.text.length>i&&(i=a.text.length,o=a.text)}return{languageName:r,isUnidentification:r===uA,maxLangStr:o}},recognition:function(e,t){var r=cA.language.get(e,t),n=[],i=[],o=0;for(var s in r)if("object"===typeof r[s]){for(var a=0,u=0;u<r[s].length;u++)a+=r[s][u].text.length;o+=a,n[s]=a,i[s]=a}var c=[];for(var f in n)n[f]/o>.05&&(c[c.length]=f+"");c.length>1&&c.indexOf(tA)>-1&&(n[tA]=0),c.indexOf(rA)>-1&&c.indexOf(nA)>-1&&(n[rA]=0);var l="",h=0;for(var d in n)n[d]>h&&(l=d,h=n[d]);var p={};for(var g in r)p[g]={},p[g].number=i[g],p[g].list=r[g];return{languageName:l,languageArray:p}},getCharLanguage:function(e){if(null===e||"undefined"===typeof e)return"";if(this.italian(e))return sA;if(this.english(e))return tA;if(this.specialCharacter(e))return"specialCharacter";if(this.number(e))return"number";var t=this.chinese(e);return t===rA?rA:t===nA?nA:this.japanese(e)?iA:this.korean(e)?oA:""},analyse:function(e,t,r,n,i){"undefined"===typeof t[e]&&(t[e]=[]);var o=0;"undefined"===typeof r.storage_language||(cA.language.connector(i)&&(e=r.storage_language),o=r.storage_language==e?t[e].length-1:t[e].length),"undefined"===typeof t[e][o]&&(t[e][o]=[],t[e][o].beforeText="",t[e][o].afterText="",t[e][o].text=""),t[e][o].text=t[e][o].text+i,0==cA.language.wordBlankConnector(cA.language.getLocal())&&cA.language.wordBlankConnector(cA.to)&&null!=r.storage_language&&"undefined"!==typeof r.storage_language&&r.storage_language.length>0&&"specialCharacter"!=r.storage_language&&(0==cA.language.wordBlankConnector(r.storage_language)&&cA.language.wordBlankConnector(e)?t[r.storage_language][t[r.storage_language].length-1].afterText=" ":r.storage_language==tA&&e!=tA&&(t[e][o].beforeText=" "));var s=[];return s.langStrs=t,s.storage_language=e,s},connector:function(e){return!!/.*[\u0020\u00A0\u202F\u205F\u3000]+.*$/.test(e)||(!!/.*[\u0030-\u0039]+.*$/.test(e)||(!!/.*[\u0021\u0022\u0023\u0024\u0025\u0026\u0027\u002C\u002D\u002E\u003A\u003B\u003F\u0040]+.*$/.test(e)||!!/.*[\u3002\uFF1F\uFF01\uFF0C\u3001\uFF1B\uFF1A\u300C\u300D\u300E\u300F\u2018\u2019\u201C\u201D\uFF08\uFF09\u3014\u3015\u3010\u3011\u2014\u2026\u2013\uFF0E\u300A\u300B\u3008\u3009\u00b7]+.*$/.test(e)))},wordBlankConnector:function(e){if(null===e||"undefined"===typeof e)return!0;switch(e.trim().toLowerCase()){case rA:case nA:case oA:case iA:return!1}return!0},chinese_traditional_dict:"\u769a\u85f9\u7919\u611b\u7ffa\u8956\u5967\u58e9\u7f77\u64fa\u6557\u9812\u8fa6\u7d46\u5e6b\u7d81\u938a\u8b17\u525d\u98fd\u5bf6\u5831\u9b91\u8f29\u8c9d\u92c7\u72fd\u5099\u618a\u7e43\u7b46\u7562\u6583\u9589\u908a\u7de8\u8cb6\u8b8a\u8faf\u8fae\u9f08\u765f\u7015\u6ff1\u8cd3\u64ef\u9905\u64a5\u7f3d\u9251\u99c1\u8514\u88dc\u53c3\u8836\u6b98\u615a\u6158\u71e6\u84bc\u8259\u5009\u6ec4\u5ec1\u5074\u518a\u6e2c\u5c64\u8a6b\u6519\u647b\u87ec\u995e\u8b92\u7e8f\u93df\u7523\u95e1\u986b\u5834\u5617\u9577\u511f\u8178\u5ee0\u66a2\u9214\u8eca\u5fb9\u5875\u9673\u896f\u6490\u7a31\u61f2\u8aa0\u9a01\u7661\u9072\u99b3\u6065\u9f52\u71be\u6c96\u87f2\u5bf5\u7587\u8e8a\u7c4c\u7da2\u919c\u6ae5\u5eda\u92e4\u96db\u790e\u5132\u89f8\u8655\u50b3\u7621\u95d6\u5275\u9318\u7d14\u7dbd\u8fad\u8a5e\u8cdc\u8070\u8525\u56ea\u5f9e\u53e2\u6e4a\u7ac4\u932f\u9054\u5e36\u8cb8\u64d4\u55ae\u9132\u64a3\u81bd\u619a\u8a95\u5f48\u7576\u64cb\u9ee8\u8569\u6a94\u6417\u5cf6\u79b1\u5c0e\u76dc\u71c8\u9127\u6575\u6ecc\u905e\u7de0\u9ede\u588a\u96fb\u6fb1\u91e3\u8abf\u53e0\u8adc\u758a\u91d8\u9802\u9320\u8a02\u6771\u52d5\u68df\u51cd\u9b25\u72a2\u7368\u8b80\u8ced\u934d\u935b\u65b7\u7dde\u514c\u968a\u5c0d\u5678\u9813\u920d\u596a\u9d5d\u984d\u8a1b\u60e1\u9913\u5152\u723e\u990c\u8cb3\u767c\u7f70\u95a5\u743a\u792c\u91e9\u7169\u7bc4\u8ca9\u98ef\u8a2a\u7d21\u98db\u5ee2\u8cbb\u7d1b\u58b3\u596e\u61a4\u7cde\u8c50\u6953\u92d2\u98a8\u760b\u99ae\u7e2b\u8af7\u9cf3\u819a\u8f3b\u64ab\u8f14\u8ce6\u8907\u8ca0\u8a03\u5a66\u7e1b\u8a72\u9223\u84cb\u5e79\u8d95\u7a08\u8d1b\u5ca1\u525b\u92fc\u7db1\u5d17\u81ef\u93ac\u64f1\u9d3f\u95a3\u927b\u500b\u7d66\u9f94\u5bae\u978f\u8ca2\u920e\u6e9d\u69cb\u8cfc\u5920\u8831\u9867\u526e\u95dc\u89c0\u9928\u6163\u8cab\u5ee3\u898f\u77fd\u6b78\u9f9c\u95a8\u8ecc\u8a6d\u6ac3\u8cb4\u528a\u8f25\u6efe\u934b\u570b\u904e\u99ed\u97d3\u6f22\u95a1\u9db4\u8cc0\u6a6b\u8f5f\u9d3b\u7d05\u5f8c\u58fa\u8b77\u6eec\u6236\u5629\u83ef\u756b\u5283\u8a71\u61f7\u58de\u6b61\u74b0\u9084\u7de9\u63db\u559a\u7613\u7165\u6e19\u9ec3\u8b0a\u63ee\u8f1d\u6bc0\u8cc4\u7a62\u6703\u71f4\u5f59\u8af1\u8aa8\u7e6a\u8477\u6e3e\u5925\u7372\u8ca8\u798d\u64ca\u6a5f\u7a4d\u9951\u8b4f\u96de\u7e3e\u7ddd\u6975\u8f2f\u7d1a\u64e0\u5e7e\u858a\u5291\u6fdf\u8a08\u8a18\u969b\u7e7c\u7d00\u593e\u83a2\u9830\u8cc8\u9240\u50f9\u99d5\u6bb2\u76e3\u5805\u7b8b\u9593\u8271\u7dd8\u7e6d\u6aa2\u583f\u9e7c\u63c0\u64bf\u7c21\u5109\u6e1b\u85a6\u6abb\u9452\u8e10\u8ce4\u898b\u9375\u8266\u528d\u991e\u6f38\u6ffa\u6f97\u6f3f\u8523\u69f3\u734e\u8b1b\u91ac\u81a0\u6f86\u9a55\u5b0c\u652a\u9278\u77ef\u50e5\u8173\u9903\u7e73\u7d5e\u8f4e\u8f03\u7a2d\u968e\u7bc0\u8396\u9a5a\u7d93\u9838\u975c\u93e1\u5f91\u75d9\u7af6\u6de8\u7cfe\u5ec4\u820a\u99d2\u8209\u64da\u92f8\u61fc\u5287\u9d51\u7d79\u5091\u6f54\u7d50\u8aa1\u5c46\u7dca\u9326\u50c5\u8b39\u9032\u6649\u71fc\u76e1\u52c1\u834a\u89ba\u6c7a\u8a23\u7d55\u921e\u8ecd\u99ff\u958b\u51f1\u9846\u6bbc\u8ab2\u58be\u61c7\u6473\u5eab\u8932\u8a87\u584a\u5108\u5bec\u7926\u66e0\u6cc1\u8667\u5dcb\u7aba\u994b\u6f70\u64f4\u95ca\u881f\u81d8\u840a\u4f86\u8cf4\u85cd\u6b04\u6514\u7c43\u95cc\u862d\u703e\u8b95\u652c\u89bd\u61f6\u7e9c\u721b\u6feb\u6488\u52de\u6f87\u6a02\u9433\u58d8\u985e\u6dda\u7c6c\u96e2\u88cf\u9bc9\u79ae\u9e97\u53b2\u52f5\u792b\u66c6\u701d\u96b8\u5006\u806f\u84ee\u9023\u942e\u6190\u6f23\u7c3e\u6582\u81c9\u93c8\u6200\u7149\u7df4\u7ce7\u6dbc\u5169\u8f1b\u8ad2\u7642\u907c\u9410\u7375\u81e8\u9130\u9c57\u51dc\u8cc3\u9f61\u9234\u6de9\u9748\u5dba\u9818\u993e\u5289\u9f8d\u807e\u56a8\u7c60\u58df\u650f\u96b4\u6a13\u5a41\u645f\u7c0d\u8606\u76e7\u9871\u5eec\u7210\u64c4\u9e75\u865c\u9b6f\u8cc2\u797f\u9304\u9678\u9a62\u5442\u92c1\u4fb6\u5c62\u7e37\u616e\u6ffe\u7da0\u5dd2\u6523\u5b7f\u7064\u4e82\u6384\u8f2a\u502b\u4f96\u6dea\u7db8\u8ad6\u863f\u7f85\u908f\u947c\u7c6e\u9a3e\u99f1\u7d61\u5abd\u746a\u78bc\u879e\u99ac\u7f75\u55ce\u8cb7\u9ea5\u8ce3\u9081\u8108\u779e\u9945\u883b\u6eff\u8b3e\u8c93\u9328\u925a\u8cbf\u9ebd\u9ef4\u6c92\u9382\u9580\u60b6\u5011\u9333\u5922\u8b0e\u5f4c\u8993\u7dbf\u7dec\u5edf\u6ec5\u61ab\u95a9\u9cf4\u9298\u8b2c\u8b00\u755d\u9209\u7d0d\u96e3\u6493\u8166\u60f1\u9b27\u9912\u81a9\u6506\u649a\u91c0\u9ce5\u8076\u9f67\u9477\u93b3\u6ab8\u7370\u752f\u64f0\u6fd8\u9215\u7d10\u81bf\u6fc3\u8fb2\u7627\u8afe\u6b50\u9dd7\u6bc6\u5614\u6f1a\u76e4\u9f90\u570b\u611b\u8ce0\u5674\u9d6c\u9a19\u98c4\u983b\u8ca7\u860b\u6191\u8a55\u6f51\u9817\u64b2\u92ea\u6a38\u8b5c\u81cd\u9f4a\u9a0e\u8c48\u5553\u6c23\u68c4\u8a16\u727d\u6261\u91fa\u925b\u9077\u7c3d\u8b19\u9322\u9257\u6f5b\u6dfa\u8b74\u5879\u69cd\u55c6\u7246\u8594\u5f37\u6436\u936c\u6a4b\u55ac\u50d1\u7ff9\u7ac5\u7aca\u6b3d\u89aa\u8f15\u6c2b\u50be\u9803\u8acb\u6176\u74ca\u7aae\u8da8\u5340\u8ec0\u9a45\u9f72\u9874\u6b0a\u52f8\u537b\u9d72\u8b93\u9952\u64fe\u7e5e\u71b1\u97cc\u8a8d\u7d09\u69ae\u7d68\u8edf\u92b3\u958f\u6f64\u7051\u85a9\u9c13\u8cfd\u5098\u55aa\u9a37\u6383\u6f80\u6bba\u7d17\u7be9\u66ec\u9583\u965d\u8d0d\u7e55\u50b7\u8cde\u71d2\u7d39\u8cd2\u651d\u61fe\u8a2d\u7d33\u5be9\u5b38\u814e\u6ef2\u8072\u7e69\u52dd\u8056\u5e2b\u7345\u6fd5\u8a69\u5c4d\u6642\u8755\u5be6\u8b58\u99db\u52e2\u91cb\u98fe\u8996\u8a66\u58fd\u7378\u6a1e\u8f38\u66f8\u8d16\u5c6c\u8853\u6a39\u8c4e\u6578\u5e25\u96d9\u8ab0\u7a05\u9806\u8aaa\u78a9\u720d\u7d72\u98fc\u8073\u616b\u980c\u8a1f\u8aa6\u64fb\u8607\u8a34\u8085\u96d6\u7d8f\u6b72\u5b6b\u640d\u7b4d\u7e2e\u7463\u9396\u737a\u64bb\u64e1\u6524\u8caa\u7671\u7058\u58c7\u8b5a\u8ac7\u6b4e\u6e6f\u71d9\u6fe4\u7e27\u9a30\u8b04\u92bb\u984c\u9ad4\u5c5c\u689d\u8cbc\u9435\u5ef3\u807d\u70f4\u9285\u7d71\u982d\u5716\u5857\u5718\u9839\u86fb\u812b\u9d15\u99b1\u99dd\u6a62\u7aaa\u896a\u5f4e\u7063\u9811\u842c\u7db2\u97cb\u9055\u570d\u7232\u6ff0\u7dad\u8466\u5049\u50de\u7def\u8b02\u885b\u6eab\u805e\u7d0b\u7a69\u554f\u7515\u64be\u8778\u6e26\u7aa9\u55da\u93a2\u70cf\u8aa3\u7121\u856a\u5433\u5862\u9727\u52d9\u8aa4\u932b\u72a7\u8972\u7fd2\u9291\u6232\u7d30\u8766\u8f44\u5cfd\u4fe0\u72f9\u5ec8\u9341\u9bae\u7e96\u9e79\u8ce2\u929c\u9591\u986f\u96aa\u73fe\u737b\u7e23\u9921\u7fa8\u61b2\u7dda\u5ec2\u9472\u9109\u8a73\u97ff\u9805\u856d\u92b7\u66c9\u562f\u880d\u5354\u633e\u651c\u8105\u8ae7\u5beb\u7009\u8b1d\u92c5\u91c1\u8208\u6d36\u93fd\u7e61\u865b\u5653\u9808\u8a31\u7dd2\u7e8c\u8ed2\u61f8\u9078\u766c\u7d62\u5b78\u52f3\u8a62\u5c0b\u99b4\u8a13\u8a0a\u905c\u58d3\u9d09\u9d28\u555e\u4e9e\u8a1d\u95b9\u7159\u9e7d\u56b4\u9854\u95bb\u8c54\u53ad\u786f\u5f65\u8afa\u9a57\u9d26\u694a\u63da\u760d\u967d\u7662\u990a\u6a23\u7464\u6416\u582f\u9059\u7aaf\u8b20\u85e5\u723a\u9801\u696d\u8449\u91ab\u92a5\u9824\u907a\u5100\u5f5c\u87fb\u85dd\u5104\u61b6\u7fa9\u8a63\u8b70\u8abc\u8b6f\u7570\u7e79\u852d\u9670\u9280\u98f2\u6afb\u5b30\u9df9\u61c9\u7e93\u7469\u87a2\u71df\u7192\u8805\u7a4e\u55b2\u64c1\u50ad\u7670\u8e34\u8a60\u6e67\u512a\u6182\u90f5\u923e\u7336\u904a\u8a98\u8f3f\u9b5a\u6f01\u5a1b\u8207\u5dbc\u8a9e\u7c72\u79a6\u7344\u8b7d\u9810\u99ad\u9d1b\u6df5\u8f45\u5712\u54e1\u5713\u7de3\u9060\u9858\u7d04\u8e8d\u9470\u5dbd\u7cb5\u6085\u95b1\u96f2\u9116\u52fb\u9695\u904b\u860a\u919e\u6688\u97fb\u96dc\u707d\u8f09\u6522\u66ab\u8d0a\u8d13\u9ad2\u947f\u68d7\u7ac8\u8cac\u64c7\u5247\u6fa4\u8cca\u8d08\u7d2e\u5284\u8ecb\u9358\u9598\u8a50\u9f4b\u50b5\u6c08\u76de\u65ac\u8f3e\u5d84\u68e7\u6230\u7dbb\u5f35\u6f32\u5e33\u8cec\u8139\u8d99\u87c4\u8f4d\u937a\u9019\u8c9e\u91dd\u5075\u8a3a\u93ae\u9663\u6399\u775c\u7319\u5e40\u912d\u8b49\u7e54\u8077\u57f7\u7d19\u646f\u64f2\u5e5f\u8cea\u937e\u7d42\u7a2e\u816b\u8846\u8b05\u8ef8\u76ba\u665d\u9a5f\u8c6c\u8af8\u8a85\u71ed\u77da\u56d1\u8caf\u9444\u7bc9\u99d0\u5c08\u78da\u8f49\u8cfa\u6a01\u838a\u88dd\u599d\u58ef\u72c0\u9310\u8d05\u589c\u7db4\u8ac4\u6fc1\u8332\u8cc7\u6f2c\u8e64\u7d9c\u7e3d\u7e31\u9112\u8a5b\u7d44\u947d\u7dfb\u9418\u9ebc\u70ba\u96bb\u5147\u6e96\u555f\u95c6\u88e1\u9742\u9918\u934a\u6d29",chinese:function(e){return/.*[\u4e00-\u9fa5]+.*$/.test(e)?this.chinese_traditional_dict.indexOf(e)>-1?nA:rA:""},english:function(e){return!!/.*[\u0041-\u005a]+.*$/.test(e)||!!/.*[\u0061-\u007a]+.*$/.test(e)},japanese:function(e){return!!/.*[\u3040-\u309F\u30A0-\u30FF]+.*$/.test(e)},korean:function(e){return!!/.*[\uAC00-\uD7AF]+.*$/.test(e)},number:function(e){return!!/.*[\u0030-\u0039]+.*$/.test(e)},italian:function(e){return!!/.*[\u00E0-\u00F6]+.*$/.test(e)},specialCharacter:function(e){return!!/.*[\u2460-\u24E9]+.*$/.test(e)||(!!/.*[\u2500-\u25FF]+.*$/.test(e)||(!!/.*[\u3200-\u33FF]+.*$/.test(e)||(!!/.*[\uFF00-\uFF5E]+.*$/.test(e)||(!!/.*[\u2000-\u22FF]+.*$/.test(e)||(!!/.*[\u3001-\u3036]+.*$/.test(e)||(!!/.*[\u0020-\u002F]+.*$/.test(e)||(!!/.*[\u003A-\u007E]+.*$/.test(e)||(!!/.*[\u0009\u000a\u0020\u00A0\u1680\u180E\u202F\u205F\u3000\uFEFF]+.*$/.test(e)||(!!/.*[\u2000-\u200B]+.*$/.test(e)||(!!/.*[\u00A1-\u0105]+.*$/.test(e)||!!/.*[\u2C60-\u2C77]+.*$/.test(e)))))))))))}},util:{uuid:function(){var e=(new Date).getTime();return window.performance&&"function"===typeof window.performance.now&&(e+=performance.now()),"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var r=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?r:3&r|8).toString(16)}))},findTag:function(e){return/<[^>]+>/g.test(e)},arrayFindMaxNumber:function(e){for(var t={},r=[],n=0,i=0,o=e.length;i<o;i++)t[e[i]]?t[e[i]]++:t[e[i]]=1,t[e[i]]>n&&(n=t[e[i]]);for(var s in t)t[s]===n&&r.push(s);return r},hash:function(e){if(null==e||"undefined"===typeof e)return e;var t,r=0;if(0===e.length)return r;for(t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return r+""},charReplace:function(e){return null==e?"":e=(e=e.trim()).replace(/\t|\n|\v|\r|\f/g,"")},regExp:{pattern:function(e){return e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/\\/g,"\\\\")).replace(/\"/g,'\\"')).replace(/\?/g,"\\?")).replace(/\$/g,"\\$")).replace(/\(/g,"\\(")).replace(/\)/g,"\\)")).replace(/\|/g,"\\|")).replace(/\+/g,"\\+")).replace(/\*/g,"\\*")).replace(/\[/g,"\\[")).replace(/\]/g,"\\]")).replace(/\^/g,"\\^")).replace(/\{/g,"\\{")).replace(/\}/g,"\\}")},resultText:function(e){return e}},getUrlParam:function(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),r=window.location.search.substr(1).match(t);return null!=r?unescape(r[2]):""},objSort:function(e){var t=Array.from(Object.keys(e));t.sort((function(e,t){return t.length-e.length}));var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done);n=!0){var u=s.value;r[u]=e[u]}}catch(c){i=!0,o=c}finally{try{n||null==a.return||a.return()}finally{if(i)throw o}}return r},versionStringToInt:function(e){var t=e.split("."),r=0;return r=1e3*parseInt(t[0])*1e3+r,r=1e3*parseInt(t[1])+r,r=parseInt(t[2])+r},split:function(e,t){var r=[];if(JSON.stringify(e).length<=t)r.push(e);else{var n=JSON.stringify(e).trim().substring(1,JSON.stringify(e).length-1);if(JSON.stringify(e).length-t<=2){t-=4;var i=n.substring(0,n.lastIndexOf('","')+1),o=n.substring(n.lastIndexOf('","')+2);r.push(JSON.parse("["+i+"]")),r.push(JSON.parse("["+o+"]"))}else{t-=2;for(var s=0;s-n.length<0;){var a="",u=(a=s+t-n.length>=0?n.substring(s):n.substring(s,s+t)).length,c=1;if(a.endsWith('"')){if(a.endsWith('","'))u-=2;else if(!a.startsWith('"')){u=a.lastIndexOf('","')+1}}else if(a.endsWith('",'))u-=1;else{(u=a.lastIndexOf('","')+1)<=0&&(u=a.startsWith('"')?a.length()-1:a.length()-2,a.endsWith('"')||(c=0))}var f="";u-a.length>0||u-0==0?u+=(f=a).length:f=a.substring(0,u),f.startsWith('"')||f.startsWith(',"')||(f='"'+f),f.endsWith('"')||(f+='"'),s+=u+c,f="["+f+"]";try{r.push(JSON.parse(f))}catch(tp){s=s-(u+c)+1}}}}return r}},service:{name:"translate.service",use:function(e){"string"===typeof e&&"client.edge"==e&&(cA.service.name=e,cA.whole.tag.push("body"),cA.whole.tag.push("head"),cA.whole.tag.push("html"))}},storage:{set:function(e,t){localStorage.setItem("bn-"+e,t)},get:function(e){return localStorage.getItem("bn-"+e)}},images:{queues:[],add:function(e){for(var t in e)cA.images.queues[t]=e[t]},execute:function(){if(!(Object.keys(cA.images.queues).length<1)){for(var e=document.getElementsByTagName("img"),t=0;t<e.length;t++){var r=e[t];if("undefined"!==typeof r.src&&null!=r.src&&0!=r.src.length){var n=r.getAttribute("src");for(var i in cA.images.queues){var o=i,s=cA.images.queues[i];o==n&&(s=s.replace(new RegExp("{language}","g"),cA.to),r.src=s)}}}var a=document.getElementsByTagName("*");for(t=0;t<a.length;t++){var u=a[t],c=window.getComputedStyle(u,null).backgroundImage;if("none"!=c){var f=cA.images.gainCssBackgroundUrl(c);if("undefined"!==typeof cA.images.queues[f])s=(s=cA.images.queues[f]).replace(new RegExp("{language}","g"),cA.to),u.style.backgroundImage='url("'+s+'")'}}}},gainCssBackgroundUrl:function(e){var t=e.indexOf('"'),r=e.lastIndexOf('"');return-1!=t&&-1!=r?e.substring(t+1,r):e}},reset:function(){var e=cA.language.getCurrent();for(var t in cA.nodeQueue)for(var r in cA.nodeQueue[t].list)for(var n in cA.nodeQueue[t].list[r]){var i=cA.nodeQueue[t].list[r][n];for(var o in i.nodes){var s=cA.storage.get("hash_"+e+"_"+n);"undefined"!==typeof s&&(null!=s&&0!=s.length&&cA.element.nodeAnalyse.analyse(i.nodes[o].node,s,i.original,i.nodes[o].node.attribute))}}cA.storage.set("to",""),cA.to=null},fetchTranslation:function(){}},fA={index:function(e){var t,r=e.parentNode;if(null==r)return"";t="undefined"===typeof e.tagName?r.childNodes:r.querySelectorAll(e.tagName);var n=Array.prototype.indexOf.call(t,e);return e.nodeName+""+(n+1)},uuid:function(e){for(var t="",r=e;null!=r;){var n=fA.index(r);""!=n&&(""!=t&&(t="_"+t),t=n+t),r=r.parentNode}return t}};window.translate=cA;const lA=cA;var hA=[function(e){return/^[a-z0-9]+([-.]{1}[a-z0-9]+)*\.[a-z]{2,6}$/.test(e)}],dA=function(e){return hA.some((function(t){return t(e)}))},pA=function(e,t){return t.forEach((function(t){var r=t.index,n=t.text;e.splice(r,0,n)})),e},gA=function(e){var t=lA.language.getLocal(),r=aA.includes(t);return!(r&&e.from===t||!r&&e.from===uA)};(function(e){var t=[],r=(0,$e.throttle)((function(r){console.log("!!!throttledFn");var n=t.slice();t.length=0;var i=n.reduce((function(e,t){return e.concat(t.data.texts)}),[]);e(E(S({},r),{texts:i}),(function(e){var t=e.texts;n.forEach((function(e){var r=e.data,n=e.callback,i=t.splice(0,r.texts.length);n({result:1,from:r.from,to:r.to,texts:i})}))}))}),500)})((function(e,t){var r=lA.language.getLocal(),n=function(e){for(var t=[[]],r=[],n=e.length,i=0,o=0;o<n;o++){var s=e[o];if(dA(s)){r.push({index:o,text:s});break}i+s.length>2500&&(t.push([]),i=0);var a=t[t.length-1];a.push(s),i+=s.length,a.length>=128&&(t.push([]),i=0)}return{tasks:t.filter((function(e){return e.length>0})),ignoredTexts:r}}(e.texts),i=n.tasks,o=n.ignoredTexts;0===i.length||gA(e)?t({result:1,from:e.from,to:e.to,texts:e.texts}):(console.log("!!!wrappedFetchTranslation"),Promise.all(i.map((function(t){return(n="/bapi/defi/v1/private/wallet-direct/buw/google/translate",i={targetLanguage:e.to,originalLanguage:r,texts:t},QE(n,"post",i)).catch((function(e){throw console.log("\ud83d\ude80 ~~ tasks.map ~~ err:",e),eA(le.TRANSLATE_FAIL),new Error(e)})).then((function(e){if(!e.success)throw"015002"===e.code?(lA.listener.stop(),eA(le.FETCH_TRANSLATION_TOO_MANY)):(console.log("\ud83d\ude80 ~~ tasks.map ~~ res:",e),eA(le.TRANSLATE_FAIL)),new Error(e.message);return e.data}));var n,i}))).then((function(r){var n=r.reduce((function(e,t){return e.concat(t)}),[]);t({result:1,from:e.from,to:e.to,texts:pA(n,o)})})).catch((function(e){console.log("\ud83d\ude80 ~~ wrappedFetchTranslation ~~ catch:",e),eA(le.TRANSLATE_FAIL)})),eA(le.FETCH_TRANSLATION,{from:e.from,to:e.to}))})),new Map;var yA;window._bnJumpToAsset=function(){console.log("_bnJumpToAsset called"),window.bn.miniProgram.postMessage({name:"jump_to_mp_page",data:{url:"pages/wallet/home/index"}})},window._bnJumpToTrade=function(e){console.log("_bnJumpToTrade called:",e);var t=e.fromChainId,r=e.toChainId,n=e.fromTokenAddress,i=e.toTokenAddress;window.bn.miniProgram.postMessage({name:"jump_to_mp_page",data:{url:"pages/swap-with-tab/index",fromTokenAddress:n,toTokenAddress:i,fromBinanceChainId:String(t),toBinanceChainId:String(r)}})},function(e){e.Announce="eip6963:announceProvider",e.Request="eip6963:requestProvider"}(yA||(yA={}));var mA=RegExp("(?:^[a-f0-9]{8}-[a-f0-9]{4}-4[a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}$)|(?:^0{8}-0{4}-0{4}-0{4}-0{12}$)","u"),bA=RegExp("(?=^.{4,253}$)(^((?!-)[a-zA-Z0-9-]{0,62}[a-zA-Z0-9]\\.)+[a-zA-Z]{2,63}$)","u");function wA(e){if(!e||!e.info||!e.provider)return!1;var t=e.info;return"string"===typeof t.uuid&&mA.test(t.uuid)&&"string"===typeof t.name&&Boolean(t.name)&&"string"===typeof t.icon&&t.icon.startsWith("data:image")&&"string"===typeof t.rdns&&bA.test(t.rdns)}function vA(e){throw new Error("".concat(e," See https://eips.ethereum.org/EIPS/eip-6963 for requirements."))}function _A(e){wA(e)||vA("Invalid EIP-6963 ProviderDetail object.");var t=e.info,r=e.provider,n=function(){return window.dispatchEvent(new CustomEvent(yA.Announce,{detail:Object.freeze({info:S({},t),provider:r})}))};n(),window.addEventListener(yA.Request,(function(e){(function(e){return Y(e,Event)&&e.type===yA.Request})(e)||vA("Invalid EIP-6963 RequestProviderEvent object received from ".concat(yA.Request," event.")),n()}))}function SA(e,t,r){return function(e,t,r){if(t.set)t.set.call(e,r);else{if(!t.writable)throw new TypeError("attempted to set read only private field");t.value=r}}(e,y(e,t,"set"),r),r}function EA(e,t,r){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return r}function AA(e,t){b(e,t),t.add(e)}const xA="solana:signAndSendTransaction",kA="solana:signTransaction",TA="solana:signMessage",IA="standard:connect",MA="standard:disconnect",PA="standard:events";var BA=["solana:mainnet","solana:mainnet-beta","solana:devnet","solana:testnet","solana:localnet"];function OA(e){return BA.includes(e)}function CA(e){var t;try{t=r_.from(e)}catch(tp){}return!t}var UA=function(e){return e.map((function(e){return CA(e)?n_.deserialize(e):r_.from(e)}))};function NA(e){return"version"in e}var RA=BA,LA=[xA,kA,TA],zA=new WeakMap,jA=new WeakMap,DA=new WeakMap,qA=new WeakMap,KA=new WeakMap,HA=new WeakMap,FA=function(){function e(t){var r=t.address,n=t.publicKey,i=t.label,o=t.icon;g(this,e),w(this,zA,{writable:!0,value:void 0}),w(this,jA,{writable:!0,value:void 0}),w(this,DA,{writable:!0,value:void 0}),w(this,qA,{writable:!0,value:void 0}),w(this,KA,{writable:!0,value:void 0}),w(this,HA,{writable:!0,value:void 0}),(Y(this,e)?this.constructor:void 0)===e&&Object.freeze(this),SA(this,zA,r),SA(this,jA,n),SA(this,DA,RA),SA(this,qA,LA),SA(this,KA,i),SA(this,HA,o)}return X(e,[{key:"address",get:function(){return m(this,zA)}},{key:"publicKey",get:function(){return m(this,jA).slice()}},{key:"chains",get:function(){return m(this,DA).slice()}},{key:"features",get:function(){return m(this,qA).slice()}},{key:"label",get:function(){return m(this,KA)}},{key:"icon",get:function(){return m(this,HA)}}]),e}();var WA=new WeakMap,$A=new WeakMap,VA=new WeakMap,GA=new WeakMap,ZA=new WeakMap,JA=new WeakMap,XA=new WeakMap,YA=new WeakSet,QA=new WeakSet,ex=new WeakMap,tx=new WeakMap,rx=new WeakMap,nx=new WeakMap,ix=new WeakMap,ox=new WeakMap,sx=new WeakMap,ax=new WeakMap,ux=function(){function e(t,r){var n=this;g(this,e),AA(this,YA),AA(this,QA),w(this,WA,{writable:!0,value:{}}),w(this,$A,{writable:!0,value:"1.0.0"}),w(this,VA,{writable:!0,value:void 0}),w(this,GA,{writable:!0,value:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIHZpZXdCb3g9IjAgMCAzMCAzMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjMwIiBoZWlnaHQ9IjMwIiBmaWxsPSIjMEIwRTExIi8+CjxwYXRoIGQ9Ik01IDE1TDcuMjU4MDYgMTIuNzQxOUw5LjUxNjEzIDE1TDcuMjU4MDYgMTcuMjU4MUw1IDE1WiIgZmlsbD0iI0YwQjkwQiIvPgo8cGF0aCBkPSJNOC44NzA5NyAxMS4xMjlMMTUgNUwyMS4xMjkgMTEuMTI5TDE4Ljg3MSAxMy4zODcxTDE1IDkuNTE2MTNMMTEuMTI5IDEzLjM4NzFMOC44NzA5NyAxMS4xMjlaIiBmaWxsPSIjRjBCOTBCIi8+CjxwYXRoIGQ9Ik0xMi43NDE5IDE1TDE1IDEyLjc0MTlMMTcuMjU4MSAxNUwxNSAxNy4yNTgxTDEyLjc0MTkgMTVaIiBmaWxsPSIjRjBCOTBCIi8+CjxwYXRoIGQ9Ik0xMS4xMjkgMTYuNjEyOUw4Ljg3MDk3IDE4Ljg3MUwxNSAyNUwyMS4xMjkgMTguODcxTDE4Ljg3MSAxNi42MTI5TDE1IDIwLjQ4MzlMMTEuMTI5IDE2LjYxMjlaIiBmaWxsPSIjRjBCOTBCIi8+CjxwYXRoIGQ9Ik0yMC40ODM5IDE1TDIyLjc0MTkgMTIuNzQxOUwyNSAxNUwyMi43NDE5IDE3LjI1ODFMMjAuNDgzOSAxNVoiIGZpbGw9IiNGMEI5MEIiLz4KPC9zdmc+Cg=="}),w(this,ZA,{writable:!0,value:null}),w(this,JA,{writable:!0,value:void 0}),w(this,XA,{writable:!0,value:function(e,t){var r;return(null===(r=m(n,WA)[e])||void 0===r?void 0:r.push(t))||(m(n,WA)[e]=[t]),function(){return EA(n,QA,fx).call(n,e,t)}}}),w(this,ex,{writable:!0,value:function(){var e,t=null===(e=m(n,JA).publicKey)||void 0===e?void 0:e.toBase58();if(t){var r=m(n,JA).publicKey.toBytes(),i=m(n,ZA);i&&i.address===t&&function(e,t){return function(e,t){if(e===t)return!0;var r=e.length;if(r!==t.length)return!1;for(var n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}(e,t)}(i.publicKey,r)||(SA(n,ZA,new FA({address:t,publicKey:r})),EA(n,YA,cx).call(n,"change",{accounts:n.accounts}))}}}),w(this,tx,{writable:!0,value:function(){m(n,ZA)&&(SA(n,ZA,null),EA(n,YA,cx).call(n,"change",{accounts:n.accounts}))}}),w(this,rx,{writable:!0,value:function(){m(n,JA).publicKey?m(n,ex).call(n):m(n,tx).call(n)}});var o=this;w(this,nx,{writable:!0,value:i(s().mark((function e(){var t,r=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(r.length>0&&void 0!==r[0]?r[0]:{}).silent,m(o,ZA)){e.next=4;break}return e.next=4,m(o,JA).connect(t?{onlyIfTrusted:!0}:void 0);case 4:return m(o,ex).call(o),e.abrupt("return",{accounts:o.accounts});case 6:case"end":return e.stop()}}),e)})))});var a=this;w(this,ix,{writable:!0,value:i(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(a,JA).disconnect();case 2:case"end":return e.stop()}}),e)})))});var u=this;w(this,ox,{writable:!0,value:i(s().mark((function e(){var t,r,n,i,o,a,c,f,l,h,d,p,g,y,b,w,v,_,S,E,A,x,k,T=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=T.length,r=new Array(t),n=0;n<t;n++)r[n]=T[n];if(console.log("provider method signAndSendTransaction called:",r),m(u,ZA)){e.next=4;break}throw new Error("not connected");case 4:if(i=[],1!==r.length){e.next=21;break}if(o=r[0],a=o.transaction,c=o.account,f=o.chain,l=o.options,d=(h=l||{}).minContextSlot,p=h.preflightCommitment,g=h.skipPreflight,y=h.maxRetries,c===m(u,ZA)){e.next=10;break}throw new Error("invalid account");case 10:if(OA(f)){e.next=12;break}throw new Error("invalid chain");case 12:return b=CA(a),console.log("isVersioned:",b),e.next=16,m(u,JA).signAndSendTransaction(b?n_.deserialize(a):r_.from(a),{preflightCommitment:p,minContextSlot:d,maxRetries:y,skipPreflight:g});case 16:w=e.sent.signature,console.log("signature in wallet.ts:",w),i.push({signature:ot().decode(w)}),e.next=54;break;case 21:if(!(r.length>1)){e.next=54;break}v=!0,_=!1,S=void 0,e.prev=23,E=r[Symbol.iterator]();case 25:if(v=(A=E.next()).done){e.next=40;break}return x=A.value,console.log("isVersioned when input more than 1:",CA(x.transaction)),e.t0=(k=i).push,e.t1=k,e.t2=hb,e.next=34,m(u,ox).call(u,x);case 34:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t0.apply.call(e.t0,e.t1,e.t4);case 37:v=!0,e.next=25;break;case 40:e.next=46;break;case 42:e.prev=42,e.t5=e.catch(23),_=!0,S=e.t5;case 46:e.prev=46,e.prev=47,v||null==E.return||E.return();case 49:if(e.prev=49,!_){e.next=52;break}throw S;case 52:return e.finish(49);case 53:return e.finish(46);case 54:return e.abrupt("return",i);case 55:case"end":return e.stop()}}),e,null,[[23,42,46,54],[47,,49,53]])})))});var c=this;w(this,sx,{writable:!0,value:i(s().mark((function e(){var t,r,n,i,o,a,u,f,l,h,d,p,g,y,b,w,v,_,S,E,A,x,k,T=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=T.length,r=new Array(t),n=0;n<t;n++)r[n]=T[n];if(console.log("provider method signTransaction called:",r),console.log("first input in string:",JSON.stringify(r[0])),m(c,ZA)){e.next=5;break}throw new Error("not connected");case 5:if(i=[],1!==r.length){e.next=26;break}if(o=r[0],a=o.transaction,u=o.account,f=o.chain,u===m(c,ZA)){e.next=10;break}throw new Error("invalid account");case 10:if(!f||OA(f)){e.next=12;break}throw new Error("invalid chain");case 12:return l=CA(a),console.log("isVersioned:",l),h=l?n_.deserialize(a):r_.from(a),console.log("about to pass to trust provider:",h),console.log("about to pass to trust provider JSON:",JSON.stringify(h)),e.next=19,m(c,JA).signTransaction(h);case 19:d=e.sent,console.log("provider sign finished:",d),p=l?d.serialize():new Uint8Array(d.serialize({requireAllSignatures:!1,verifySignatures:!1})),console.log("serialized sign finished:",p),i.push({signedTransaction:p}),e.next=69;break;case 26:if(!(r.length>1)){e.next=69;break}y=void 0,b=!0,w=!1,v=void 0,e.prev=30,_=r[Symbol.iterator]();case 32:if(b=(S=_.next()).done){e.next=50;break}if((E=S.value).account===m(c,ZA)){e.next=36;break}throw new Error("invalid account");case 36:if(A=CA(E.transaction),console.log("isVersioned when input more than 1:",A),!E.chain){e.next=47;break}if(OA(E.chain)){e.next=41;break}throw new Error("invalid chain");case 41:if(!y){e.next=46;break}if(E.chain===y){e.next=44;break}throw new Error("conflicting chain");case 44:e.next=47;break;case 46:y=E.chain;case 47:b=!0,e.next=32;break;case 50:e.next=56;break;case 52:e.prev=52,e.t0=e.catch(30),w=!0,v=e.t0;case 56:e.prev=56,e.prev=57,b||null==_.return||_.return();case 59:if(e.prev=59,!w){e.next=62;break}throw v;case 62:return e.finish(59);case 63:return e.finish(56);case 64:return x=UA(r.map((function(e){return e.transaction}))),e.next=67,m(c,JA).signAllTransactions(x);case 67:k=e.sent,(g=i).push.apply(g,hb(k.map((function(e){return{signedTransaction:NA(e)?e.serialize():new Uint8Array(e.serialize({requireAllSignatures:!1,verifySignatures:!1}))}}))));case 69:return console.log("about to return outputs",i),e.abrupt("return",i);case 71:case"end":return e.stop()}}),e,null,[[30,52,56,64],[57,,59,63]])})))});var f=this;w(this,ax,{writable:!0,value:i(s().mark((function e(){var t,r,n,i,o,a,u,c,l,h,d,p,g,y,b=arguments;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=b.length,r=new Array(t),n=0;n<t;n++)r[n]=b[n];if(console.log("provider method signMessage called:",r),m(f,ZA)){e.next=4;break}throw new Error("not connected");case 4:if(i=[],1!==r.length){e.next=15;break}if(o=r[0],a=o.message,o.account===m(f,ZA)){e.next=9;break}throw new Error("invalid account");case 9:return e.next=11,m(f,JA).signMessage(a);case 11:u=e.sent.signature,i.push({signedMessage:a,signature:u}),e.next=47;break;case 15:if(!(r.length>1)){e.next=47;break}c=!0,l=!1,h=void 0,e.prev=17,d=r[Symbol.iterator]();case 19:if(c=(p=d.next()).done){e.next=33;break}return g=p.value,e.t0=(y=i).push,e.t1=y,e.t2=hb,e.next=27,m(f,ax).call(f,g);case 27:e.t3=e.sent,e.t4=(0,e.t2)(e.t3),e.t0.apply.call(e.t0,e.t1,e.t4);case 30:c=!0,e.next=19;break;case 33:e.next=39;break;case 35:e.prev=35,e.t5=e.catch(17),l=!0,h=e.t5;case 39:e.prev=39,e.prev=40,c||null==d.return||d.return();case 42:if(e.prev=42,!l){e.next=45;break}throw h;case 45:return e.finish(42);case 46:return e.finish(39);case 47:return e.abrupt("return",i);case 48:case"end":return e.stop()}}),e,null,[[17,35,39,47],[40,,42,46]])})))}),SA(this,VA,r||ce),(Y(this,e)?this.constructor:void 0)===e&&Object.freeze(this),SA(this,JA,t),t.on("connect",m(this,ex),this),t.on("disconnect",m(this,tx),this),t.on("accountChanged",m(this,rx),this),m(this,ex).call(this)}return X(e,[{key:"version",get:function(){return m(this,$A)}},{key:"name",get:function(){return m(this,VA)}},{key:"icon",get:function(){return m(this,GA)}},{key:"chains",get:function(){return BA.slice()}},{key:"features",get:function(){var e;return _(e={},IA,{version:"1.0.0",connect:m(this,nx)}),_(e,MA,{version:"1.0.0",disconnect:m(this,ix)}),_(e,PA,{version:"1.0.0",on:m(this,XA)}),_(e,xA,{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:m(this,ox)}),_(e,kA,{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:m(this,sx)}),_(e,TA,{version:"1.0.0",signMessage:m(this,ax)}),_(e,"solanaWallet:",{solanaWallet:m(this,JA)}),e}},{key:"accounts",get:function(){return m(this,ZA)?[m(this,ZA)]:[]}}]),e}();function cx(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i;null===(i=m(this,WA)[e])||void 0===i||i.forEach((function(e){return e.apply(null,r)}))}function fx(e,t){var r;m(this,WA)[e]=null===(r=m(this,WA)[e])||void 0===r?void 0:r.filter((function(e){return t!==e}))}function lx(e){var t=function(t){return(0,t.register)(e)};try{globalThis.window.dispatchEvent(new dx(t))}catch(r){console.error("wallet-standard:register-wallet event could not be dispatched\n",r)}try{globalThis.window.addEventListener("wallet-standard:app-ready",(function(e){var r=e.detail;return t(r)}))}catch(n){console.error("wallet-standard:app-ready event listener could not be added\n",n)}}var hx=new WeakMap,dx=function(e){k(r,e);var t=N(r);function r(e){var n;return g(this,r),w(C(n=t.call(this,"wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1})),hx,{writable:!0,value:void 0}),SA(C(n),hx,e),n}return X(r,[{key:"detail",get:function(){return m(this,hx)}},{key:"type",get:function(){return"wallet-standard:register-wallet"}},{key:"preventDefault",value:function(){throw new Error("preventDefault cannot be called")}},{key:"stopImmediatePropagation",value:function(){throw new Error("stopImmediatePropagation cannot be called")}},{key:"stopPropagation",value:function(){throw new Error("stopPropagation cannot be called")}}]),r}(me(Event));var px=function(e){k(r,e);var t=N(r);function r(){var e;return g(this,r),_(C(e=t.call(this)),"_namespace","tron"),_(C(e),"_signMethod","ed25519"),e.on(oe.mpChangeConnectedAddress,(function(t){t!==e._connectedAddress&&e.emit("accountsChanged",[t])})),e}return X(r,[{key:"getChainId",value:function(){return this._connectedChainId}},{key:"getAccount",value:function(){var e=this;return i(s().mark((function t(){var r;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e._requestNormalConnect();case 2:return r=t.sent,t.abrupt("return",{address:r});case 4:case"end":return t.stop()}}),t)})))()}},{key:"signMessage",value:function(e){var t=this;return i(s().mark((function r(){var n;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("tron signMessage called:",e),r.next=3,t._universalSign({type:"signMessage",request:{id:1,jsonrpc:"2.0",method:"tron_signMessage",params:{message:e,pubkey:t._connectedPubKey}}});case 3:return n=r.sent.signature,r.abrupt("return",n);case 5:case"end":return r.stop()}}),r)})))()}},{key:"signMessageV2",value:function(e){var t=this;return i(s().mark((function r(){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("tron signMessageV2 called:",e),r.abrupt("return",t.signMessage(e));case 2:case"end":return r.stop()}}),r)})))()}},{key:"signTransaction",value:function(e){var t=this;return i(s().mark((function r(){var n;return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("tron signTransaction called:",e),r.next=3,t._universalSign({type:"signTransaction",request:{id:1,jsonrpc:"2.0",method:"tron_signTransaction",params:e}});case 3:return n=r.sent,r.abrupt("return",JSON.parse(n.transaction));case 5:case"end":return r.stop()}}),r)})))()}},{key:"signAndSendTransaction",value:function(e){var t=this;return i(s().mark((function r(){return s().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("tron signAndSendTransaction called:",e),r.next=3,t._universalSign({type:"sendTransaction",request:{id:1,jsonrpc:"2.0",method:"tron_signAndSendTransaction",params:e}});case 3:return r.abrupt("return",r.sent);case 4:case"end":return r.stop()}}),r)})))()}},{key:"disconnect",value:function(){return this._requestDisconnect()}}]),r}(Ye),gx="Binance Wallet",yx=function(){try{window.binancew3w={isExtension:!0}}catch(e){}!function(){var t=window,r=new Qe;try{Object.defineProperty(t,"ethereum",{value:r,writable:!0})}catch(e){}(function(e,t){var r=new Proxy(e,{deleteProperty:function(){return!0},get:function(e,t){return e[t]}});window.location.href.includes("airdrop.blast.io")?_A({info:{uuid:XE(),name:"MetaMask",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAiIGhlaWdodD0iMzAiIHZpZXdCb3g9IjAgMCAzMCAzMCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjMwIiBoZWlnaHQ9IjMwIiBmaWxsPSIjMEIwRTExIi8+CjxwYXRoIGQ9Ik01IDE1TDcuMjU4MDYgMTIuNzQxOUw5LjUxNjEzIDE1TDcuMjU4MDYgMTcuMjU4MUw1IDE1WiIgZmlsbD0iI0YwQjkwQiIvPgo8cGF0aCBkPSJNOC44NzA5NyAxMS4xMjlMMTUgNUwyMS4xMjkgMTEuMTI5TDE4Ljg3MSAxMy4zODcxTDE1IDkuNTE2MTNMMTEuMTI5IDEzLjM4NzFMOC44NzA5NyAxMS4xMjlaIiBmaWxsPSIjRjBCOTBCIi8+CjxwYXRoIGQ9Ik0xMi43NDE5IDE1TDE1IDEyLjc0MTlMMTcuMjU4MSAxNUwxNSAxNy4yNTgxTDEyLjc0MTkgMTVaIiBmaWxsPSIjRjBCOTBCIi8+CjxwYXRoIGQ9Ik0xMS4xMjkgMTYuNjEyOUw4Ljg3MDk3IDE4Ljg3MUwxNSAyNUwyMS4xMjkgMTguODcxTDE4Ljg3MSAxNi42MTI5TDE1IDIwLjQ4MzlMMTEuMTI5IDE2LjYxMjlaIiBmaWxsPSIjRjBCOTBCIi8+CjxwYXRoIGQ9Ik0yMC40ODM5IDE1TDIyLjc0MTkgMTIuNzQxOUwyNSAxNUwyMi43NDE5IDE3LjI1ODFMMjAuNDgzOSAxNVoiIGZpbGw9IiNGMEI5MEIiLz4KPC9zdmc+Cg==",rdns:"io.metamask"},provider:r}):window.location.href.includes("uniswap.org")?_A({info:{uuid:XE(),name:ce,icon:fe,rdns:"wallet.binance.com"},provider:r}):_A({info:{uuid:XE(),name:t||ce,icon:fe,rdns:"com.binance.wallet"},provider:r})})(r,gx),F.registerProvider(r),t.binancew3w.ethereum=r}(),function(){var t=window,r=new FE;try{t.solana=r}catch(e){}F.registerProvider(r),lx(new ux(r,gx)),t.binancew3w.solana=r}(),function(){var e=new px;F.registerProvider(e),window.binancew3w.tron=e,console.log("tron registered")}(),mx()};var mx=function(){var e=new pa;F.registerProvider(e),G(e);try{window.sui=e}catch(t){}try{window.binancew3w.sui=e}catch(r){}return e};function bx(){return(bx=i(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:W(),yx();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){bx.apply(this,arguments)}()})()})();